this.createjs=this.createjs||{};
(function(){var c=function(b,a,d){this.initialize(b,a,d)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(b,a,d){this.type=b;this.bubbles=a;this.cancelable=d;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent;b.willTrigger=a.willTrigger};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(b,a,d){var f;f=d?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var c=f[b];return c&&this.removeEventListener(b,a,d),c=f[b],c?c.push(a):f[b]=[a],a};a.on=function(b,a,d,f,c,g){return a.handleEvent&&(d=d||a,a=a.handleEvent),d=d||this,this.addEventListener(b,function(b){a.call(d,b,c);f&&b.remove()},g)};a.removeEventListener=function(b,a,d){if(d=d?this._captureListeners:this._listeners){var f=d[b];if(f)for(var c=0,g=f.length;g>c;c++)if(f[c]==a){1==g?delete d[b]:f.splice(c,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=
function(b){b?(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(b,a){if("string"==typeof b){var d=this._listeners;if(!d||!d[b])return!1;b=new createjs.Event(b)}if(b.target=a||this,b.bubbles&&this.parent){for(var f=this,d=[f];f.parent;)d.push(f=f.parent);for(var c=d.length,f=c-1;0<=f&&!b.propagationStopped;f--)d[f]._dispatchEvent(b,1+(0==f));for(f=1;c>f&&!b.propagationStopped;f++)d[f]._dispatchEvent(b,
3)}else this._dispatchEvent(b,2);return b.defaultPrevented};a.hasEventListener=function(b){var a=this._listeners,d=this._captureListeners;return!!(a&&a[b]||d&&d[b])};a.willTrigger=function(b){for(var a=this;a;){if(a.hasEventListener(b))return!0;a=a.parent}return!1};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(b,a){var d,f=1==a?this._captureListeners:this._listeners;if(b&&f&&(f=f[b.type])&&(d=f.length)){b.currentTarget=this;b.eventPhase=a;b.removed=!1;for(var f=f.slice(),
c=0;d>c&&!b.immediatePropagationStopped;c++){var g=f[c];g.handleEvent?g.handleEvent(b):g(b);b.removed&&(this.off(b.type,g,1==a),b.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,a){for(var b=0,m=c.length;m>b;b++)if(a===c[b])return b;return-1}})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();
this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=0;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){return!c._inited&&c.init(),c._addEventListener.apply(c,arguments)};c._paused=!1;c._inited=!1;c._startTime=
0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=!0;c.init=function(){c._inited||(c._inited=!0,c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.setInterval(c._interval))};c.reset=function(){if(c._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;b&&b(c._timerId)}else clearTimeout(c._timerId);
c.removeAllEventListeners("tick")};c.setInterval=function(b){c._interval=b;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(b){c.setInterval(1E3/b)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(b){var a=0,d=c._tickTimes;if(1>d.length)return-1;b=Math.min(d.length,b||0|c.getFPS());for(var f=0;b>f;f++)a+=d[f];return a/b};c.getMeasuredFPS=function(b){var a=c._times;return 2>a.length?-1:(b=Math.min(a.length-1,b||0|c.getFPS()),1E3/((a[0]-
a[b])/b))};c.setPaused=function(b){c._paused=b};c.getPaused=function(){return c._paused};c.getTime=function(b){return c._getTime()-c._startTime-(b?c._pausedTime:0)};c.getEventTime=function(b){return(c._lastTime||c._startTime)-(b?c._pausedTime:0)};c.getTicks=function(b){return c._ticks-(b?c._pausedTicks:0)};c._handleSynch=function(){var b=c._getTime()-c._startTime;c._timerId=null;c._setupTick();b-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};
c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(null==c._timerId){var b=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(b==c.RAF_SYNCHED||b==c.RAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a)return c._timerId=a(b==c.RAF?c._handleRAF:c._handleSynch),c._raf=!0,void 0}c._raf=!1;c._timerId=setTimeout(c._handleTimeout,c._interval)}};
c._tick=function(){var b=c._getTime()-c._startTime,a=b-c._lastTime,d=c._paused;if(c._ticks++,d&&(c._pausedTicks++,c._pausedTime+=a),c._lastTime=b,c.hasEventListener("tick")){var f=new createjs.Event("tick"),e=c.maxDelta;f.delta=e&&a>e?e:a;f.paused=d;f.time=b;f.runTime=b-c._pausedTime;c.dispatchEvent(f)}for(c._tickTimes.unshift(c._getTime()-b);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(b);100<c._times.length;)c._times.pop()};var a=window.performance&&(performance.now||performance.mozNow||
performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return a&&a.call(performance)||(new Date).getTime()};createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,f,c,g,h,k,l,n,p){this.initialize(b,a,f,c,g,h,k,l,n,p)},a=c.prototype=new createjs.Event;a.stageX=0;a.stageY=0;a.rawX=0;a.rawY=0;a.nativeEvent=null;a.pointerID=0;a.primary=!1;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};a._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,
this.rawY).y};try{Object.defineProperties(a,{localX:{get:a._get_localX},localY:{get:a._get_localY}})}catch(b){}a.Event_initialize=a.initialize;a.initialize=function(b,a,f,c,g,h,k,l,n,p){this.Event_initialize(b,a,f);this.stageX=c;this.stageY=g;this.nativeEvent=h;this.pointerID=k;this.primary=l;this.rawX=null==n?c:n;this.rawY=null==p?g:p};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,
this.rawY)};a.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,f,c,g){this.initialize(b,a,d,f,c,g)},a=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;a.a=1;a.b=0;a.c=0;a.d=1;a.tx=0;a.ty=0;a.alpha=1;a.shadow=null;a.compositeOperation=null;a.initialize=function(b,a,d,f,c,g){return this.a=null==b?1:b,this.b=a||0,this.c=d||0,this.d=null==f?1:f,this.tx=c||0,this.ty=g||0,this};a.prepend=function(b,a,d,f,c,g){var h=this.tx;if(1!=b||0!=a||0!=d||1!=f){var k=this.a,l=this.c;this.a=k*b+this.b*d;this.b=k*a+this.b*f;this.c=l*b+this.d*
d;this.d=l*a+this.d*f}return this.tx=h*b+this.ty*d+c,this.ty=h*a+this.ty*f+g,this};a.append=function(b,a,d,f,c,g){var h=this.a,k=this.b,l=this.c,n=this.d;return this.a=b*h+a*l,this.b=b*k+a*n,this.c=d*h+f*l,this.d=d*k+f*n,this.tx=c*h+g*l+this.tx,this.ty=c*k+g*n+this.ty,this};a.prependMatrix=function(b){return this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty),this.prependProperties(b.alpha,b.shadow,b.compositeOperation),this};a.appendMatrix=function(b){return this.append(b.a,b.b,b.c,b.d,b.tx,b.ty),this.appendProperties(b.alpha,
b.shadow,b.compositeOperation),this};a.prependTransform=function(b,a,d,f,e,g,h,k,l){if(e%360){var n=e*c.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;return(k||l)&&(this.tx-=k,this.ty-=l),g||h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(e*d,n*d,-n*f,e*f,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,a)):this.prepend(e*d,n*d,-n*f,e*f,b,a),this};a.appendTransform=function(b,a,d,f,e,g,h,k,l){if(e%360){var n=e*c.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;return g||
h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),b,a),this.append(e*d,n*d,-n*f,e*f,0,0)):this.append(e*d,n*d,-n*f,e*f,b,a),(k||l)&&(this.tx-=k*this.a+l*this.c,this.ty-=k*this.b+l*this.d),this};a.rotate=function(b){var a=Math.cos(b);b=Math.sin(b);var d=this.a,f=this.c,c=this.tx;return this.a=d*a-this.b*b,this.b=d*b+this.b*a,this.c=f*a-this.d*b,this.d=f*b+this.d*a,this.tx=c*a-this.ty*b,this.ty=c*b+this.ty*a,this};a.skew=function(b,a){return b*=c.DEG_TO_RAD,
a*=c.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(b),Math.cos(b),0,0),this};a.scale=function(b,a){return this.a*=b,this.d*=a,this.c*=b,this.b*=a,this.tx*=b,this.ty*=a,this};a.translate=function(b,a){return this.tx+=b,this.ty+=a,this};a.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this};a.invert=function(){var b=this.a,a=this.b,d=this.c,f=this.d,c=this.tx,g=b*f-a*d;return this.a=f/g,this.b=-a/g,this.c=-d/
g,this.d=b/g,this.tx=(d*this.ty-f*c)/g,this.ty=-(b*this.ty-a*c)/g,this};a.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};a.transformPoint=function(b,a,d){return d=d||{},d.x=b*this.a+a*this.c+this.tx,d.y=b*this.b+a*this.d+this.ty,d};a.decompose=function(b){null==b&&(b={});b.x=this.tx;b.y=this.ty;b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var a=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,this.a);
return a==d?(b.rotation=d/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(b.rotation+=0>=b.rotation?180:-180),b.skewX=b.skewY=0):(b.skewX=a/c.DEG_TO_RAD,b.skewY=d/c.DEG_TO_RAD),b};a.reinitialize=function(b,a,d,f,c,g,h,k,l){return this.initialize(b,a,d,f,c,g),this.alpha=null==h?1:h,this.shadow=k,this.compositeOperation=l,this};a.copy=function(b){return this.reinitialize(b.a,b.b,b.c,b.d,b.tx,b.ty,b.alpha,b.shadow,b.compositeOperation)};a.appendProperties=function(b,a,d){return this.alpha*=b,this.shadow=a||this.shadow,
this.compositeOperation=d||this.compositeOperation,this};a.prependProperties=function(b,a,d){return this.alpha*=b,this.shadow=this.shadow||a,this.compositeOperation=this.compositeOperation||d,this};a.clone=function(){return(new c).copy(this)};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype;a.x=0;a.y=0;a.initialize=function(b,a){return this.x=null==b?0:b,this.y=null==a?0:a,this};a.copy=function(b){return this.initialize(b.x,b.y)};a.clone=function(){return new c(this.x,this.y)};a.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,f){this.initialize(b,a,d,f)},a=c.prototype;a.x=0;a.y=0;a.width=0;a.height=0;a.initialize=function(b,a,d,f){return this.x=b||0,this.y=a||0,this.width=d||0,this.height=f||0,this};a.copy=function(b){return this.initialize(b.x,b.y,b.width,b.height)};a.clone=function(){return new c(this.x,this.y,this.width,this.height)};a.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();
this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,f,c,g,h){this.initialize(b,a,d,f,c,g,h)},a=c.prototype;a.target=null;a.overLabel=null;a.outLabel=null;a.downLabel=null;a.play=!1;a._isPressed=!1;a._isOver=!1;a.initialize=function(b,a,d,f,c,g,h){b.addEventListener&&(this.target=b,b.cursor="pointer",this.overLabel=null==d?"over":d,this.outLabel=null==a?"out":a,this.downLabel=null==f?"down":f,this.play=c,this.setEnabled(!0),this.handleEvent({}),g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),b.hitArea=g))};
a.setEnabled=function(b){var a=this.target;b?(a.addEventListener("rollover",this),a.addEventListener("rollout",this),a.addEventListener("mousedown",this),a.addEventListener("pressup",this)):(a.removeEventListener("rollover",this),a.removeEventListener("rollout",this),a.removeEventListener("mousedown",this),a.removeEventListener("pressup",this))};a.toString=function(){return"[ButtonHelper]"};a.handleEvent=function(b){var a,d=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,a=this.downLabel):
"pressup"==b?(this._isPressed=!1,a=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,a=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,a=this._isPressed?this.overLabel:this.outLabel);this.play?d.gotoAndPlay&&d.gotoAndPlay(a):d.gotoAndStop&&d.gotoAndStop(a)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,f){this.initialize(b,a,d,f)},a=c.prototype;c.identity=null;a.color=null;a.offsetX=0;a.offsetY=0;a.blur=0;a.initialize=function(b,a,d,f){this.color=b;this.offsetX=a;this.offsetY=d;this.blur=f};a.toString=function(){return"[Shadow]"};a.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.EventDispatcher;a.complete=!0;a.framerate=0;a._animations=null;a._frames=null;a._images=null;a._data=null;a._loadCount=0;a._frameHeight=0;a._frameWidth=0;a._numFrames=0;a._regX=0;a._regY=0;a.initialize=function(b){var a,d,f;if(null!=b){if(this.framerate=b.framerate||0,b.images&&0<(d=b.images.length))for(f=this._images=[],a=0;d>a;a++){var c=b.images[a];if("string"==typeof c){var g=c,c=document.createElement("img");c.src=g}f.push(c);
c.getContext||c.complete||(this._loadCount++,this.complete=!1,function(b){c.onload=function(){b._handleImageLoad()}}(this))}if(null!=b.frames)if(b.frames instanceof Array)for(this._frames=[],f=b.frames,a=0,d=f.length;d>a;a++)g=f[a],this._frames.push({image:this._images[g[4]?g[4]:0],rect:new createjs.Rectangle(g[0],g[1],g[2],g[3]),regX:g[5]||0,regY:g[6]||0});else d=b.frames,this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._numFrames=d.count,0==this._loadCount&&
this._calculateFrames();if(this._animations=[],null!=(d=b.animations)){this._data={};for(var h in d){b={name:h};g=d[h];if("number"==typeof g)f=b.frames=[g];else if(g instanceof Array)if(1==g.length)b.frames=[g[0]];else for(b.speed=g[3],b.next=g[2],f=b.frames=[],a=g[0];a<=g[1];a++)f.push(a);else b.speed=g.speed,b.next=g.next,a=g.frames,f=b.frames="number"==typeof a?[a]:a.slice(0);!0!==b.next&&void 0!==b.next||(b.next=h);(!1===b.next||2>f.length&&b.next==h)&&(b.next=null);b.speed||(b.speed=1);this._animations.push(h);
this._data[h]=b}}}};a.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames;b=this._data[b];return null==b?0:b.frames.length};a.getAnimations=function(){return this._animations.slice(0)};a.getAnimation=function(b){return this._data[b]};a.getFrame=function(b){var a;return this._frames&&(a=this._frames[b])?a:null};a.getFrameBounds=function(b,a){var d=this.getFrame(b);return d?(a||new createjs.Rectangle).initialize(-d.regX,-d.regY,d.rect.width,d.rect.height):null};
a.toString=function(){return"[SpriteSheet]"};a.clone=function(){var b=new c;return b.complete=this.complete,b._animations=this._animations,b._frames=this._frames,b._images=this._images,b._data=this._data,b._frameHeight=this._frameHeight,b._frameWidth=this._frameWidth,b._numFrames=this._numFrames,b._loadCount=this._loadCount,b};a._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};a._calculateFrames=function(){if(!this._frames&&
0!=this._frameWidth){this._frames=[];for(var b=0,a=this._frameWidth,d=this._frameHeight,f=0,c=this._images;f<c.length;f++){for(var g=c[f],h=0|g.width/a,k=0|g.height/d,k=0<this._numFrames?Math.min(this._numFrames-b,h*k):h*k,l=0;k>l;l++)this._frames.push({image:g,rect:new createjs.Rectangle(l%h*a,(0|l/h)*d,a,d),regX:this._regX,regY:this._regY});b+=k}this._numFrames=b}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(b,a,d){this.f=b;this.params=a;this.path=null==d?!0:d}c.prototype.exec=function(b){this.f.apply(b,this.params)};var a=function(){this.initialize()},b=a.prototype;a.getRGB=function(b,a,d,c){return null!=b&&null==d&&(c=a,d=255&b,a=255&b>>8,b=255&b>>16),null==c?"rgb("+b+","+a+","+d+")":"rgba("+b+","+a+","+d+","+c+")"};a.getHSL=function(b,a,d,c){return null==c?"hsl("+b%360+","+a+"%,"+d+"%)":"hsla("+b%360+","+a+"%,"+d+"%,"+c+")"};a.Command=c;a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};a.STROKE_CAPS_MAP=["butt","round","square"];a.STROKE_JOINTS_MAP=["miter","round","bevel"];var m=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(m.getContext){var d=a._ctx=m.getContext("2d");
a.beginCmd=new c(d.beginPath,[],!1);a.fillCmd=new c(d.fill,[],!1);a.strokeCmd=new c(d.stroke,[],!1);m.width=m.height=1}b._strokeInstructions=null;b._strokeStyleInstructions=null;b._strokeIgnoreScale=!1;b._fillInstructions=null;b._fillMatrix=null;b._instructions=null;b._oldInstructions=null;b._activeInstructions=null;b._active=!1;b._dirty=!1;b.initialize=function(){this.clear();this._ctx=a._ctx};b.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};
b.draw=function(b){this._dirty&&this._updateInstructions();for(var a=this._instructions,d=0,c=a.length;c>d;d++)a[d].exec(b)};b.drawAsPath=function(b){this._dirty&&this._updateInstructions();for(var a,d=this._instructions,c=0,m=d.length;m>c;c++)((a=d[c]).path||0==c)&&a.exec(b)};b.moveTo=function(b,a){return this._activeInstructions.push(new c(this._ctx.moveTo,[b,a])),this};b.lineTo=function(b,a){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.lineTo,[b,a])),this};b.arcTo=
function(b,a,d,m,k){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.arcTo,[b,a,d,m,k])),this};b.arc=function(b,a,d,m,k,l){return this._dirty=this._active=!0,null==l&&(l=!1),this._activeInstructions.push(new c(this._ctx.arc,[b,a,d,m,k,l])),this};b.quadraticCurveTo=function(b,a,d,m){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[b,a,d,m])),this};b.bezierCurveTo=function(b,a,d,m,k,l){return this._dirty=this._active=
!0,this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[b,a,d,m,k,l])),this};b.rect=function(b,a,d,m){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.rect,[b,a,d,m])),this};b.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[]))),this};b.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=
this._fillMatrix=null,this._active=this._dirty=this._strokeIgnoreScale=!1,this};b.beginFill=function(b){return this._active&&this._newPath(),this._fillInstructions=b?[new c(this._setProp,["fillStyle",b],!1)]:null,this._fillMatrix=null,this};b.beginLinearGradientFill=function(b,a,d,m,k,l){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,m,k,l);m=0;for(k=b.length;k>m;m++)d.addColorStop(a[m],b[m]);return this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)],this._fillMatrix=
null,this};b.beginRadialGradientFill=function(b,a,d,m,k,l,n,p){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,m,k,l,n,p);m=0;for(k=b.length;k>m;m++)d.addColorStop(a[m],b[m]);return this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)],this._fillMatrix=null,this};b.beginBitmapFill=function(b,a,d){this._active&&this._newPath();b=this._ctx.createPattern(b,a||"");return this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)],this._fillMatrix=d?[d.a,d.b,d.c,d.d,d.tx,
d.ty]:null,this};b.endFill=function(){return this.beginFill()};b.setStrokeStyle=function(b,d,m,h,k){return this._active&&this._newPath(),this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==b?"1":b],!1),new c(this._setProp,["lineCap",null==d?"butt":isNaN(d)?d:a.STROKE_CAPS_MAP[d]],!1),new c(this._setProp,["lineJoin",null==m?"miter":isNaN(m)?m:a.STROKE_JOINTS_MAP[m]],!1),new c(this._setProp,["miterLimit",null==h?"10":h],!1)],this._strokeIgnoreScale=k,this};b.beginStroke=function(b){return this._active&&
this._newPath(),this._strokeInstructions=b?[new c(this._setProp,["strokeStyle",b],!1)]:null,this};b.beginLinearGradientStroke=function(b,a,d,m,k,l){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,m,k,l);m=0;for(k=b.length;k>m;m++)d.addColorStop(a[m],b[m]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)],this};b.beginRadialGradientStroke=function(b,a,d,m,k,l,n,p){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,m,k,l,n,p);m=0;for(k=b.length;k>
m;m++)d.addColorStop(a[m],b[m]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)],this};b.beginBitmapStroke=function(b,a){this._active&&this._newPath();var d=this._ctx.createPattern(b,a||"");return this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)],this};b.endStroke=function(){return this.beginStroke(),this};b.curveTo=b.quadraticCurveTo;b.drawRect=b.rect;b.drawRoundRect=function(b,a,d,m,c){return this.drawRoundRectComplex(b,a,d,m,c,c,c,c),this};b.drawRoundRectComplex=
function(b,a,d,m,k,l,n,p){var s=(m>d?d:m)/2,q=0,r=0,v=0,t=0;0>k&&(k*=q=-1);k>s&&(k=s);0>l&&(l*=r=-1);l>s&&(l=s);0>n&&(n*=v=-1);n>s&&(n=s);0>p&&(p*=t=-1);p>s&&(p=s);this._dirty=this._active=!0;var s=this._ctx.arcTo,u=this._ctx.lineTo;return this._activeInstructions.push(new c(this._ctx.moveTo,[b+d-l,a]),new c(s,[b+d+l*r,a-l*r,b+d,a+l,l]),new c(u,[b+d,a+m-n]),new c(s,[b+d+n*v,a+m+n*v,b+d-n,a+m,n]),new c(u,[b+p,a+m]),new c(s,[b-p*t,a+m+p*t,b,a+m-p,p]),new c(u,[b,a+k]),new c(s,[b-k*q,a-k*q,b+k,a,k]),
new c(this._ctx.closePath)),this};b.drawCircle=function(b,a,d){return this.arc(b,a,d,0,2*Math.PI),this};b.drawEllipse=function(b,a,d,m){this._dirty=this._active=!0;var k=d/2*0.5522848,l=m/2*0.5522848,n=b+d,p=a+m;d=b+d/2;m=a+m/2;return this._activeInstructions.push(new c(this._ctx.moveTo,[b,m]),new c(this._ctx.bezierCurveTo,[b,m-l,d-k,a,d,a]),new c(this._ctx.bezierCurveTo,[d+k,a,n,m-l,n,m]),new c(this._ctx.bezierCurveTo,[n,m+l,d+k,p,d,p]),new c(this._ctx.bezierCurveTo,[d-k,p,b,m+l,b,m])),this};b.inject=
function(b,a){return this._dirty=this._active=!0,this._activeInstructions.push(new c(b,[a])),this};b.drawPolyStar=function(b,a,d,m,k,l){this._dirty=this._active=!0;null==k&&(k=0);k=1-k;null==l?l=0:l/=180/Math.PI;var n=Math.PI/m;this._activeInstructions.push(new c(this._ctx.moveTo,[b+Math.cos(l)*d,a+Math.sin(l)*d]));for(var p=0;m>p;p++)l+=n,1!=k&&this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(l)*d*k,a+Math.sin(l)*d*k])),l+=n,this._activeInstructions.push(new c(this._ctx.lineTo,[b+
Math.cos(l)*d,a+Math.sin(l)*d]));return this};b.decodePath=function(b){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],m=[2,2,4,6,0],c=0,k=b.length,l=[],n=0,p=0,s=a.BASE_64;k>c;){var q=b.charAt(c),r=s[q],v=r>>3,t=d[v];if(!t||3&r)throw"bad path data (@"+c+"): "+q;q=m[v];v||(n=p=0);l.length=0;c++;r=(1&r>>2)+2;for(v=0;q>v;v++){var u=s[b.charAt(c)],y=u>>5?-1:1,u=(31&u)<<6|s[b.charAt(c+1)];3==r&&(u=u<<6|s[b.charAt(c+2)]);u=y*u/10;v%2?n=u+=n:p=u+=p;l[v]=u;c+=
r}t.apply(this,l)}return this};b.clone=function(){var b=new a;return b._instructions=this._instructions.slice(),b._activeInstructions=this._activeInstructions.slice(),b._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(b._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(b._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(b._strokeStyleInstructions=this._strokeStyleInstructions.slice()),b._active=this._active,b._dirty=
this._dirty,b._fillMatrix=this._fillMatrix,b._strokeIgnoreScale=this._strokeIgnoreScale,b};b.toString=function(){return"[Graphics]"};b.mt=b.moveTo;b.lt=b.lineTo;b.at=b.arcTo;b.bt=b.bezierCurveTo;b.qt=b.quadraticCurveTo;b.a=b.arc;b.r=b.rect;b.cp=b.closePath;b.c=b.clear;b.f=b.beginFill;b.lf=b.beginLinearGradientFill;b.rf=b.beginRadialGradientFill;b.bf=b.beginBitmapFill;b.ef=b.endFill;b.ss=b.setStrokeStyle;b.s=b.beginStroke;b.ls=b.beginLinearGradientStroke;b.rs=b.beginRadialGradientStroke;b.bs=b.beginBitmapStroke;
b.es=b.endStroke;b.dr=b.drawRect;b.rr=b.drawRoundRect;b.rc=b.drawRoundRectComplex;b.dc=b.drawCircle;b.de=b.drawEllipse;b.dp=b.drawPolyStar;b.p=b.decodePath;b._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(a.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);
this._fillInstructions&&this._appendDraw(a.fillCmd,this._fillMatrix);this._strokeInstructions&&this._appendDraw(a.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};b._appendInstructions=function(b){b&&this._instructions.push.apply(this._instructions,b)};b._appendDraw=function(b,a){a?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.transform,a,!1),b,new c(this._ctx.restore,[],!1)):this._instructions.push(b)};b._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=
this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};b._setProp=function(b,a){this[b]=a};createjs.Graphics=a})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.EventDispatcher;c._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");c.suppressCrossDomainErrors=!1;var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._hitTestCanvas=b,c._hitTestContext=b.getContext("2d"),b.width=b.height=1);c._nextCacheID=1;a.alpha=1;a.cacheCanvas=null;a.id=-1;a.mouseEnabled=!0;a.tickEnabled=!0;a.name=
null;a.parent=null;a.regX=0;a.regY=0;a.rotation=0;a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.shadow=null;a.visible=!0;a.x=0;a.y=0;a.compositeOperation=null;a.snapToPixel=!1;a.filters=null;a.cacheID=0;a.mask=null;a.hitArea=null;a.cursor=null;a._cacheOffsetX=0;a._cacheOffsetY=0;a._cacheScale=1;a._cacheDataURLID=0;a._cacheDataURL=null;a._matrix=null;a._rectangle=null;a._bounds=null;a.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D;this._rectangle=new createjs.Rectangle};
a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};a.draw=function(b,a){var c=this.cacheCanvas;if(a||!c)return!1;var e,g=this._cacheScale,h=this._cacheOffsetX,k=this._cacheOffsetY;return(e=this._applyFilterBounds(h,k,0,0))&&(h=e.x,k=e.y),b.drawImage(c,h,k,c.width/g,c.height/g),!0};a.updateContext=function(b){var a,c=this.mask;c&&c.graphics&&!c.graphics.isEmpty()&&(a=c.getMatrix(c._matrix),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),c.graphics.drawAsPath(b),b.clip(),
a.invert(),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty));a=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?b.transform(a.a,a.b,a.c,a.d,0|a.tx+0.5,0|a.ty+0.5):b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};a.cache=function(b,
a,c,e,g){g=g||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=e;this._cacheOffsetX=b;this._cacheOffsetY=a;this._cacheScale=g;this.updateCache()};a.updateCache=function(b){var a,f=this.cacheCanvas,e=this._cacheScale,g=this._cacheOffsetX*e,h=this._cacheOffsetY*e,k=this._cacheWidth,l=this._cacheHeight;if(!f)throw"cache() must be called before updateCache()";var n=f.getContext("2d");(a=this._applyFilterBounds(g,
h,k,l))&&(g=a.x,h=a.y,k=a.width,l=a.height);k=Math.ceil(k*e);l=Math.ceil(l*e);k!=f.width||l!=f.height?(f.width=k,f.height=l):b||n.clearRect(0,0,k+1,l+1);n.save();n.globalCompositeOperation=b;n.setTransform(e,0,0,e,-g,-h);this.draw(n,!0);this._applyFilters();n.restore();this.cacheID=c._nextCacheID++};a.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};a.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=
this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};a.getStage=function(){for(var b=this;b.parent;)b=b.parent;return b instanceof createjs.Stage?b:null};a.localToGlobal=function(b,a){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.append(1,0,0,1,b,a),new createjs.Point(c.tx,c.ty))};a.globalToLocal=function(b,a){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.invert(),c.append(1,0,0,1,b,a),new createjs.Point(c.tx,
c.ty))};a.localToLocal=function(b,a,c){b=this.localToGlobal(b,a);return c.globalToLocal(b.x,b.y)};a.setTransform=function(b,a,c,e,g,h,k,l,n){return this.x=b||0,this.y=a||0,this.scaleX=null==c?1:c,this.scaleY=null==e?1:e,this.rotation=g||0,this.skewX=h||0,this.skewY=k||0,this.regX=l||0,this.regY=n||0,this};a.getMatrix=function(b){return(b?b.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,
this.shadow,this.compositeOperation)};a.getConcatenatedMatrix=function(b){b?b.identity():b=new createjs.Matrix2D;for(var a=this;null!=a;)b.prependTransform(a.x,a.y,a.scaleX,a.scaleY,a.rotation,a.skewX,a.skewY,a.regX,a.regY).prependProperties(a.alpha,a.shadow,a.compositeOperation),a=a.parent;return b};a.hitTest=function(b,a){var f=c._hitTestContext;f.setTransform(1,0,0,1,-b,-a);this.draw(f);var e=this._testHit(f);return f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,2,2),e};a.set=function(b){for(var a in b)this[a]=
b[a];return this};a.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var a=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,b.width/a,b.height/a)}return null};a.getTransformedBounds=function(){return this._getBounds()};a.setBounds=function(b,a,c,e){null==b&&(this._bounds=b);this._bounds=(this._bounds||new createjs.Rectangle).initialize(b,a,c,e)};a.clone=function(){var b=new c;return this.cloneProps(b),
b};a.toString=function(){return"[DisplayObject (name="+this.name+")]"};a.cloneProps=function(b){b.alpha=this.alpha;b.name=this.name;b.regX=this.regX;b.regY=this.regY;b.rotation=this.rotation;b.scaleX=this.scaleX;b.scaleY=this.scaleY;b.shadow=this.shadow;b.skewX=this.skewX;b.skewY=this.skewY;b.visible=this.visible;b.x=this.x;b.y=this.y;b._bounds=this._bounds;b.mouseEnabled=this.mouseEnabled;b.compositeOperation=this.compositeOperation};a._applyShadow=function(b,a){a=a||Shadow.identity;b.shadowColor=
a.color;b.shadowOffsetX=a.offsetX;b.shadowOffsetY=a.offsetY;b.shadowBlur=a.blur};a._tick=function(b){var a=this._listeners;a&&a.tick&&(a=new createjs.Event("tick"),a.params=b,this._dispatchEvent(a,this,2))};a._testHit=function(b){try{var a=1<b.getImageData(0,0,1,1).data[3]}catch(f){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return a};a._applyFilters=function(){if(this.filters&&
0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,a=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,e=this.cacheCanvas.height,g=0;b>g;g++)this.filters[g].applyFilter(a,0,0,c,e)};a._applyFilterBounds=function(b,a,c,e){var g,h,k=this.filters;if(!k||!(h=k.length))return null;for(k=0;h>k;k++){var l=this.filters[k];(l=l.getBounds&&l.getBounds())&&(g||(g=this._rectangle.initialize(b,a,c,e)),g.x+=l.x,g.y+=l.y,g.width+=l.width,g.height+=l.height)}return g};a._getBounds=function(b,
a){return this._transformBounds(this.getBounds(),b,a)};a._transformBounds=function(b,a,c){if(!b)return b;var e=b.x,g=b.y,h=b.width,k=b.height,l=c?this._matrix.identity():this.getMatrix(this._matrix);(e||g)&&l.appendTransform(0,0,1,1,0,0,0,-e,-g);a&&l.prependMatrix(a);a=h*l.a;h*=l.b;c=k*l.c;var k=k*l.d,n=l.tx,l=l.ty,p=n,s=n,q=l,r=l;return(e=a+n)<p?p=e:e>s&&(s=e),(e=a+c+n)<p?p=e:e>s&&(s=e),(e=c+n)<p?p=e:e>s&&(s=e),(g=h+l)<q?q=g:g>r&&(r=g),(g=h+k+l)<q?q=g:g>r&&(r=g),(g=k+l)<q?q=g:g>r&&(r=g),b.initialize(p,
q,s-p,r-q)};a._hasMouseEventListener=function(){for(var b=c._MOUSE_EVENTS,a=0,f=b.length;f>a;a++)if(this.hasEventListener(b[a]))return!0;return!!this.cursor};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.DisplayObject;a.children=null;a.mouseChildren=!0;a.tickChildren=!0;a.DisplayObject_initialize=a.initialize;a.initialize=function(){this.DisplayObject_initialize();this.children=[]};a.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;for(var d=this.children.slice(0),
c=0,e=d.length;e>c;c++){var g=d[c];g.isVisible()&&(b.save(),g.updateContext(b),g.draw(b),b.restore())}return!0};a.addChild=function(b){if(null==b)return b;var a=arguments.length;if(1<a){for(var d=0;a>d;d++)this.addChild(arguments[d]);return arguments[a-1]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.push(b),b};a.addChildAt=function(b,a){var d=arguments.length,c=arguments[d-1];if(0>c||c>this.children.length)return arguments[d-2];if(2<d){for(var e=0;d-1>e;e++)this.addChildAt(arguments[e],
c+e);return arguments[d-2]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(a,0,b),b};a.removeChild=function(b){var a=arguments.length;if(1<a){for(var d=!0,c=0;a>c;c++)d=d&&this.removeChild(arguments[c]);return d}return this.removeChildAt(createjs.indexOf(this.children,b))};a.removeChildAt=function(b){var a=arguments.length;if(1<a){for(var d=[],c=0;a>c;c++)d[c]=arguments[c];d.sort(function(b,a){return a-b});for(var e=!0,c=0;a>c;c++)e=e&&this.removeChildAt(d[c]);return e}if(0>
b||b>this.children.length-1)return!1;a=this.children[b];return a&&(a.parent=null),this.children.splice(b,1),!0};a.removeAllChildren=function(){for(var b=this.children;b.length;)b.pop().parent=null};a.getChildAt=function(b){return this.children[b]};a.getChildByName=function(b){for(var a=this.children,d=0,c=a.length;c>d;d++)if(a[d].name==b)return a[d];return null};a.sortChildren=function(b){this.children.sort(b)};a.getChildIndex=function(b){return createjs.indexOf(this.children,b)};a.getNumChildren=
function(){return this.children.length};a.swapChildrenAt=function(b,a){var d=this.children,c=d[b],e=d[a];c&&e&&(d[b]=e,d[a]=c)};a.swapChildren=function(b,a){for(var d,c,e=this.children,g=0,h=e.length;h>g&&(e[g]==b&&(d=g),e[g]==a&&(c=g),null==d||null==c);g++);g!=h&&(e[d]=a,e[c]=b)};a.setChildIndex=function(b,a){var d=this.children,c=d.length;if(!(b.parent!=this||0>a||a>=c)){for(var e=0;c>e&&d[e]!=b;e++);e!=c&&e!=a&&(d.splice(e,1),d.splice(a,0,b))}};a.contains=function(b){for(;b;){if(b==this)return!0;
b=b.parent}return!1};a.hitTest=function(b,a){return null!=this.getObjectUnderPoint(b,a)};a.getObjectsUnderPoint=function(b,a){var d=[],c=this.localToGlobal(b,a);return this._getObjectsUnderPoint(c.x,c.y,d),d};a.getObjectUnderPoint=function(b,a){var d=this.localToGlobal(b,a);return this._getObjectsUnderPoint(d.x,d.y)};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){return this._getBounds(null,!0)};a.getTransformedBounds=function(){return this._getBounds()};a.clone=function(b){var a=new c;
if(this.cloneProps(a),b)for(var d=a.children=[],f=0,e=this.children.length;e>f;f++){var g=this.children[f].clone(b);g.parent=a;d.push(g)}return a};a.toString=function(){return"[Container (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){if(this.tickChildren)for(var a=this.children.length-1;0<=a;a--){var d=this.children[a];d.tickEnabled&&d._tick&&d._tick(b)}this.DisplayObject__tick(b)};a._getObjectsUnderPoint=function(b,a,d,f,e){var g=createjs.DisplayObject._hitTestContext,
h=this._matrix;e=e||f&&this._hasMouseEventListener();for(var k=this.children,l=k.length-1;0<=l;l--){var n=k[l],p=n.hitArea;if(n.visible&&(p||n.isVisible())&&(!f||n.mouseEnabled))if(!p&&n instanceof c){if(n=n._getObjectsUnderPoint(b,a,d,f,e),!d&&n)return f&&!this.mouseChildren?this:n}else if(e||n._hasMouseEventListener())if(n.getConcatenatedMatrix(h),p&&(h.appendTransform(p.x,p.y,p.scaleX,p.scaleY,p.rotation,p.skewX,p.skewY,p.regX,p.regY),h.alpha=p.alpha),g.globalAlpha=h.alpha,g.setTransform(h.a,h.b,
h.c,h.d,h.tx-b,h.ty-a),(p||n).draw(g),this._testHit(g)){if(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,2,2),!d)return f&&!this.mouseChildren?this:n;d.push(n)}}return null};a._getBounds=function(b,a){var d=this.DisplayObject_getBounds();if(d)return this._transformBounds(d,b,a);var c,e,g,h,k=a?this._matrix.identity():this.getMatrix(this._matrix);b&&k.prependMatrix(b);for(var l=this.children.length,n=0;l>n;n++){var p=this.children[n];if(p.visible&&(d=p._getBounds(k))){var p=d.x,s=d.y,q=p+d.width,r=s+
d.height;(c>p||null==c)&&(c=p);(q>e||null==e)&&(e=q);(g>s||null==g)&&(g=s);(r>h||null==h)&&(h=r)}}return null==e?null:this._rectangle.initialize(c,g,e-c,h-g)};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;a.autoClear=!0;a.canvas=null;a.mouseX=0;a.mouseY=0;a.snapToPixelEnabled=!1;a.mouseInBounds=!1;a.tickOnUpdate=!0;a.mouseMoveOutside=!1;a.nextStage=null;a._pointerData=null;a._pointerCount=0;a._primaryPointerID=null;a._mouseOverIntervalID=null;a.Container_initialize=a.initialize;a.initialize=function(b){this.Container_initialize();this.canvas="string"==typeof b?document.getElementById(b):
b;this._pointerData={};this.enableDOMEvents(!0)};a.update=function(){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this.tickEnabled&&this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend"));this.dispatchEvent("drawstart");c._snapToPixelEnabled=this.snapToPixelEnabled;this.autoClear&&this.clear();var b=this.canvas.getContext("2d");b.save();this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};a.handleEvent=function(b){"tick"==b.type&&
this.update(b)};a.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};a.toDataURL=function(b,a){a||(a="image/png");var d,c=this.canvas.getContext("2d"),e=this.canvas.width,g=this.canvas.height;if(b){d=c.getImageData(0,0,e,g);var h=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=b;c.fillRect(0,0,e,g)}var k=this.canvas.toDataURL(a);return b&&(c.clearRect(0,0,e+
1,g+1),c.putImageData(d,0,0),c.globalCompositeOperation=h),k};a.enableMouseOver=function(b){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0)),null==b)b=20;else if(0>=b)return;var a=this;this._mouseOverIntervalID=setInterval(function(){a._testMouseOver()},1E3/Math.min(50,b))};a.enableDOMEvents=function(b){null==b&&(b=!0);var a,d=this._eventListeners;if(!b&&d){for(a in d)b=d[a],b.t.removeEventListener(a,b.f,!1);this._eventListeners=
null}else if(b&&!d&&this.canvas){b=window.addEventListener?window:document;var c=this,d=this._eventListeners={};d.mouseup={t:b,f:function(b){c._handleMouseUp(b)}};d.mousemove={t:b,f:function(b){c._handleMouseMove(b)}};d.dblclick={t:this.canvas,f:function(b){c._handleDoubleClick(b)}};d.mousedown={t:this.canvas,f:function(b){c._handleMouseDown(b)}};for(a in d)b=d[a],b.t.addEventListener(a,b.f,!1)}};a.clone=function(){var b=new c(null);return this.cloneProps(b),b};a.toString=function(){return"[Stage (name="+
this.name+")]"};a._getElementRect=function(b){var a;try{a=b.getBoundingClientRect()}catch(d){a={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var c=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),g=window.getComputedStyle?getComputedStyle(b):b.currentStyle;b=parseInt(g.paddingLeft)+parseInt(g.borderLeftWidth);var h=parseInt(g.paddingTop)+
parseInt(g.borderTopWidth),k=parseInt(g.paddingRight)+parseInt(g.borderRightWidth),g=parseInt(g.paddingBottom)+parseInt(g.borderBottomWidth);return{left:a.left+c+b,right:a.right+c-k,top:a.top+e+h,bottom:a.bottom+e-g}};a._getPointerData=function(b){var a=this._pointerData[b];return a||(a=this._pointerData[b]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=b),(null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=b)),a};a._handleMouseMove=function(b){b||
(b=window.event);this._handlePointerMove(-1,b,b.pageX,b.pageY)};a._handlePointerMove=function(b,a,d,c){if(this.canvas){var e=this._getPointerData(b),g=e.inBounds;if(this._updatePointerPosition(b,a,d,c),g||e.inBounds||this.mouseMoveOutside)-1==b&&e.inBounds==!g&&this._dispatchMouseEvent(this,g?"mouseleave":"mouseenter",!1,b,e,a),this._dispatchMouseEvent(this,"stagemousemove",!1,b,e,a),this._dispatchMouseEvent(e.target,"pressmove",!0,b,e,a),(g=e.event)&&g.hasEventListener("mousemove")&&g.dispatchEvent(new createjs.MouseEvent("mousemove",
!1,!1,e.x,e.y,a,b,b==this._primaryPointerID,e.rawX,e.rawY),e.target),this.nextStage&&this.nextStage._handlePointerMove(b,a,d,c)}};a._updatePointerPosition=function(b,a,d,c){var e=this._getElementRect(this.canvas);d-=e.left;c-=e.top;var g=this.canvas.width,h=this.canvas.height;d/=(e.right-e.left)/g;c/=(e.bottom-e.top)/h;e=this._getPointerData(b);(e.inBounds=0<=d&&0<=c&&g-1>=d&&h-1>=c)?(e.x=d,e.y=c):this.mouseMoveOutside&&(e.x=0>d?0:d>g-1?g-1:d,e.y=0>c?0:c>h-1?h-1:c);e.posEvtObj=a;e.rawX=d;e.rawY=c;
b==this._primaryPointerID&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseInBounds=e.inBounds)};a._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)};a._handlePointerUp=function(b,a,d){var c=this._getPointerData(b);this._dispatchMouseEvent(this,"stagemouseup",!1,b,c,a);var e=c.target;e&&(this._getObjectsUnderPoint(c.x,c.y,null,!0)==e&&this._dispatchMouseEvent(e,"click",!0,b,c,a),this._dispatchMouseEvent(e,"pressup",!0,b,c,a));var g=c.event;g&&g.hasEventListener("mouseup")&&g.dispatchEvent(new createjs.MouseEvent("mouseup",
!1,!1,c.x,c.y,a,b,b==this._primaryPointerID,c.rawX,c.rawY),e);d?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):c.event=c.target=null;this.nextStage&&this.nextStage._handlePointerUp(b,a,d)};a._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)};a._handlePointerDown=function(b,a,d,c){null!=c&&this._updatePointerPosition(b,a,d,c);var e=this._getPointerData(b);this._dispatchMouseEvent(this,"stagemousedown",!1,b,e,a);e.target=this._getObjectsUnderPoint(e.x,
e.y,null,!0);e.event=this._dispatchMouseEvent(e.target,"mousedown",!0,b,e,a);this.nextStage&&this.nextStage._handlePointerDown(b,a,d,c)};a._testMouseOver=function(b){if(-1==this._primaryPointerID&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var a,d,c,e=this._getPointerData(-1),g=e.posEvtObj,h=-1;c="";(b||this.mouseInBounds&&g&&g.target==this.canvas)&&(a=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=
this.mouseY);b=this._mouseOverTarget||[];var k=b[b.length-1],l=this._mouseOverTarget=[];for(d=a;d;)l.unshift(d),null!=d.cursor&&(c=d.cursor),d=d.parent;this.canvas.style.cursor=c;c=0;for(d=l.length;d>c&&l[c]==b[c];c++)h=c;k!=a&&this._dispatchMouseEvent(k,"mouseout",!0,-1,e,g);for(c=b.length-1;c>h;c--)this._dispatchMouseEvent(b[c],"rollout",!1,-1,e,g);for(c=l.length-1;c>h;c--)this._dispatchMouseEvent(l[c],"rollover",!1,-1,e,g);k!=a&&this._dispatchMouseEvent(a,"mouseover",!0,-1,e,g)}};a._handleDoubleClick=
function(b){var a=this._getPointerData(-1),d=this._getObjectsUnderPoint(a.x,a.y,null,!0);this._dispatchMouseEvent(d,"dblclick",!0,-1,a,b);this.nextStage&&this.nextStage._handleDoubleClick(b)};a._dispatchMouseEvent=function(b,a,d,c,e,g){if(b&&(d||b.hasEventListener(a)))return a=new createjs.MouseEvent(a,d,!1,e.x,e.y,g,c,c==this._primaryPointerID,e.rawX,e.rawY),b.dispatchEvent(a),a};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.image=null;a.snapToPixel=!0;a.sourceRect=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b};a.isVisible=function(){var b=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&
0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var d=this.sourceRect;return d?b.drawImage(this.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height):b.drawImage(this.image,0,0),!0};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;b=this.sourceRect||this.image;return this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)?this._rectangle.initialize(0,
0,b.width,b.height):null};a.clone=function(){var b=new c(this.image);return this.sourceRect&&(b.sourceRect=this.sourceRect.clone()),this.cloneProps(b),b};a.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype=new createjs.DisplayObject;a.currentFrame=0;a.currentAnimation=null;a.paused=!0;a.spriteSheet=null;a.snapToPixel=!0;a.offset=0;a.currentAnimationFrame=0;a.framerate=0;a._advanceCount=0;a._animation=null;a._currentFrame=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a){this.DisplayObject_initialize();this.spriteSheet=b;a&&this.gotoAndPlay(a)};a.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;
return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this._normalizeFrame();var d=this.spriteSheet.getFrame(0|this._currentFrame);if(!d)return!1;var c=d.rect;return b.drawImage(d.image,c.x,c.y,c.width,c.height,-d.regX,-d.regY,c.width,c.height),!0};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};a.gotoAndStop=function(b){this.paused=
!0;this._goto(b)};a.advance=function(b){var a=this._animation&&this._animation.speed||1,d=this.framerate||this.spriteSheet.framerate;b=d&&null!=b?b/(1E3/d):1;this._animation?this.currentAnimationFrame+=b*a:this._currentFrame+=b*a;this._normalizeFrame()};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};a.clone=function(){var b=new c(this.spriteSheet);return this.cloneProps(b),b};a.toString=
function(){return"[Sprite (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){this.paused||this.advance(b&&b[0]&&b[0].delta);this.DisplayObject__tick(b)};a._normalizeFrame=function(){var b,a=this._animation,d=this.paused,c=this._currentFrame,e=this.currentAnimationFrame;if(a)if(b=a.frames.length,(0|e)>=b){var g=a.next;if(!this._dispatchAnimationEnd(a,c,d,g,b-1)){if(g)return this._goto(g,e-b);this.paused=!0;e=this.currentAnimationFrame=a.frames.length-1;this._currentFrame=a.frames[e]}}else this._currentFrame=
a.frames[0|e];else if(b=this.spriteSheet.getNumFrames(),c>=b&&!this._dispatchAnimationEnd(a,c,d,b-1)&&(this._currentFrame-=b)>=b)return this._normalizeFrame();this.currentFrame=0|this._currentFrame};a._dispatchAnimationEnd=function(b,a,d,c,e){var g=b?b.name:null;if(this.hasEventListener("animationend")){var h=new createjs.Event("animationend");h.name=g;h.next=c;this.dispatchEvent(h)}b=this._animation!=b||this._currentFrame!=a;return b||d||!this.paused||(this.currentAnimationFrame=e,b=!0),b};a.DisplayObject_cloneProps=
a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);b.currentFrame=this.currentFrame;b._currentFrame=this._currentFrame;b.currentAnimation=this.currentAnimation;b.paused=this.paused;b._animation=this._animation;b.currentAnimationFrame=this.currentAnimationFrame;b.framerate=this.framerate};a._goto=function(b,a){if(isNaN(b)){var d=this.spriteSheet.getAnimation(b);d&&(this.currentAnimationFrame=a||0,this._animation=d,this.currentAnimation=b,this._normalizeFrame())}else this.currentAnimationFrame=
0,this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.graphics=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();this.graphics=b?b:new createjs.Graphics};a.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){return this.DisplayObject_draw(b,a)?!0:(this.graphics.draw(b),
!0)};a.clone=function(b){b=new c(b&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(b),b};a.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.DisplayObject,b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._workingContext=b.getContext("2d"),b.width=b.height=1);c.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1};a.text="";a.font=null;a.color=null;a.textAlign="left";a.textBaseline="top";a.maxWidth=null;a.outline=0;
a.lineHeight=0;a.lineWidth=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a,c){this.DisplayObject_initialize();this.text=b;this.font=a;this.color=c};a.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.color||"#000";return this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):
b.fillStyle=c,this._drawText(this._prepContext(b)),!0};a.getMeasuredWidth=function(){return this._prepContext(c._workingContext).measureText(this.text).width};a.getMeasuredLineHeight=function(){return 1.2*this._prepContext(c._workingContext).measureText("M").width};a.getMeasuredHeight=function(){return this._drawText(null,{}).height};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||""==this.text)return null;var b=this._drawText(null,
{}),a=this.maxWidth&&this.maxWidth<b.width?this.maxWidth:b.width,f=a*c.H_OFFSETS[this.textAlign||"left"],e=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(f,e,a,b.height)};a.clone=function(){var b=new c(this.text,this.font,this.color);return this.cloneProps(b),b};a.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);
b.textAlign=this.textAlign;b.textBaseline=this.textBaseline;b.maxWidth=this.maxWidth;b.outline=this.outline;b.lineHeight=this.lineHeight;b.lineWidth=this.lineWidth};a._prepContext=function(b){return b.font=this.font,b.textAlign=this.textAlign||"left",b.textBaseline=this.textBaseline||"top",b};a._drawText=function(b,a){var f=!!b;f||(b=this._prepContext(c._workingContext));for(var e=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,k=String(this.text).split(/(?:\r\n|\r|\n)/),l=0,n=k.length;n>l;l++){var p=
k[l],s=null;if(null!=this.lineWidth&&(s=b.measureText(p).width)>this.lineWidth)for(var q=p.split(/(\s)/),p=q[0],s=b.measureText(p).width,r=1,v=q.length;v>r;r+=2){var t=b.measureText(q[r]+q[r+1]).width;s+t>this.lineWidth?(f&&this._drawTextLine(b,p,h*e),s>g&&(g=s),p=q[r+1],s=b.measureText(p).width,h++):(p+=q[r]+q[r+1],s+=t)}f&&this._drawTextLine(b,p,h*e);a&&null==s&&(s=b.measureText(p).width);s>g&&(g=s);h++}return a&&(a.count=h,a.width=g,a.height=h*e),a};a._drawTextLine=function(b,a,c){this.outline?
b.strokeText(a,0,c,this.maxWidth||65535):b.fillText(a,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){function c(b,a){this.initialize(b,a)}var a=c.prototype=new createjs.DisplayObject;a.text="";a.spriteSheet=null;a.lineHeight=0;a.letterSpacing=0;a.spaceWidth=0;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a){this.DisplayObject_initialize();this.text=b;this.spriteSheet=a};a.DisplayObject_draw=a.draw;a.draw=function(b,a){return this.DisplayObject_draw(b,a)?!0:(this._drawText(b),void 0)};a.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&
this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.getBounds=function(){var b=this._rectangle;return this._drawText(null,b),b.width?b:null};a._getFrame=function(b,a){var c,f=a.getAnimation(b);return f||(b!=(c=b.toUpperCase())||b!=(c=b.toLowerCase())||(c=null),c&&(f=a.getAnimation(c))),f&&a.getFrame(f.frames[0])};a._getLineHeight=function(b){return(b=this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0))?b.rect.height:1};a._getSpaceWidth=
function(b){return(b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0))?b.rect.width:1};a._drawText=function(b,a){var c,f,e,g=0,h=0,k=this.spaceWidth,l=this.lineHeight,n=this.spriteSheet,p=!!this._getFrame(" ",n);p||0!=k||(k=this._getSpaceWidth(n));0==l&&(l=this._getLineHeight(n));for(var s=0,q=0,r=this.text.length;r>q;q++)if(c=this.text.charAt(q),p||" "!=c)if("\n"!=c&&"\r"!=c){var v=this._getFrame(c,n);if(v){var t=v.rect;e=v.regX;c=t.width;
b&&b.drawImage(v.image,t.x,t.y,c,f=t.height,g-e,h-v.regY,c,f);g+=c+this.letterSpacing}}else"\r"==c&&"\n"==this.text.charAt(q+1)&&q++,g-e>s&&(s=g-e),g=0,h+=l;else g+=k;g-e>s&&(s=g-e);a&&(a.width=s-this.letterSpacing,a.height=h+l)};createjs.BitmapText=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";},a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingCanvas=a,c._workingContext=a.getContext("2d"),a.width=a.height=1);c.addFlippedFrames=function(b,a,d,f){if(a||d||f){var e=0;a&&c._flip(b,++e,!0,!1);d&&c._flip(b,++e,!1,!0);f&&c._flip(b,++e,!0,!0)}};c.extractFrame=function(b,a){isNaN(a)&&(a=b.getAnimation(a).frames[0]);var d=b.getFrame(a);if(!d)return null;var f=d.rect,
e=c._workingCanvas;e.width=f.width;e.height=f.height;c._workingContext.drawImage(d.image,f.x,f.y,f.width,f.height,0,0,f.width,f.height);d=document.createElement("img");return d.src=e.toDataURL("image/png"),d};c.mergeAlpha=function(b,a,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(a.width,b.width);c.height=Math.max(a.height,b.height);var f=c.getContext("2d");return f.save(),f.drawImage(b,0,0),f.globalCompositeOperation="destination-in",f.drawImage(a,
0,0),f.restore(),c};c._flip=function(b,a,d,f){for(var e=b._images,g=c._workingCanvas,h=c._workingContext,k=e.length/a,l=0;k>l;l++){var n=e[l];n.__tmp=l;h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,g.width+1,g.height+1);g.width=n.width;g.height=n.height;h.setTransform(d?-1:1,0,0,f?-1:1,d?n.width:0,f?n.height:0);h.drawImage(n,0,0);var p=document.createElement("img");p.src=g.toDataURL("image/png");p.width=n.width;p.height=n.height;e.push(p)}h=b._frames;g=h.length/a;for(l=0;g>l;l++){var n=h[l],s=n.rect.clone(),
p=e[n.image.__tmp+k*a],q={image:p,rect:s,regX:n.regX,regY:n.regY};d&&(s.x=p.width-s.x-s.width,q.regX=s.width-n.regX);f&&(s.y=p.height-s.y-s.height,q.regY=s.height-n.regY);h.push(q)}d="_"+(d?"h":"")+(f?"v":"");f=b._animations;b=b._data;e=f.length/a;for(l=0;e>l;l++){h=f[l];n=b[h];k={name:h+d,speed:n.speed,next:n.next,frames:[]};n.next&&(k.next+=d);h=n.frames;n=0;for(p=h.length;p>n;n++)k.frames.push(h[n]+g*a);b[k.name]=k;f.push(k.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.EventDispatcher;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";a.maxWidth=2048;a.maxHeight=2048;a.spriteSheet=null;a.scale=1;a.padding=1;a.timeSlice=0.3;a.progress=-1;a._frames=null;a._animations=null;a._data=null;a._nextFrameIndex=0;a._index=0;a._timerID=null;a._scale=1;a.initialize=function(){this._frames=[];this._animations={}};a.addFrame=function(b,a,d,f,
e,g){if(this._data)throw c.ERR_RUNNING;a=a||b.bounds||b.nominalBounds;return!a&&b.getBounds&&(a=b.getBounds()),a?(d=d||1,this._frames.push({source:b,sourceRect:a,scale:d,funct:f,params:e,scope:g,index:this._frames.length,height:a.height*d})-1):null};a.addAnimation=function(b,a,d,f){if(this._data)throw c.ERR_RUNNING;this._animations[b]={frames:a,next:d,frequency:f}};a.addMovieClip=function(b,a,d){if(this._data)throw c.ERR_RUNNING;var f=b.frameBounds,e=a||b.bounds||b.nominalBounds;if(!e&&b.getBounds&&
(e=b.getBounds()),!e&&!f)return null;a=this._frames.length;for(var g=b.timeline.duration,h=0;g>h;h++)this.addFrame(b,f&&f[h]?f[h]:e,d,function(b){var a=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(b);this.actionsEnabled=a},[h],b);h=b.timeline._labels;b=[];for(var k in h)b.push({index:h[k],label:k});if(b.length)for(b.sort(function(b,a){return b.index-a.index}),h=0,k=b.length;k>h;h++){d=b[h].label;for(var f=a+(h==k-1?g:b[h+1].index),e=[],l=a+b[h].index;f>l;l++)e.push(l);this.addAnimation(d,
e,!0)}};a.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};a.buildAsync=function(b){if(this._data)throw c.ERR_RUNNING;this.timeSlice=b;this._startBuild();var a=this;this._timerID=setTimeout(function(){a._run()},50-50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)))};a.stopAsync=function(){clearTimeout(this._timerID);this._data=null};a.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};a.toString=function(){return"[SpriteSheetBuilder]"};
a._startBuild=function(){var b=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var a=[];this._data={images:[],frames:a,animations:this._animations};var d=this._frames.slice();if(d.sort(function(b,a){return b.height<=a.height?-1:1}),d[d.length-1].height+2*b>this.maxHeight)throw c.ERR_DIMENSIONS;for(var f=0,e=0,g=0;d.length;){var h=this._fillRow(d,f,g,a,b);if(h.w>e&&(e=h.w),f+=h.h,!h.h||!d.length){var k=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
k.width=this._getSize(e,this.maxWidth);k.height=this._getSize(f,this.maxHeight);this._data.images[g]=k;h.h||(e=f=0,g++)}}};a._getSize=function(b,a){for(var c=4;Math.pow(2,++c)<b;);return Math.min(a,Math.pow(2,c))};a._fillRow=function(b,a,d,f,e){var g=this.maxWidth,h=this.maxHeight;a+=e;for(var h=h-a,k=e,l=0,n=b.length-1;0<=n;n--){var p=b[n],s=this._scale*p.scale,q=p.sourceRect,r=p.source,v=Math.floor(s*q.x-e),t=Math.floor(s*q.y-e),u=Math.ceil(s*q.height+2*e),q=Math.ceil(s*q.width+2*e);if(q>g)throw c.ERR_DIMENSIONS;
u>h||k+q>g||(p.img=d,p.rect=new createjs.Rectangle(k,a,q,u),l=l||u,b.splice(n,1),f[p.index]=[k,a,q,u,d,Math.round(-v+s*r.regX-e),Math.round(-t+s*r.regY-e)],k+=q)}return{w:k,h:l}};a._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};a._run=function(){for(var b=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),a=(new Date).getTime()+b,c=!1;a>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();
else{var f=this;this._timerID=setTimeout(function(){f._run()},50-b)}b=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(a=new createjs.Event("progress"),a.progress=b,this.dispatchEvent(a))};a._drawNext=function(){var b=this._frames[this._index],a=b.scale*this._scale,c=b.rect,f=b.sourceRect,e=this._data.images[b.img].getContext("2d");return b.funct&&b.funct.apply(b.scope,b.params),e.save(),e.beginPath(),e.rect(c.x,c.y,c.width,c.height),e.clip(),e.translate(Math.ceil(c.x-
f.x*a),Math.ceil(c.y-f.y*a)),e.scale(a,a),b.source.draw(e),e.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.htmlElement=null;a._oldMtx=null;a._visible=!1;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){"string"==typeof b&&(b=document.getElementById(b));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=b;b=b.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%"};a.isVisible=function(){return null!=
this.htmlElement};a.draw=function(){return this.visible&&(this._visible=!0),!0};a.cache=function(){};a.uncache=function(){};a.updateCache=function(){};a.hitTest=function(){};a.localToGlobal=function(){};a.globalToLocal=function(){};a.localToLocal=function(){};a.clone=function(){throw"DOMElement cannot be cloned.";};a.toString=function(){return"[DOMElement (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){var a=this.getStage();this._visible=!1;a&&a.on("drawend",this._handleDrawEnd,
this,!0);this.DisplayObject__tick(b)};a._handleDrawEnd=function(){var b=this.htmlElement;if(b){var b=b.style,a=this._visible?"visible":"hidden";if(a!=b.visibility&&(b.visibility=a),this._visible){var a=this.getConcatenatedMatrix(this._matrix),c=this._oldMtx;if(c&&c.alpha==a.alpha||(b.opacity=""+(0|1E4*a.alpha)/1E4,c&&(c.alpha=a.alpha)),!c||c.tx!=a.tx||c.ty!=a.ty||c.a!=a.a||c.b!=a.b||c.c!=a.c||c.d!=a.d){var f="matrix("+(0|1E4*a.a)/1E4+","+(0|1E4*a.b)/1E4+","+(0|1E4*a.c)/1E4+","+(0|1E4*a.d)/1E4+","+
(0|a.tx+0.5);b.transform=b.WebkitTransform=b.OTransform=b.msTransform=f+","+(0|a.ty+0.5)+")";b.MozTransform=f+"px,"+(0|a.ty+0.5)+"px)";this._oldMtx=c?c.copy(a):a.clone()}}}};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},a=c.prototype;a.initialize=function(){};a.getBounds=function(){return null};a.applyFilter=function(){};a.toString=function(){return"[Filter]"};a.clone=function(){return new c};createjs.Filter=c})();
this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.Filter;a.initialize=function(b,a,c){(isNaN(b)||0>b)&&(b=0);this.blurX=0|b;(isNaN(a)||0>a)&&(a=0);this.blurY=0|a;(isNaN(c)||1>c)&&(c=1);this.quality=0|c};a.blurX=0;a.blurY=0;a.quality=1;a.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,
281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,
343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];a.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,
15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,
16,17,16,17,16,17,9];a.getBounds=function(){var b=0.5*Math.pow(this.quality,0.6);return new createjs.Rectangle(-this.blurX*b,-this.blurY*b,2*this.blurX*b,2*this.blurY*b)};a.applyFilter=function(b,a,c,f,e,g,h,k){g=g||b;null==h&&(h=a);null==k&&(k=c);try{var l=b.getImageData(a,c,f,e)}catch(n){return!1}b=this.blurX/2;if(isNaN(b)||0>b)return!1;b|=0;var p=this.blurY/2;if(isNaN(p)||0>p||(p|=0,0==b&&0==p))return!1;var s=this.quality;(isNaN(s)||1>s)&&(s=1);s|=0;3<s&&(s=3);1>s&&(s=1);var q,r,v,t,u,y,z,w,B,
H,I,J,x=l.data,F=b+b+1;t=p+p+1;var K=f-1,G=e-1,E=b+1,D=p+1,L={r:0,b:0,g:0,a:0,next:null};a=L;for(q=1;F>q;q++)a=a.next={r:0,b:0,g:0,a:0,next:null};a.next=L;c=F={r:0,b:0,g:0,a:0,next:null};for(q=1;t>q;q++)c=c.next={r:0,b:0,g:0,a:0,next:null};c.next=F;for(q=null;0<s--;){u=t=0;var A=this.mul_table[b],C=this.shg_table[b];for(c=e;-1<--c;){y=E*(H=x[t]);z=E*(I=x[t+1]);w=E*(J=x[t+2]);B=E*(v=x[t+3]);a=L;for(q=E;-1<--q;)a.r=H,a.g=I,a.b=J,a.a=v,a=a.next;for(q=1;E>q;q++)r=t+((q>K?K:q)<<2),y+=a.r=x[r],z+=a.g=x[r+
1],w+=a.b=x[r+2],B+=a.a=x[r+3],a=a.next;q=L;for(a=0;f>a;a++)x[t++]=y*A>>>C,x[t++]=z*A>>>C,x[t++]=w*A>>>C,x[t++]=B*A>>>C,r=u+((r=a+b+1)<K?r:K)<<2,y-=q.r-(q.r=x[r]),z-=q.g-(q.g=x[r+1]),w-=q.b-(q.b=x[r+2]),B-=q.a-(q.a=x[r+3]),q=q.next;u+=f}A=this.mul_table[p];C=this.shg_table[p];for(a=0;f>a;a++){t=a<<2;y=D*(H=x[t]);z=D*(I=x[t+1]);w=D*(J=x[t+2]);B=D*(v=x[t+3]);c=F;for(q=0;D>q;q++)c.r=H,c.g=I,c.b=J,c.a=v,c=c.next;v=f;for(q=1;p>=q;q++)t=v+a<<2,y+=c.r=x[t],z+=c.g=x[t+1],w+=c.b=x[t+2],B+=c.a=x[t+3],c=c.next,
G>q&&(v+=f);if(t=a,q=F,0<s)for(c=0;e>c;c++)r=t<<2,x[r+3]=v=B*A>>>C,0<v?(x[r]=y*A>>>C,x[r+1]=z*A>>>C,x[r+2]=w*A>>>C):x[r]=x[r+1]=x[r+2]=0,r=a+((r=c+D)<G?r:G)*f<<2,y-=q.r-(q.r=x[r]),z-=q.g-(q.g=x[r+1]),w-=q.b-(q.b=x[r+2]),B-=q.a-(q.a=x[r+3]),q=q.next,t+=f;else for(c=0;e>c;c++)r=t<<2,x[r+3]=v=B*A>>>C,0<v?(v=255/v,x[r]=(y*A>>>C)*v,x[r+1]=(z*A>>>C)*v,x[r+2]=(w*A>>>C)*v):x[r]=x[r+1]=x[r+2]=0,r=a+((r=c+D)<G?r:G)*f<<2,y-=q.r-(q.r=x[r]),z-=q.g-(q.g=x[r+1]),w-=q.b-(q.b=x[r+2]),B-=q.a-(q.a=x[r+3]),q=q.next,
t+=f}}return g.putImageData(l,h,k),!0};a.clone=function(){return new c(this.blurX,this.blurY,this.quality)};a.toString=function(){return"[BlurFilter]"};createjs.BlurFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.initialize=function(b){this.alphaMap=b};a.alphaMap=null;a._alphaMap=null;a._mapData=null;a.applyFilter=function(b,a,c,f,e,g,h,k){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;g=g||b;null==h&&(h=a);null==k&&(k=c);try{var l=b.getImageData(a,c,f,e)}catch(n){return!1}b=l.data;a=this._mapData;c=b.length;for(f=0;c>f;f+=4)b[f+3]=a[f]||0;return g.putImageData(l,h,k),!0};a.clone=function(){return new c(this.alphaMap)};
a.toString=function(){return"[AlphaMapFilter]"};a._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b,a=this._alphaMap=this.alphaMap,c=a;a instanceof HTMLCanvasElement?b=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=a.width,c.height=a.height,b=c.getContext("2d"),b.drawImage(a,0,0));try{var f=b.getImageData(0,0,a.width,a.height)}catch(e){return!1}return this._mapData=
f.data,!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.initialize=function(b){this.mask=b};a.mask=null;a.applyFilter=function(b,a,c,f,e,g,h,k){return this.mask?(g=g||b,null==h&&(h=a),null==k&&(k=c),g.save(),g.globalCompositeOperation="destination-in",g.drawImage(this.mask,h,k),g.restore(),!0):!0};a.clone=function(){return new c(this.mask)};a.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c,f,e,g,h,k){this.initialize(b,a,c,f,e,g,h,k)},a=c.prototype=new createjs.Filter;a.redMultiplier=1;a.greenMultiplier=1;a.blueMultiplier=1;a.alphaMultiplier=1;a.redOffset=0;a.greenOffset=0;a.blueOffset=0;a.alphaOffset=0;a.initialize=function(b,a,c,f,e,g,h,k){this.redMultiplier=null!=b?b:1;this.greenMultiplier=null!=a?a:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=f?f:1;this.redOffset=e||0;this.greenOffset=g||0;this.blueOffset=h||0;this.alphaOffset=k||
0};a.applyFilter=function(b,a,c,f,e,g,h,k){g=g||b;null==h&&(h=a);null==k&&(k=c);try{var l=b.getImageData(a,c,f,e)}catch(n){return!1}b=l.data;a=b.length;for(c=0;a>c;c+=4)b[c]=b[c]*this.redMultiplier+this.redOffset,b[c+1]=b[c+1]*this.greenMultiplier+this.greenOffset,b[c+2]=b[c+2]*this.blueMultiplier+this.blueOffset,b[c+3]=b[c+3]*this.alphaMultiplier+this.alphaOffset;return g.putImageData(l,h,k),!0};a.toString=function(){return"[ColorFilter]"};a.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,
this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c,f){this.initialize(b,a,c,f)},a=c.prototype;c.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,
7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;a.initialize=function(b,a,c,f){return this.reset(),this.adjustColor(b,a,c,f),this};a.reset=function(){return this.copyMatrix(c.IDENTITY_MATRIX)};a.adjustColor=function(b,a,c,f){return this.adjustHue(f),this.adjustContrast(a),this.adjustBrightness(b),this.adjustSaturation(c)};a.adjustBrightness=function(b){return 0==b||isNaN(b)?this:(b=this._cleanValue(b,255),
this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]),this)};a.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var a;return 0>b?a=127+b/100*127:(a=b%1,a=0==a?c.DELTA_INDEX[b]:c.DELTA_INDEX[b<<0]*(1-a)+c.DELTA_INDEX[(b<<0)+1]*a,a=127*a+127),this._multiplyMatrix([a/127,0,0,0,0.5*(127-a),0,a/127,0,0,0.5*(127-a),0,0,a/127,0,0.5*(127-a),0,0,0,1,0,0,0,0,0,1]),this};a.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);
b=1+(0<b?3*b/100:b/100);return this._multiplyMatrix([0.3086*(1-b)+b,0.6094*(1-b),0.082*(1-b),0,0,0.3086*(1-b),0.6094*(1-b)+b,0.082*(1-b),0,0,0.3086*(1-b),0.6094*(1-b),0.082*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this};a.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var a=Math.cos(b);b=Math.sin(b);return this._multiplyMatrix([0.213+0.787*a+-0.213*b,0.715+-0.715*a+-0.715*b,0.072+-0.072*a+0.928*b,0,0,0.213+-0.213*a+0.143*b,0.715+a*(1-0.715)+0.14*b,0.072+-0.072*
a+-0.283*b,0,0,0.213+-0.213*a+-0.787*b,0.715+-0.715*a+0.715*b,0.072+0.928*a+0.072*b,0,0,0,0,0,1,0,0,0,0,0,1]),this};a.concat=function(b){return b=this._fixMatrix(b),b.length!=c.LENGTH?this:(this._multiplyMatrix(b),this)};a.clone=function(){return(new c).copyMatrix(this)};a.toArray=function(){for(var b=[],a=0,d=c.LENGTH;d>a;a++)b[a]=this[a];return b};a.copyMatrix=function(b){for(var a=c.LENGTH,d=0;a>d;d++)this[d]=b[d];return this};a.toString=function(){return"[ColorMatrix]"};a._multiplyMatrix=function(b){for(var a=
[],c=0;5>c;c++){for(var f=0;5>f;f++)a[f]=this[f+5*c];for(f=0;5>f;f++){for(var e=0,g=0;5>g;g++)e+=b[f+5*g]*a[g];this[f+5*c]=e}}};a._cleanValue=function(a,c){return Math.min(c,Math.max(-c,a))};a._fixMatrix=function(a){return a instanceof c&&(a=a.toArray()),a.length<c.LENGTH?a=a.slice(0,a.length).concat(c.IDENTITY_MATRIX.slice(a.length,c.LENGTH)):a.length>c.LENGTH&&(a=a.slice(0,c.LENGTH)),a};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},a=c.prototype=new createjs.Filter;a.matrix=null;a.initialize=function(a){this.matrix=a};a.applyFilter=function(a,c,d,f,e,g,h,k){g=g||a;null==h&&(h=c);null==k&&(k=d);try{var l=a.getImageData(c,d,f,e)}catch(n){return!1}var p,s,q,r;a=l.data;c=a.length;p=this.matrix;d=p[0];f=p[1];e=p[2];for(var v=p[3],t=p[4],u=p[5],y=p[6],z=p[7],w=p[8],B=p[9],H=p[10],I=p[11],J=p[12],x=p[13],F=p[14],K=p[15],G=p[16],E=p[17],D=p[18],L=p[19],A=0;c>A;A+=4)p=a[A],s=a[A+1],q=
a[A+2],r=a[A+3],a[A]=p*d+s*f+q*e+r*v+t,a[A+1]=p*u+s*y+q*z+r*w+B,a[A+2]=p*H+s*I+q*J+r*x+F,a[A+3]=p*K+s*G+q*E+r*D+L;return g.putImageData(l,h,k),!0};a.toString=function(){return"[ColorMatrixFilter]"};a.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints};c.enable=function(a,b,m){return a&&a.canvas&&c.isSupported()?(a.__touch={pointers:{},multitouch:!b,preventDefault:!m,count:0},"ontouchstart"in window?c._IOS_enable(a):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_enable(a),
!0):!1};c.disable=function(a){a&&("ontouchstart"in window?c._IOS_disable(a):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_disable(a))};c._IOS_enable=function(a){var b=a.canvas,m=a.__touch.f=function(b){c._IOS_handleEvent(a,b)};b.addEventListener("touchstart",m,!1);b.addEventListener("touchmove",m,!1);b.addEventListener("touchend",m,!1);b.addEventListener("touchcancel",m,!1)};c._IOS_disable=function(a){var b=a.canvas;b&&(a=a.__touch.f,b.removeEventListener("touchstart",
a,!1),b.removeEventListener("touchmove",a,!1),b.removeEventListener("touchend",a,!1),b.removeEventListener("touchcancel",a,!1))};c._IOS_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,d=b.type,f=0,e=c.length;e>f;f++){var g=c[f],h=g.identifier;g.target==a.canvas&&("touchstart"==d?this._handleStart(a,h,b,g.pageX,g.pageY):"touchmove"==d?this._handleMove(a,h,b,g.pageX,g.pageY):("touchend"==d||"touchcancel"==d)&&this._handleEnd(a,
h,b))}}};c._IE_enable=function(a){var b=a.canvas,m=a.__touch.f=function(b){c._IE_handleEvent(a,b)};void 0===window.navigator.pointerEnabled?(b.addEventListener("MSPointerDown",m,!1),window.addEventListener("MSPointerMove",m,!1),window.addEventListener("MSPointerUp",m,!1),window.addEventListener("MSPointerCancel",m,!1),a.__touch.preventDefault&&(b.style.msTouchAction="none")):(b.addEventListener("pointerdown",m,!1),window.addEventListener("pointermove",m,!1),window.addEventListener("pointerup",m,!1),
window.addEventListener("pointercancel",m,!1),a.__touch.preventDefault&&(b.style.touchAction="none"));a.__touch.activeIDs={}};c._IE_disable=function(a){var b=a.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",b,!1),window.removeEventListener("MSPointerUp",b,!1),window.removeEventListener("MSPointerCancel",b,!1),a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)):(window.removeEventListener("pointermove",b,!1),window.removeEventListener("pointerup",
b,!1),window.removeEventListener("pointercancel",b,!1),a.canvas&&a.canvas.removeEventListener("pointerdown",b,!1))};c._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();var c=b.type,d=b.pointerId,f=a.__touch.activeIDs;"MSPointerDown"==c||"pointerdown"==c?b.srcElement==a.canvas&&(f[d]=!0,this._handleStart(a,d,b,b.pageX,b.pageY)):f[d]&&("MSPointerMove"==c||"pointermove"==c?this._handleMove(a,d,b,b.pageX,b.pageY):("MSPointerUp"==c||"MSPointerCancel"==c||
"pointerup"==c||"pointercancel"==c)&&(delete f[d],this._handleEnd(a,d,b)))}};c._handleStart=function(a,b,c,d,f){var e=a.__touch;if(e.multitouch||!e.count){var g=e.pointers;g[b]||(g[b]=!0,e.count++,a._handlePointerDown(b,c,d,f))}};c._handleMove=function(a,b,c,d,f){a.__touch.pointers[b]&&a._handlePointerMove(b,c,d,f)};c._handleEnd=function(a,b,c){var d=a.__touch,f=d.pointers;f[b]&&(d.count--,a._handlePointerUp(b,c,!0),delete f[b])};createjs.Touch=c})();this.createjs=this.createjs||{};
(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="0.7.1";c.buildDate="Thu, 12 Dec 2013 23:33:39 GMT"})();this.createjs=this.createjs||{};(function(){var c=createjs.SoundJS=createjs.SoundJS||{};c.version="0.5.2";c.buildDate="Thu, 12 Dec 2013 23:33:37 GMT"})();this.createjs=this.createjs||{};
(function(){var c=function(){},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent;b.willTrigger=a.willTrigger};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(a,c,d){var f;f=d?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var e=f[a];return e&&this.removeEventListener(a,c,d),e=f[a],e?e.push(c):f[a]=[c],c};a.on=function(a,c,d,f,e,g){return c.handleEvent&&(d=d||c,c=c.handleEvent),d=d||this,this.addEventListener(a,function(a){c.call(d,a,e);f&&a.remove()},g)};a.removeEventListener=function(a,c,d){if(d=d?this._captureListeners:this._listeners){var f=d[a];if(f)for(var e=0,g=f.length;g>e;e++)if(f[e]==c){1==g?delete d[a]:f.splice(e,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=
function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(a,c){if("string"==typeof a){var d=this._listeners;if(!d||!d[a])return!1;a=new createjs.Event(a)}if(a.target=c||this,a.bubbles&&this.parent){for(var f=this,d=[f];f.parent;)d.push(f=f.parent);for(var e=d.length,f=e-1;0<=f&&!a.propagationStopped;f--)d[f]._dispatchEvent(a,1+(0==f));for(f=1;e>f&&!a.propagationStopped;f++)d[f]._dispatchEvent(a,
3)}else this._dispatchEvent(a,2);return a.defaultPrevented};a.hasEventListener=function(a){var c=this._listeners,d=this._captureListeners;return!!(c&&c[a]||d&&d[a])};a.willTrigger=function(a){for(var c=this;c;){if(c.hasEventListener(a))return!0;c=c.parent}return!1};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(a,c){var d,f=1==c?this._captureListeners:this._listeners;if(a&&f&&(f=f[a.type])&&(d=f.length)){a.currentTarget=this;a.eventPhase=c;a.removed=!1;for(var f=f.slice(),
e=0;d>e&&!a.immediatePropagationStopped;e++){var g=f[e];g.handleEvent?g.handleEvent(a):g(a);a.removed&&(this.off(a.type,g,1==c),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,d){this.initialize(a,c,d)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(a,c,d){this.type=a;this.bubbles=c;this.cancelable=d;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,a){for(var b=0,m=c.length;m>b;b++)if(a===c[b])return b;return-1}})();this.createjs=this.createjs||{};
(function(){createjs.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,2);return function(){return c.apply(a,Array.prototype.slice.call(arguments,0).concat(b))}}})();this.createjs=this.createjs||{};
(function(){function c(){throw"Sound cannot be instantiated";}function a(a,b){this.init(a,b)}function b(){}c.DELIMITER="|";c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;
c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.alternateExtensions=[];c._lastID=0;c.activePlugin=null;c._pluginsRegistered=!1;c._masterVolume=1;c._masterMute=!1;c._instances=[];c._idHash={};c._preloadHash={};c._defaultSoundInstance=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._sendFileLoadEvent=function(a){if(c._preloadHash[a])for(var b=0,e=c._preloadHash[a].length;e>
b;b++){var g=c._preloadHash[a][b];if(c._preloadHash[a][b]=!0,c.hasEventListener("fileload")){var h=new createjs.Event("fileload");h.src=g.src;h.id=g.id;h.data=g.data;c.dispatchEvent(h)}}};c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c.registerPlugin=function(a){try{console.log("createjs.Sound.registerPlugin has been deprecated. Please use registerPlugins.")}catch(b){}return c._registerPlugin(a)};c._registerPlugin=
function(a){return c._pluginsRegistered=!0,null==a?!1:a.isSupported()?(c.activePlugin=new a,!0):!1};c.registerPlugins=function(a){for(var b=0,e=a.length;e>b;b++)if(c._registerPlugin(a[b]))return!0;return!1};c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c._pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};c.isReady=function(){return null!=c.activePlugin};c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin._capabilities};
c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin._capabilities[a]};c.initLoad=function(a,b,e,g,h){a=a.replace(h,"");a=c.registerSound(a,e,g,!1,h);return null==a?!1:a};c.registerSound=function(b,f,e,g,h){if(!c.initializeDefaultPlugins())return!1;var m=(b instanceof Object&&(h=f,f=b.id,e=b.data,b=b.src),c.alternateExtensions.length)?c._parsePath2(b,"sound",f,e):c._parsePath(b,"sound",f,e);if(null==m)return!1;null!=h&&(b=h+b,m.src=h+m.src);null!=f&&(c._idHash[f]=m.src);h=null;
null!=e&&(isNaN(e.channels)?isNaN(e)||(h=parseInt(e)):h=parseInt(e.channels));var l=c.activePlugin.register(m.src,h);if(null!=l&&(null!=l.numChannels&&(h=l.numChannels),a.create(m.src,h),null!=e&&isNaN(e)?e.channels=m.data.channels=h||a.maxPerChannel():e=m.data=h||a.maxPerChannel(),null!=l.tag?m.tag=l.tag:l.src&&(m.src=l.src),null!=l.completeHandler&&(m.completeHandler=l.completeHandler),l.type&&(m.type=l.type)),0!=g)if(c._preloadHash[m.src]||(c._preloadHash[m.src]=[]),c._preloadHash[m.src].push({src:b,
id:f,data:e}),1==c._preloadHash[m.src].length)c.activePlugin.preload(m.src,l);else if(1==c._preloadHash[m.src][0])return!0;return m};c.registerManifest=function(a,b){for(var c=[],g=0,h=a.length;h>g;g++)c[g]=createjs.Sound.registerSound(a[g].src,a[g].id,a[g].data,a[g].preload,b);return c};c.removeSound=function(b,f){if(null==c.activePlugin)return!1;var e=(b instanceof Object&&(b=b.src),b=c._getSrcById(b),c.alternateExtensions.length)?c._parsePath2(b):c._parsePath(b);if(null==e)return!1;null!=f&&(e.src=
f+e.src);b=e.src;for(var g in c._idHash)c._idHash[g]==b&&delete c._idHash[g];return a.removeSrc(b),delete c._preloadHash[b],c.activePlugin.removeSound(b),!0};c.removeManifest=function(a,b){for(var c=[],g=0,h=a.length;h>g;g++)c[g]=createjs.Sound.removeSound(a[g].src,b);return c};c.removeAllSounds=function(){c._idHash={};c._preloadHash={};a.removeAll();c.activePlugin.removeAllSounds()};c.loadComplete=function(a){var b=c.alternateExtensions.length?c._parsePath2(a,"sound"):c._parsePath(a,"sound");return a=
b?c._getSrcById(b.src):c._getSrcById(a),1==c._preloadHash[a][0]};c._parsePath=function(a,b,e,g){"string"!=typeof a&&(a=a.toString());a=a.split(c.DELIMITER);if(1<a.length)try{console.log('createjs.Sound.DELIMITER "|" loading approach has been deprecated. Please use the new alternateExtensions property.')}catch(h){}b={type:b||"sound",id:e,data:g};e=c.getCapabilities();g=0;for(var m=a.length;m>g;g++){var l=a[g],n=l.match(c.FILE_PATTERN);if(null==n)return!1;var p=n[4],n=n[5];if(e[n]&&-1<createjs.indexOf(c.SUPPORTED_EXTENSIONS,
n))return b.name=p,b.src=l,b.extension=n,b}return null};c._parsePath2=function(a,b,e,g){"string"!=typeof a&&(a=a.toString());var m=a.match(c.FILE_PATTERN);if(null==m)return!1;for(var k=m[4],l=m[5],n=c.getCapabilities(),p=0;!n[l];)if(l=c.alternateExtensions[p++],p>c.alternateExtensions.length)return null;a=a.replace("."+m[5],"."+l);b={type:b||"sound",id:e,data:g};return b.name=k,b.src=a,b.extension=l,b};c.play=function(a,b,e,g,m,k,l){a=c.createInstance(a);return c._playInstance(a,b,e,g,m,k,l)||a.playFailed(),
a};c.createInstance=function(b){if(!c.initializeDefaultPlugins())return c._defaultSoundInstance;var f=(b=c._getSrcById(b),c.alternateExtensions.length)?c._parsePath2(b,"sound"):c._parsePath(b,"sound");b=null;return null!=f&&null!=f.src?(a.create(f.src),b=c.activePlugin.create(f.src)):b=c._defaultSoundInstance,b.uniqueId=c._lastID++,b};c.setVolume=function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=
this._instances,e=0,g=b.length;g>e;e++)b[e].setMasterVolume(a)};c.getVolume=function(){return c._masterVolume};c.setMute=function(a){if(null==a||void 0==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,g=b.length;g>c;c++)b[c].setMasterMute(a);return!0};c.getMute=function(){return this._masterMute};c.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()};c._playInstance=function(a,b,e,g,m,k,
l){if(b instanceof Object&&(e=b.delay,g=b.offset,m=b.loop,k=b.volume,l=b.pan,b=b.interrupt),b=b||c.defaultInterruptBehavior,null==e&&(e=0),null==g&&(g=a.getPosition()),null==m&&(m=0),null==k&&(k=a.volume),null==l&&(l=a.pan),0==e){if(!c._beginPlaying(a,b,g,m,k,l))return!1}else e=setTimeout(function(){c._beginPlaying(a,b,g,m,k,l)},e),a._delayTimeoutId=e;return this._instances.push(a),!0};c._beginPlaying=function(b,c,e,g,m,k){return a.add(b,c)?b._beginPlaying(e,g,m,k)?!0:(b=createjs.indexOf(this._instances,
b),-1<b&&this._instances.splice(b,1),!1):!1};c._getSrcById=function(a){return null==c._idHash||null==c._idHash[a]?a:c._idHash[a]};c._playFinished=function(b){a.remove(b);b=createjs.indexOf(this._instances,b);-1<b&&this._instances.splice(b,1)};createjs.Sound=c;a.channels={};a.create=function(b,c){return null==a.get(b)?(a.channels[b]=new a(b,c),!0):!1};a.removeSrc=function(b){var c=a.get(b);return null==c?!1:(c.removeAll(),delete a.channels[b],!0)};a.removeAll=function(){for(var b in a.channels)a.channels[b].removeAll();
a.channels={}};a.add=function(b,c){var e=a.get(b.src);return null==e?!1:e.add(b,c)};a.remove=function(b){var c=a.get(b.src);return null==c?!1:(c.remove(b),!0)};a.maxPerChannel=function(){return m.maxDefault};a.get=function(b){return a.channels[b]};var m=a.prototype;m.src=null;m.max=null;m.maxDefault=100;m.length=0;m.init=function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};m.get=function(a){return this._instances[a]};m.add=function(a,b){return this.getSlot(b,
a)?(this._instances.push(a),this.length++,!0):!1};m.remove=function(a){a=createjs.indexOf(this._instances,a);return-1==a?!1:(this._instances.splice(a,1),this.length--,!0)};m.removeAll=function(){for(var a=this.length-1;0<=a;a--)this._instances[a].stop()};m.getSlot=function(a){for(var b,e,g=0,m=this.max;m>g;g++){if(b=this.get(g),null==b)return!0;(a!=c.INTERRUPT_NONE||b.playState==c.PLAY_FINISHED)&&(0!=g?b.playState==c.PLAY_FINISHED||b.playState==c.PLAY_INTERRUPTED||b.playState==c.PLAY_FAILED?e=b:(a==
c.INTERRUPT_EARLY&&b.getPosition()<e.getPosition()||a==c.INTERRUPT_LATE&&b.getPosition()>e.getPosition())&&(e=b):e=b)}return null!=e?(e._interrupt(),this.remove(e),!0):!1};m.toString=function(){return"[Sound SoundChannel]"};c._defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=
this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=c.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};b.init=function(){var a=window.navigator.userAgent;b.isFirefox=-1<a.indexOf("Firefox");b.isOpera=null!=window.opera;b.isChrome=-1<a.indexOf("Chrome");b.isIOS=-1<a.indexOf("iPod")||
-1<a.indexOf("iPhone")||-1<a.indexOf("iPad");b.isAndroid=-1<a.indexOf("Android");b.isBlackberry=-1<a.indexOf("Blackberry")};b.init();createjs.Sound.BrowserDetect=b})();this.createjs=this.createjs||{};
(function(){function c(){this._init()}c._capabilities=null;c.isSupported=function(){var a=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||a||this._isFileXHRSupported()?(c._generateCapabilities(),null==c.context?!1:!0):!1};c._isFileXHRSupported=function(){var a=!0,c=new XMLHttpRequest;try{c.open("GET","fail.fail",!1)}catch(d){return a=!1}c.onerror=function(){a=!1};c.onload=function(){a=404==this.status||
200==this.status||0==this.status&&""!=this.response};try{c.send()}catch(f){a=!1}return a};c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(window.webkitAudioContext)c.context=new webkitAudioContext;else{if(!window.AudioContext)return null;c.context=new AudioContext}c._compatibilitySetUp();c.playEmptySound();c._capabilities={panning:!0,volume:!0,tracks:-1};for(var m=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,
f=0,e=m.length;e>f;f++){var g=m[f],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}2>c.context.destination.numberOfChannels&&(c._capabilities.panning=!1);c.dynamicsCompressorNode=c.context.createDynamicsCompressor();c.dynamicsCompressorNode.connect(c.context.destination);c.gainNode=c.context.createGain();c.gainNode.connect(c.dynamicsCompressorNode)}};c._compatibilitySetUp=function(){if(!c.context.createGain){c.context.createGain=
c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn;a.__proto__.stop=a.__proto__.noteOff;this._panningModel=0}};c.playEmptySound=function(){var a=this.context.createBuffer(1,1,22050),c=this.context.createBufferSource();c.buffer=a;c.connect(this.context.destination);c.start(0,0,0)};var a=c.prototype;a._capabilities=null;a._volume=1;a.context=null;a._panningModel="equalpower";a.dynamicsCompressorNode=null;a.gainNode=null;a._arrayBuffers=null;a._init=
function(){this._capabilities=c._capabilities;this._arrayBuffers={};this.context=c.context;this.gainNode=c.gainNode;this.dynamicsCompressorNode=c.dynamicsCompressorNode};a.register=function(a){this._arrayBuffers[a]=!0;return{tag:new createjs.WebAudioPlugin.Loader(a,this)}};a.isPreloadStarted=function(a){return null!=this._arrayBuffers[a]};a.isPreloadComplete=function(a){return!(null==this._arrayBuffers[a]||1==this._arrayBuffers[a])};a.removeSound=function(a){delete this._arrayBuffers[a]};a.removeAllSounds=
function(){this._arrayBuffers={}};a.addPreloadResults=function(a,c){this._arrayBuffers[a]=c};a._handlePreloadComplete=function(){createjs.Sound._sendFileLoadEvent(this.src)};a.preload=function(a){this._arrayBuffers[a]=!0;a=new createjs.WebAudioPlugin.Loader(a,this);a.onload=this._handlePreloadComplete;a.load()};a.create=function(a){return this.isPreloadStarted(a)||this.preload(a),new createjs.WebAudioPlugin.SoundInstance(a,this)};a.setVolume=function(a){return this._volume=a,this._updateVolume(),
!0};a._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)};a.getVolume=function(){return this._volume};a.setMute=function(){return this._updateVolume(),!0};a.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=c})();
(function(){function c(a,b){this._init(a,b)}var a=c.prototype=new createjs.EventDispatcher;a.src=null;a.uniqueId=-1;a.playState=null;a._owner=null;a._offset=0;a._delay=0;a._volume=1;try{Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(a){return null==Number(a)?!1:(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume(),void 0)}})}catch(b){}a._pan=0;try{Object.defineProperty(a,"pan",{get:function(){return this._pan},set:function(a){return this._owner._capabilities.panning&&
null!=Number(a)?(a=Math.max(-1,Math.min(1,a)),this._pan=a,this.panNode.setPosition(a,0,-0.5),void 0):!1}})}catch(m){}a._duration=0;a._remainingLoops=0;a._delayTimeoutId=null;a._soundCompleteTimeout=null;a.gainNode=null;a.panNode=null;a.sourceNode=null;a._sourceNodeNext=null;a._muted=!1;a._paused=!1;a._startTime=0;a._endedHandler=null;a._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};a._init=function(a,b){this._owner=b;this.src=a;this.gainNode=this._owner.context.createGain();
this.panNode=this._owner.context.createPanner();this.panNode.panningModel=this._owner._panningModel;this.panNode.connect(this.gainNode);this._owner.isPreloadComplete(this.src)&&(this._duration=1E3*this._owner._arrayBuffers[this.src].duration);this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};a._cleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));
0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);this._startTime=0;null!=window.createjs&&createjs.Sound._playFinished(this)};a._cleanUpAudioNode=function(a){return a&&(a.stop(0),a.disconnect(this.panNode),a=null),a};a._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._paused=!1;this._sendEvent("interrupted")};a._handleSoundReady=function(){if(null!=window.createjs){if(1E3*
this._offset>this.getDuration())return this.playFailed(),void 0;0>this._offset&&(this._offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this._paused=!1;this.gainNode.connect(this._owner.gainNode);var a=this._owner._arrayBuffers[this.src].duration;this.sourceNode=this._createAndPlayAudioNode(this._owner.context.currentTime-a,this._offset);this._duration=1E3*a;this._startTime=this.sourceNode.startTime-this._offset;this._soundCompleteTimeout=setTimeout(this._endedHandler,1E3*(a-this._offset));
0!=this._remainingLoops&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0))}};a._createAndPlayAudioNode=function(a,b){var c=this._owner.context.createBufferSource();return c.buffer=this._owner._arrayBuffers[this.src],c.connect(this.panNode),this._owner.context.currentTime,c.startTime=a+c.buffer.duration,c.start(c.startTime,b,c.buffer.duration-b),c};a.play=function(a,b,c,g,m,k){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,g,m,k)};a._beginPlaying=function(a,b,c,g){return null!=
window.createjs&&this.src?(this._offset=a/1E3,this._remainingLoops=b,this.volume=c,this.pan=g,this._owner.isPreloadComplete(this.src)?(this._handleSoundReady(null),this._sendEvent("succeeded"),1):(this.playFailed(),void 0)):void 0};a.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this._paused=!0,this._offset=this._owner.context.currentTime-this._startTime,this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&
this.gainNode.disconnect(),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),!0)};a.resume=function(){return this._paused?(this._handleSoundReady(null),!0):!1};a.stop=function(){return this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._offset=0,!0};a.setVolume=function(a){return this.volume=a,!0};a._updateVolume=function(){var a=this._muted?0:this._volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1};a.getVolume=function(){return this.volume};
a.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};a.getMute=function(){return this._muted};a.setPan=function(a){return this.pan=a,this.pan!=a?!1:void 0};a.getPan=function(){return this.pan};a.getPosition=function(){return 1E3*(this._paused||null==this.sourceNode?this._offset:this._owner.context.currentTime-this._startTime)};a.setPosition=function(a){return this._offset=a/1E3,this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._cleanUpAudioNode(this.sourceNode),
this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout)),this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this._handleSoundReady(null),!0};a.getDuration=function(){return this._duration};a._handleSoundComplete=function(){return this._offset=0,0!=this._remainingLoops?(this._remainingLoops--,this._sourceNodeNext?(this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._startTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,
0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)):this._handleSoundReady(null),this._sendEvent("loop"),void 0):(null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")),void 0)};a.playFailed=function(){null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed"))};a.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.WebAudioPlugin.SoundInstance=c})();
(function(){function c(a,c){this._init(a,c)}var a=c.prototype;a.request=null;a.owner=null;a.progress=-1;a.src=null;a.originalSrc=null;a.result=null;a.onload=null;a.onprogress=null;a.onError=null;a._init=function(a,c){this.originalSrc=this.src=a;this.owner=c};a.load=function(a){null!=a&&(this.src=a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,
this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};a.handleProgress=function(a,c){this.progress=a/c;null!=this.onprogress&&this.onprogress({loaded:a,total:c,progress:this.progress})};a.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};a.handleAudioDecoded=function(a){this.progress=1;this.result=a;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,
this.result);this.onload&&this.onload()};a.handleError=function(a){this.owner.removeSound(this.src);this.onerror&&this.onerror(a)};a.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=c})();this.createjs=this.createjs||{};
(function(){function c(){this._init()}c.MAX_INSTANCES=30;c._AUDIO_READY="canplaythrough";c._AUDIO_ENDED="ended";c._AUDIO_SEEKED="seeked";c._AUDIO_STALLED="stalled";c._capabilities=null;c.enableIOS=!1;c.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!c.enableIOS)return!1;c._generateCapabilities();return null==c.tag||null==c._capabilities?!1:!0};c._generateCapabilities=function(){if(null==c._capabilities){var a=c.tag=document.createElement("audio");if(null==a.canPlayType)return null;
c._capabilities={panning:!0,volume:!0,tracks:-1};for(var m=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,f=0,e=m.length;e>f;f++){var g=m[f],h=d[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+h)&&""!=a.canPlayType("audio/"+h)}}};var a=c.prototype;a._capabilities=null;a._audioSources=null;a.defaultNumChannels=2;a.loadedHandler=null;a._init=function(){this._capabilities=c._capabilities;this._audioSources={}};
a.register=function(a,c){this._audioSources[a]=!0;for(var d=createjs.HTMLAudioPlugin.TagPool.get(a),f=null,e=c||this.defaultNumChannels,g=0;e>g;g++)f=this._createTag(a),d.add(f);if(f.id=a,this.loadedHandler=createjs.proxy(this._handleTagLoad,this),f.addEventListener&&f.addEventListener("canplaythrough",this.loadedHandler),null==f.onreadystatechange)f.onreadystatechange=this.loadedHandler;else{var h=f.onreadystatechange;f.onreadystatechange=function(){h();this.loadedHandler()}}return{tag:f,numChannels:e}};
a._handleTagLoad=function(a){a.target.removeEventListener&&a.target.removeEventListener("canplaythrough",this.loadedHandler);a.target.onreadystatechange=null;a.target.src!=a.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(a.target.id)};a._createTag=function(a){var c=document.createElement("audio");return c.autoplay=!1,c.preload="none",c.src=a,c};a.removeSound=function(a){delete this._audioSources[a];createjs.HTMLAudioPlugin.TagPool.remove(a)};a.removeAllSounds=function(){this._audioSources={};
createjs.HTMLAudioPlugin.TagPool.removeAll()};a.create=function(a){if(!this.isPreloadStarted(a)){var c=createjs.HTMLAudioPlugin.TagPool.get(a),d=this._createTag(a);d.id=a;c.add(d);this.preload(a,{tag:d})}return new createjs.HTMLAudioPlugin.SoundInstance(a,this)};a.isPreloadStarted=function(a){return null!=this._audioSources[a]};a.preload=function(a,c){this._audioSources[a]=!0;new createjs.HTMLAudioPlugin.Loader(a,c.tag)};a.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=c})();
(function(){function c(a,b){this._init(a,b)}var a=c.prototype=new createjs.EventDispatcher;a.src=null;a.uniqueId=-1;a.playState=null;a._owner=null;a.loaded=!1;a._offset=0;a._delay=0;a._volume=1;try{Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(a){null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume())}})}catch(b){}a.pan=0;a._duration=0;a._remainingLoops=0;a._delayTimeoutId=null;a.tag=null;a._muted=!1;a._paused=!1;a._endedHandler=null;
a._readyHandler=null;a._stalledHandler=null;a.loopHandler=null;a._init=function(a,b){this.src=a;this._owner=b;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleSoundReady,this);this._stalledHandler=createjs.proxy(this._handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};a._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};a._cleanUp=function(){var a=this.tag;if(null!=a){a.pause();a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,
this._endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{a.currentTime=0}catch(b){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,a);this.tag=null}clearTimeout(this._delayTimeoutId);null!=window.createjs&&createjs.Sound._playFinished(this)};a._interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this._cleanUp(),this._paused=!1,
this._sendEvent("interrupted"))};a.play=function(a,b,c,e,g,h){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,e,g,h)};a._beginPlaying=function(a,b,c,e){if(null==window.createjs)return-1;var g=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==g?(this.playFailed(),-1):(g.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._offset=a,this.volume=c,this.pan=e,this._updateVolume(),this._remainingLoops=b,4!==g.readyState?(g.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,
this._readyHandler,!1),g.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),g.preload="auto",g.load()):this._handleSoundReady(null),this._sendEvent("succeeded"),1)};a._handleSoundStalled=function(){this._cleanUp();this._sendEvent("failed")};a._handleSoundReady=function(){if(null!=window.createjs){if(this._duration=1E3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,
!1),this._offset>=this.getDuration())return this.playFailed(),void 0;0<this._offset&&(this.tag.currentTime=0.001*this._offset);-1==this._remainingLoops&&(this.tag.loop=!0);0!=this._remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0);this.tag.play()}};a.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this._paused=!0,this.tag.pause(),clearTimeout(this._delayTimeoutId),!0)};a.resume=
function(){return this._paused&&null!=this.tag?(this._paused=!1,this.tag.play(),!0):!1};a.stop=function(){return this._offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),!0};a.setMasterVolume=function(){return this._updateVolume(),!0};a.setVolume=function(a){return this.volume=a,!0};a._updateVolume=function(){if(null!=this.tag){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;return a!=this.tag.volume&&(this.tag.volume=a),!0}return!1};
a.getVolume=function(){return this.volume};a.setMasterMute=function(){return this._updateVolume(),!0};a.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};a.getMute=function(){return this._muted};a.setPan=function(){return!1};a.getPan=function(){return 0};a.getPosition=function(){return null==this.tag?this._offset:1E3*this.tag.currentTime};a.setPosition=function(a){if(null==this.tag)this._offset=a;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,
this.loopHandler,!1);try{this.tag.currentTime=0.001*a}catch(b){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)}return!0};a.getDuration=function(){return this._duration};a._handleSoundComplete=function(){this._offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),this._sendEvent("complete"))};a.handleSoundLoop=function(){this._offset=0;this._remainingLoops--;0==this._remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,
this.loopHandler,!1));this._sendEvent("loop")};a.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this._cleanUp(),this._sendEvent("failed"))};a.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.HTMLAudioPlugin.SoundInstance=c})();
(function(){function c(a,c){this._init(a,c)}var a=c.prototype;a.src=null;a.tag=null;a.preloadTimer=null;a.loadedHandler=null;a._init=function(a,c){if(this.src=a,this.tag=c,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var d=
this.tag.onreadystatechange;this.tag.onreadystatechange=function(){d();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};a.preloadTick=function(){var a=this.tag.buffered,c=this.tag.duration;0<a.length&&a.end(0)>=c-1&&this.handleTagLoaded()};a.handleTagLoaded=function(){clearInterval(this.preloadTimer)};a.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=
null;createjs.Sound._sendFileLoadEvent(this.src)};a.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=c})();
(function(){function c(a){this._init(a)}c.tags={};c.get=function(a){var m=c.tags[a];return null==m&&(m=c.tags[a]=new c(a)),m};c.remove=function(a){var m=c.tags[a];return null==m?!1:(m.removeAll(),delete c.tags[a],!0)};c.removeAll=function(){for(var a in c.tags)c.tags[a].removeAll();c.tags={}};c.getInstance=function(a){a=c.tags[a];return null==a?null:a.get()};c.setInstance=function(a,m){var d=c.tags[a];return null==d?null:d.set(m)};c.checkSrc=function(a){a=c.tags[a];return null==a?null:(a.checkSrcChange(),
void 0)};var a=c.prototype;a.src=null;a.length=0;a.available=0;a.tags=null;a._init=function(a){this.src=a;this.tags=[]};a.add=function(a){this.tags.push(a);this.length++;this.available++};a.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};a.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();return null==a.parentNode&&document.body.appendChild(a),a};a.set=function(a){-1==createjs.indexOf(this.tags,
a)&&this.tags.push(a);this.available=this.tags.length};a.checkSrcChange=function(){for(var a=this.tags.length-1,c=this.tags[a].src;a--;)this.tags[a].src=c};a.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=c})();function BasicCollision(c){this.mapper=c;this.basicCollision=function(a){return this.checkCollisions({left:{x:a.x+2,y:a.y+a.animations.spriteSheet._frameHeight/2},bottom:{x:a.x+a.animations.spriteSheet._frameWidth/2,y:a.y+a.animations.spriteSheet._frameHeight},right:{x:a.x+a.animations.spriteSheet._frameWidth-2,y:a.y+a.animations.spriteSheet._frameHeight/2},top:{x:a.x+a.animations.spriteSheet._frameWidth/2,y:a.y+2}},this.mapper.collisionArray,this.mapper.heightOffset,this.mapper.widthOffset)};this.checkCollisions=
function(a,b,c,d){var f={left:!0,down:!0,right:!0,up:!0};try{var e=Math.floor((a.left.y-c)/32),g=Math.floor((a.left.x-d)/32);if(-1>=e||e>b.length)e=0;if(-1>=g||g>b[e].length)g=0;b[e][g]&&(f.left=!1);e=Math.floor((a.bottom.y-c)/32);g=Math.floor((a.bottom.x-d)/32);if(-1>=e||e>b.length)e=0;if(-1>=g||g>b[e].length)g=0;b[e][g]&&(f.down=!1);e=Math.floor((a.right.y-c)/32);g=Math.floor((a.right.x-d)/32);if(-1>=e||e>b.length)e=0;if(-1>=g||g>b[e].length)g=0;b[e][g]&&(f.right=!1);e=Math.floor((a.top.y-c)/32);
g=Math.floor((a.top.x-d)/32);if(-1>=e||e>b.length)e=0;if(-1>=g||g>b[e].length)g=0;b[e][g]&&(f.up=!1)}catch(h){}return f}};function TileCollisionDetector(){this.checkCollisions=function(c,a,b,m){var d={leftmove:!0,downmove:!0,rightmove:!0,upmove:!0,nextmap:!1};try{var f=Math.floor((c.leftTop.y-b)/32),e=Math.floor((c.leftTop.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.leftmove=!1);f=Math.floor((c.leftBottom.y-b)/32);e=Math.floor((c.leftBottom.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.leftmove=!1);f=Math.floor((c.bottomLeft.y-b)/32);e=Math.floor((c.bottomLeft.x-
m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.downmove=!1);f=Math.floor((c.bottomRight.y-b)/32);e=Math.floor((c.bottomRight.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.downmove=!1);f=Math.floor((c.rightBottom.y-b)/32);e=Math.floor((c.rightBottom.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.rightmove=!1);f=Math.floor((c.rightTop.y-b)/32);e=Math.floor((c.rightTop.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=
0;a[f][e]&&(d.rightmove=!1);f=Math.floor((c.topLeft.y-b)/32);e=Math.floor((c.topLeft.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.upmove=!1);f=Math.floor((c.topRight.y-b)/32);e=Math.floor((c.topRight.x-m)/32);if(-1>=f||f>a.length)f=0;if(-1>=e||e>a[f].length)e=0;a[f][e]&&(d.upmove=!1)}catch(g){d={leftmove:!1,downmove:!1,rightmove:!1,upmove:!1,nextmap:!0}}return d}};this.ndgmr=this.ndgmr||{};
(function(){var c=document.createElement("canvas"),a=c.getContext("2d");a.save();var b=document.createElement("canvas"),m=b.getContext("2d");m.save();var d=[],f=function(a,b){var c,d;c=k(a);d=k(b);return h(c,d)};ndgmr.checkRectCollision=f;ndgmr.checkPixelCollision=function(d,g,h,k){if(ndgmr.DEBUG||ndgmr.DEBUG_COLLISION)document.body.appendChild(c),document.body.appendChild(b);k=k||!1;var q,r,v,t;v=d.localToGlobal(0,0);t=g.localToGlobal(0,0);q=d instanceof createjs.Bitmap?{width:d.image.width,height:d.image.height}:
d.spriteSheet.getFrame(d.currentFrame).rect;r=g instanceof createjs.Bitmap?{width:g.image.width,height:g.image.height}:g.spriteSheet.getFrame(g.currentFrame).rect;if(!(Math.abs(t.x-v.x)<r.width*g.scaleX+q.width*d.scaleX&&Math.abs(t.y-v.y)<r.height*g.scaleY+q.height*g.scaleY))return!1;intersection=f(d,g);if(!intersection)return!1;h=Math.min(0.99999,h||0);c.width=intersection.width;c.height=intersection.height;b.width=intersection.width;b.height=intersection.height;d=e(intersection,d,a,1);a:{g=e(intersection,
g,m,2);q=intersection.width;r=intersection.height;var u,y,z=3,w={x:Infinity,y:Infinity,x2:-Infinity,y2:-Infinity};for(y=0;y<r;++y)for(u=0;u<q;++u){v=d.length>z+1?d[z]/255:0;t=g.length>z+1?g[z]/255:0;if(v>h&&t>h)if(k)u<w.x&&(w.x=u),u>w.x2&&(w.x2=u),y<w.y&&(w.y=y),y>w.y2&&(w.y2=y);else{d={x:u,y:y,width:1,height:1};break a}z+=4}Infinity!=w.x?(w.width=w.x2-w.x+1,w.height=w.y2-w.y+1,d=w):d=null}if(d)d.x+=intersection.x,d.x2+=intersection.x,d.y+=intersection.y,d.y2+=intersection.y;else return!1;return d};
var e=function(a,b,c,e){var f,h,k;b instanceof createjs.Bitmap?h=b.image:b instanceof createjs.Sprite&&(frame=b.spriteSheet.getFrame(b.currentFrame),f=frame.image.src+":"+frame.rect.x+":"+frame.rect.y+":"+frame.rect.width+":"+frame.rect.height,d[f]?h=d[f]:d[f]=h=createjs.SpriteSheetUtils.extractFrame(b.spriteSheet,b.currentFrame));f=b.globalToLocal(a.x,a.y);c.restore();c.save();c.rotate(g(b,"rotation")*(Math.PI/180));c.scale(g(b,"scaleX","*"),g(b,"scaleY","*"));c.translate(-f.x-a["rect"+e].regX,-f.y-
a["rect"+e].regY);void 0!=(k=b.sourceRect)?c.drawImage(h,k.x,k.y,k.width,k.height,0,0,k.width,k.height):c.drawImage(h,0,0,h.width,h.height);return c.getImageData(0,0,a.width,a.height).data},g=function(a,b,c){c=c||"+";if(a.parent&&a.parent[b]){var d=a[b];a=g(a.parent,b,c);return"*"==c?d*a:d+a}return a[b]},h=function(a,b){var c,d,e,f,g,h,k,m;c=a.x+(e=a.width/2);d=a.y+(f=a.height/2);g=b.x+(h=b.width/2);k=b.y+(m=b.height/2);c=Math.abs(c-g)-(e+h);d=Math.abs(d-k)-(f+m);return 0>c&&0>d?(c=Math.min(Math.min(a.width,
b.width),-c),d=Math.min(Math.min(a.height,b.height),-d),{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),width:c,height:d,rect1:a,rect2:b}):null};ndgmr.calculateIntersection=h;var k=function(a){var b={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){b.x2=-Infinity;b.y2=-Infinity;a=a.children;var c=a.length,d,e;for(e=0;e<c;e++)d=k(a[e]),d.x<b.x&&(b.x=d.x),d.y<b.y&&(b.y=d.y),d.x+d.width>b.x2&&(b.x2=d.x+d.width),d.y+d.height>b.y2&&(b.y2=d.y+d.height);Infinity==b.x&&(b.x=0);Infinity==
b.y&&(b.y=0);Infinity==b.x2&&(b.x2=0);Infinity==b.y2&&(b.y2=0);b.width=b.x2-b.x;b.height=b.y2-b.y;delete b.x2;delete b.y2}else{var f,g,h;a instanceof createjs.Bitmap?(d=a.sourceRect||a.image,f=d.width,g=d.height):a instanceof createjs.Sprite?a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image?(d=a.spriteSheet.getFrame(a.currentFrame),f=d.rect.width,g=d.rect.height,c=d.regX,h=d.regY):(b.x=a.x||0,b.y=a.y||0):(b.x=a.x||0,b.y=a.y||0);c=c||0;f=f||0;
h=h||0;g=g||0;b.regX=c;b.regY=h;d=a.localToGlobal(0-c,0-h);e=a.localToGlobal(f-c,g-h);f=a.localToGlobal(f-c,0-h);a=a.localToGlobal(0-c,g-h);b.x=Math.min(Math.min(Math.min(d.x,e.x),f.x),a.x);b.y=Math.min(Math.min(Math.min(d.y,e.y),f.y),a.y);b.width=Math.max(Math.max(Math.max(d.x,e.x),f.x),a.x)-b.x;b.height=Math.max(Math.max(Math.max(d.y,e.y),f.y),a.y)-b.y}return b};ndgmr.getBounds=k})();this.ndgmrX=this.ndgmrX||{};
(function(){var c=document.createElement("canvas"),a=c.getContext("2d");a.save();var b=document.createElement("canvas"),m=b.getContext("2d");m.save();var d=[],f=function(a,b){var c,d={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){d.x2=-Infinity;d.y2=-Infinity;c=a.children;var e=c.length,f,g;for(g=0;g<e;g++)f=k(c[g]),f.x<d.x&&(d.x=f.x),f.y<d.y&&(d.y=f.y),f.x+f.width>d.x2&&(d.x2=f.x+f.width),f.y+f.height>d.y2&&(d.y2=f.y+f.height);Infinity==d.x&&(d.x=0);Infinity==d.y&&(d.y=
0);Infinity==d.x2&&(d.x2=0);Infinity==d.y2&&(d.y2=0);d.width=d.x2-d.x;d.height=d.y2-d.y;delete d.x2;delete d.y2}else{var m,u;a instanceof createjs.Bitmap?(e=a.sourceRect||a.image,g=e.width,m=e.height):a instanceof createjs.Sprite?a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image?(e=a.spriteSheet.getFrame(a.currentFrame),g=e.rect.width,m=e.rect.height,c=e.regX,u=e.regY):(d.x=a.x||0,d.y=a.y||0):(d.x=a.x||0,d.y=a.y||0);c=c||0;g=g||0;u=u||0;m=m||
0;d.regX=c;d.regY=u;e=a.localToGlobal(0-c,0-u);f=a.localToGlobal(g-c,m-u);g=a.localToGlobal(g-c,0-u);c=a.localToGlobal(0-c,m-u);d.x=Math.min(Math.min(Math.min(e.x,f.x),g.x),c.x)+20;d.y=Math.min(Math.min(Math.min(e.y,f.y),g.y),c.y)+16;d.width=Math.max(Math.max(Math.max(e.x,f.x),g.x),c.x)-d.x;d.height=Math.max(Math.max(Math.max(e.y,f.y),g.y),c.y)-d.y-6}c=k(b);return h(d,c)};ndgmrX.checkRectCollision=f;ndgmrX.checkPixelCollision=function(d,g,h,k){if(ndgmrX.DEBUG||ndgmrX.DEBUG_COLLISION)document.body.appendChild(c),
document.body.appendChild(b);k=k||!1;var q,r,v,t;v=d.localToGlobal(0,0);t=g.localToGlobal(0,0);q=d instanceof createjs.Bitmap?{width:d.image.width,height:d.image.height}:d.spriteSheet.getFrame(d.currentFrame).rect;r=g instanceof createjs.Bitmap?{width:g.image.width,height:g.image.height}:g.spriteSheet.getFrame(g.currentFrame).rect;if(!(Math.abs(t.x-v.x)<r.width*g.scaleX+q.width*d.scaleX&&Math.abs(t.y-v.y)<r.height*g.scaleY+q.height*g.scaleY))return!1;intersection=f(d,g);if(!intersection)return!1;
h=Math.min(0.99999,h||0);c.width=intersection.width;c.height=intersection.height;b.width=intersection.width;b.height=intersection.height;d=e(intersection,d,a,1);a:{g=e(intersection,g,m,2);q=intersection.width;r=intersection.height;var u,y,z=3,w={x:Infinity,y:Infinity,x2:-Infinity,y2:-Infinity};for(y=0;y<r;++y)for(u=0;u<q;++u){v=d.length>z+1?d[z]/255:0;t=g.length>z+1?g[z]/255:0;if(v>h&&t>h)if(k)u<w.x&&(w.x=u),u>w.x2&&(w.x2=u),y<w.y&&(w.y=y),y>w.y2&&(w.y2=y);else{d={x:u,y:y,width:1,height:1};break a}z+=
4}Infinity!=w.x?(w.width=w.x2-w.x+1,w.height=w.y2-w.y+1,d=w):d=null}if(d)d.x+=intersection.x,d.x2+=intersection.x,d.y+=intersection.y,d.y2+=intersection.y;else return!1;return d};var e=function(a,b,c,e){var f,h,k;b instanceof createjs.Bitmap?h=b.image:b instanceof createjs.Sprite&&(frame=b.spriteSheet.getFrame(b.currentFrame),f=frame.image.src+":"+frame.rect.x+":"+frame.rect.y+":"+frame.rect.width+":"+frame.rect.height,d[f]?h=d[f]:d[f]=h=createjs.SpriteSheetUtils.extractFrame(b.spriteSheet,b.currentFrame));
f=b.globalToLocal(a.x,a.y);c.restore();c.save();c.rotate(g(b,"rotation")*(Math.PI/180));c.scale(g(b,"scaleX","*"),g(b,"scaleY","*"));c.translate(-f.x-a["rect"+e].regX,-f.y-a["rect"+e].regY);void 0!=(k=b.sourceRect)?c.drawImage(h,k.x,k.y,k.width,k.height,0,0,k.width,k.height):c.drawImage(h,0,0,h.width,h.height);return c.getImageData(0,0,a.width,a.height).data},g=function(a,b,c){c=c||"+";if(a.parent&&a.parent[b]){var d=a[b];a=g(a.parent,b,c);return"*"==c?d*a:d+a}return a[b]},h=function(a,b){var c,d,
e,f,g,h,k,m;c=a.x+(e=a.width/2);d=a.y+(f=a.height/2);g=b.x+(h=b.width/2);k=b.y+(m=b.height/2);c=Math.abs(c-g)-(e+h);d=Math.abs(d-k)-(f+m);return 0>c&&0>d?(c=Math.min(Math.min(a.width,b.width),-c),d=Math.min(Math.min(a.height,b.height),-d),{x:Math.max(a.x,b.x),y:Math.max(a.y,b.y),width:c,height:d,rect1:a,rect2:b}):null};ndgmrX.calculateIntersection=h;var k=function(a){var b={x:Infinity,y:Infinity,width:0,height:0};if(a instanceof createjs.Container){b.x2=-Infinity;b.y2=-Infinity;a=a.children;var c=
a.length,d,e;for(e=0;e<c;e++)d=k(a[e]),d.x<b.x&&(b.x=d.x),d.y<b.y&&(b.y=d.y),d.x+d.width>b.x2&&(b.x2=d.x+d.width),d.y+d.height>b.y2&&(b.y2=d.y+d.height);Infinity==b.x&&(b.x=0);Infinity==b.y&&(b.y=0);Infinity==b.x2&&(b.x2=0);Infinity==b.y2&&(b.y2=0);b.width=b.x2-b.x;b.height=b.y2-b.y;delete b.x2;delete b.y2}else{var f,g,h;a instanceof createjs.Bitmap?(d=a.sourceRect||a.image,f=d.width,g=d.height):a instanceof createjs.Sprite?a.spriteSheet._frames&&a.spriteSheet._frames[a.currentFrame]&&a.spriteSheet._frames[a.currentFrame].image?
(d=a.spriteSheet.getFrame(a.currentFrame),f=d.rect.width,g=d.rect.height,c=d.regX,h=d.regY):(b.x=a.x||0,b.y=a.y||0):(b.x=a.x||0,b.y=a.y||0);c=c||0;f=f||0;h=h||0;g=g||0;b.regX=c;b.regY=h;d=a.localToGlobal(0-c,0-h);e=a.localToGlobal(f-c,g-h);f=a.localToGlobal(f-c,0-h);a=a.localToGlobal(0-c,g-h);b.x=Math.min(Math.min(Math.min(d.x,e.x),f.x),a.x);b.y=Math.min(Math.min(Math.min(d.y,e.y),f.y),a.y);b.width=Math.max(Math.max(Math.max(d.x,e.x),f.x),a.x)-b.x;b.height=Math.max(Math.max(Math.max(d.y,e.y),f.y),
a.y)-b.y}return b};ndgmrX.getBounds=k})();var mapData2={height:15,layers:[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,9,10,112,113,0,0,0,0,0,0,0,0,0,0,0,0,0,36,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,31,32,0,0,112,113,0,0,0,0,0,0,0,0,0,0,0,36,37,0,0,0,0,0,0,0,0,0,0,112,5,113,0,0,0,112,113,0,0,0,0,0,0,0,0,125,126,0,0,1,2,0,0,0,0,0,0,1,2,0,0,0,36,37,0,0,0,1,2,0,0,112,5,113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,31,32,0,0,36,37,0,0,0,0,0,0,41,42,0,0,0,36,37,112,5,113,41,42,12,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,25,26,0,0,36,37,106,107,106,107,106,107,106,107,0,0],height:15,name:"Tile Layer 1",
opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,103,103,103,103,103,103,103,103,98,0,0,0,0,0,0,61,61,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,117,104,104,104,104,104,104,104,104,118,0,61,61,0,0,0,0,0,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,61,0,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,0,0,0,0,0,0,137,0,0,0,0,0,61,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,137,0,0,137,0,0,0,0,0,0,0,0,61,61,61,0,0,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,61,61,61,61,61,61,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 2",
opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,0,0,0,0,0,0,0,0,0,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,104,0,0,104,104,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 3",opacity:1,
type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,3,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 4",opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0}],orientation:"orthogonal",
properties:{},tileheight:32,tilesets:[{firstgid:1,image:"images/map1.png",imageheight:480,imagewidth:320,margin:0,name:"map1",properties:{},spacing:0,tileheight:32,tilewidth:32}],tilewidth:32,version:1,width:45},mapData3={height:15,layers:[{data:[114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,
114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,
114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,114,0,0,0,0,0,0,0,12,4,4,4,4,4,4,13,114,114,114,114,114,114,114,114,114,114,114,114,114,114,12,4,4,4,4,4,4,13,114,
114,114,114,114,114,114,114,0,0,0,0,0,0,0,27,5,5,5,5,5,5,28,114,114,114,114,114,114,114,114,114,114,114,114,114,114,27,5,5,5,5,5,5,28,12,4,4,4,4,4,4,13,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,13,12,4,4,4,4,4,4,13,0,0,0,0,0,0,0,0,27,5,5,5,5,5,5,28,0,0,0,0,0,0,0,0,0,0,0,0,0,27,5,5,5,5,5,5,28,27,5,5,5,5,5,5,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,13,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,5,5,5,5,5,5,28,12,4,4,4,4,4,4,13,12,4,4,4,4,4,4,13,12,4,4,4,4,4,4,13,12,4,4,4,13],height:15,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,103,103,103,103,98,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,117,104,104,104,104,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 2",opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,147,147,147,147,147,147,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,104,104,104,104,104,104,104,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 3",opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,0,3,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 4",opacity:1,type:"tilelayer",visible:!0,width:45,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:32,tilesets:[{firstgid:1,image:"images/map1.png",imageheight:480,imagewidth:320,margin:0,name:"map1",properties:{},spacing:0,tileheight:32,tilewidth:32}],tilewidth:32,version:1,width:45};
function Mapper(c,a){this.map2=mapData3;this.tileset=new Image;this.mapData=mapData2;this.stage=c;this.gamestage=a;this.widthOffset=this.heightOffset=null;this.collisionArray=[[],[]];this.container=new createjs.Container;this.container.x=0;this.container.y=0;this.advancing=!1;this.advancecount=0;this.reversing=!1;this.reversecount=0;this.transitiondown=!1;this.transitioncount=0;this.heightIndex=1;this.lastHeightOffset=0;this.enemies=[];this.player=new Player(this);this.basicCollision=null;this.deathCollisionArray=
[[],[]];this.doneRendering=!1;this.heightOffset=this.gamestage.canvas.height-this.mapData.tilesets[0].tileheight*this.mapData.layers[0].height;this.widthOffset=this.gamestage.canvas.width>this.mapData.tilesets[0].tilewidth*this.mapData.layers[0].width?(this.gamestage.canvas.width-this.mapData.tilesets[0].tilewidth*this.mapData.layers[0].width)/2:0;this.tileset.src=this.mapData.tilesets[0].image;this.advance=function(){this.advancing=!0};this.reverse=function(){this.reversing=!0};this.nextMap=function(a){this.heightIndex++;
this.mapData=a;this.lastHeightOffset=this.heightOffset;a=this.gamestage.canvas.height*this.heightIndex+1-this.mapData.tilesets[0].tileheight*this.mapData.layers[0].height;this.heightOffset+=a-a%32;this.collisionArray=[[],[]];this.advancing=!1;this.advancecount=0;this.reversing=!1;this.reversecount=0;this.deathCollisionArray=[[],[]];this.container.removeAllChildren();this.doneRendering=!1;this.initLayers();this.transitiondown=!0;this.gamestage.clear()};this.initLayers=function(){var a=this.mapData.tilesets[0].tilewidth,
c=this.mapData.tilesets[0].tileheight;this.enemies=[];a=new createjs.SpriteSheet({images:[this.tileset],frames:{width:a,height:c}});for(c=0;c<this.mapData.layers.length;c++){var d=this.mapData.layers[c];"tilelayer"===d.type&&(0===c?(this.collisionArray=this.initLayerWithCollisionArray(d,a,this.mapData.tilewidth,this.mapData.tileheight,this.heightOffset,this.widthOffset),this.basicCollision=new BasicCollision(this)):3===c?this.enemies=this.initEnemies(d,a,this.mapData.tilewidth,this.mapData.tileheight,
this.heightOffset,this.widthOffset):2===c?this.deathCollisionArray=this.initLayerWithCollisionArray(d,a,this.mapData.tilewidth,this.mapData.tileheight,this.heightOffset,this.widthOffset):this.initLayer(d,a,this.mapData.tilewidth,this.mapData.tileheight,this.heightOffset,this.widthOffset))}this.stage.addChild(this.container);this.doneRendering=!0};this.initEnemies=function(a,c,d,f,e,g){c=[];for(var h=0;h<a.height;h++)for(var k=0;k<a.width;k++){var l=k+h*a.width;0!==a.data[l]&&(3===a.data[l]?c.push(new PrinterGuy(this.container,
this.player,this.basicCollision,g+k*d,e+h*f)):c.push(new ShieldGuy(this.container,this.player,this.basicCollision,g+k*d,e+h*f)))}return c};this.initLayer=function(a,c,d,f,e,g){for(var h=0;h<a.height;h++)for(var k=0;k<a.width;k++){var l=new createjs.Sprite(c);l.gotoAndStop(a.data[k+h*a.width]-1);l.x=g+k*d;l.y=e+h*f;this.container.addChild(l)}};this.initLayerWithCollisionArray=function(a,c,d,f,e,g){for(var h=Array(a.height),k=0;k<a.height;k++){h[k]=Array(a.width);for(var l=0;l<a.width;l++){var n=new createjs.Sprite(c),
p=l+k*a.width;n.gotoAndStop(a.data[p]-1);n.x=g+l*d;n.y=e+k*f;this.container.addChild(n);h[k][l]=0!==a.data[p]?!0:!1}}return h};this.tickActions=function(a){this.advancing&&(60>this.advancecount?(this.advancecount++,this.stage.x-=11):(this.advancecount=0,this.advancing=!1));this.reversing&&(60>this.reversecount?(this.reversecount++,this.stage.x+=11):(this.reversecount=0,this.reversing=!1));this.transitiondown&&(60>this.transitioncount?(this.transitioncount++,this.stage.y-=(this.heightOffset-this.lastHeightOffset)/
60):(this.transitioncount=0,this.transitiondown=!1))};this.getCurrentHeightOffset=function(){return this.heightOffset}};var HealthBar=function(c,a){this.maxheight=114;this.stage=c;this.bars=28;this.player=a;this.x=18;this.y=this.stage.canvas.height/2-this.maxheight/2-2;this.barAnimations=[];var b=new createjs.Shape;b.graphics.beginFill("#000000").drawRect(this.x,this.y,16,this.maxheight);this.stage.addChild(b);this.tickActions=function(a){this.bars!==this.player.health&&(this.bars=this.player.health,this.draw())};this.draw=function(){for(var a=0;a<this.barAnimations.length;a++)this.stage.removeChild(this.barAnimations[a]);
this.barAnimations=[];for(var b=4*(28-this.bars),a=0;a<this.bars;a++){var c=new createjs.Bitmap("images/healthbar.png");c.x=20;c.y=4*a+b+this.y+2;this.barAnimations.push(c);this.stage.addChild(c)}};this.draw()};function PrinterGuy(c,a,b,m,d){var f=new createjs.SpriteSheet({images:["images/printerguy.png"],frames:{width:36,height:44,count:4},animations:{sit:{frames:[0],next:"sit"},show:{frames:[1],next:"move"},move:{frames:[2,3],next:"move",speed:0.15}}});this.basicCollision=b;this.health=2;this.player=a;this.stage=c;this.animations=new createjs.Sprite(f,"sit");this.x=m;this.y=d;this.jumping=this.activated=!1;this.shootTicks=this.jumpspeed=0;this.hardshell=!0;this.watchedElements=[];this.animations.play();
this.stage.addChild(this.animations);this.tickActions=function(a){this.watchedElements.forEach(function(b){b.tickActions(a)});if(0>=this.health)this.stage.removeChild(this.animations),this.activated=!1;else{this.player.x<this.x&&1!==this.animations.scaleX&&!this.activated?(this.animations.scaleX=1,this.regX=0):this.player.x>this.x&&-1!==this.animations.scaleX&&!this.activated&&(this.animations.scaleX=-1,this.animations.regX=this.animations.spriteSheet._frameWidth);var b=this.basicCollision.basicCollision(this);
b.down&&!this.jumping&&(this.jumpspeed=0,this.jumping=!0);this.jumping&&b.down&&(this.jumpspeed+=0.5,24<this.jumpspeed&&(this.jumpspeed=24),this.y+=this.jumpspeed);!b.down&&this.jumping&&(this.jumping=!1,this.jumpspeed=0);var d=this.player.x-this.x;200>=Math.abs(d)&&"move"!==this.animations.currentAnimation&&(0<d?(this.animations.scaleX=-1,this.animations.regX=this.animations.spriteSheet._frameWidth):this.animations.scaleX=1,this.activated=!0,this.hardshell=!1,this.animations.gotoAndPlay("show"));
0===this.shootTicks&&250>Math.abs(d)&&(this.watchedElements.push(new e(c,this.x,this.y,-this.animations.scaleX,this)),this.shootTicks=300);this.activated&&(b.left&&b.right||(this.animations.scaleX*=-1,this.animations.regX=-1===this.animations.scaleX?this.animations.spriteSheet._frameWidth:0),this.x+=1!==this.animations.scaleX?1.75:-1.75);b.down||(this.y-=(this.y+this.animations.spriteSheet._frameHeight)%32);this.animations.x=this.x;this.animations.y=this.y}};var e=function(a,b,c,d,e){var f=new createjs.SpriteSheet({images:["images/enemyshot.png"],
frames:{width:16,height:16,count:1},animations:{shot:{frames:[0],next:"shot"}}});this.stage=a;this.direction=d;this.animations=new createjs.Sprite(f,"shot");this.x=b+(1===this.direction?33:-3);this.y=c+12;this.disabled=!1;this.owner=e;this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){this.x+=3*this.direction;this.animations.x=this.x;this.animations.y=this.y;this.checkBounds()||this.removeSelf()};this.removeSelf=function(){this.stage.removeChild(this.animations);
this.disabled=!0};this.checkBounds=function(){return 0>this.x||this.x>this.owner.player.x+2E3?!1:!0}}};function ShieldGuy(c,a,b,m,d){var f=new createjs.SpriteSheet({images:["images/shieldguy.png"],frames:{width:52,height:50,count:2},animations:{sit:{frames:[0],next:"sit"},shoot:{frames:[1],next:"shoot"}}});this.basicCollision=b;this.health=2;this.player=a;this.stage=c;this.animations=new createjs.Sprite(f,"sit");this.x=m;this.y=d;this.jumping=this.activated=!1;this.shootTicks=this.jumpspeed=0;this.hardshell=!0;this.watchedElements=[];this.animations.play();this.stage.addChild(this.animations);this.tickActions=
function(a){this.watchedElements.forEach(function(b){b.tickActions(a)});if(0>=this.health)this.stage.removeChild(this.animations),this.activated=!1;else{0<this.shootTicks&&this.shootTicks--;this.player.x<this.x&&1!==this.animations.scaleX?setTimeout(function(){this.animations.scaleX=1;this.regX=0}.bind(this),500):this.player.x>this.x&&-1!==this.animations.scaleX&&setTimeout(function(){this.animations.scaleX=-1;this.animations.regX=this.animations.spriteSheet._frameWidth}.bind(this),500);var b=this.basicCollision.basicCollision(this);
b.down&&!this.jumping&&(this.jumpspeed=0,this.jumping=!0);this.jumping&&b.down&&(this.jumpspeed+=0.5,24<this.jumpspeed&&(this.jumpspeed=24),this.y+=this.jumpspeed);!b.down&&this.jumping&&(this.jumping=!1,this.jumpspeed=0);var d=this.player.x-this.x;0===this.shootTicks&&550>Math.abs(d)&&(this.watchedElements.push(new e(c,this.x,this.y,-this.animations.scaleX,this)),this.animations.gotoAndPlay("shoot"),this.hardshell=!1,this.activated=!0,this.shootTicks=300,setTimeout(function(){this.animations.gotoAndPlay("sit");
this.activated=!1;this.hardshell=!0}.bind(this),1E3));b.down||(this.y-=(this.y+this.animations.spriteSheet._frameHeight)%32);this.animations.x=this.x;this.animations.y=this.y}};var e=function(a,b,c,d,e){var f=new createjs.SpriteSheet({images:["images/enemyshot.png"],frames:{width:16,height:16,count:1},animations:{shot:{frames:[0],next:"shot"}}});this.stage=a;this.direction=d;this.animations=new createjs.Sprite(f,"shot");this.x=b+(1===this.direction?33:-3);this.y=c+22;this.disabled=!1;this.owner=e;
this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){this.x+=3*this.direction;this.animations.x=this.x;this.animations.y=this.y;this.checkBounds()||this.removeSelf()};this.removeSelf=function(){this.stage.removeChild(this.animations);this.disabled=!0};this.checkBounds=function(){return 0>this.x||this.x>this.owner.player.x+2E3?!1:!0}}};function Player(c){var a=new createjs.SpriteSheet({images:["images/businessmanspritesheet.png"],frames:{width:60,height:60,count:18},animations:{stand:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],next:"stand",speed:0.125},startrun:{frames:[2],next:"run",speed:0.125},run:{frames:[3,4,5],next:"run",speed:0.15},jump:{frames:[10],next:"jump"},standshoot:{frames:[6],next:"standshoot"},runshoot:{frames:[7,8,9],next:"runshoot",speed:0.15},damage:{frames:[16],next:"damage",speed:5},jumpshoot:{frames:[11],
next:"jumpshoot"}}});this.stage=c.stage;this.animations=new createjs.Sprite(a,"stand");this.x=c.widthOffset+40;this.y=30;this.falling=this.jumping=this.goingRightReleased=this.goingLeftReleased=this.goingRight=this.goingLeft=!1;this.jumpreleased=!0;this.shootTicks=this.jumpspeed=0;this.watchedElements=[];this.health=28;this.actions={};this.mapper=c;this.gamestage=c.gamestage;this.pageflips=0;this.ignoreDamage=!0;this.ignoreInput=!1;createjs.Sound.registerSound("sounds/jump.wav","jump");createjs.Sound.registerSound("sounds/shoot.wav",
"shoot");setTimeout(function(){this.ignoreDamage=!1}.bind(this),2E3);this.watchedElements.push(new HealthBar(gamestage,this));document.onkeydown=function(a){switch(a.keyCode){case 37:this.actions.playerLeft=!0;this.goingLeftReleased=this.actions.playerRight=!1;break;case 39:this.actions.playerRight=!0;this.goingRightReleased=this.actions.playerLeft=!1;break;case 32:this.actions.playerJump=!0;break;case 67:this.actions.playerAttack=!0;break;case 68:this.actions.playerDebug=!0}}.bind(this);document.onkeyup=
function(a){switch(a.keyCode){case 37:this.actions.playerLeft=!1;this.actions.playerRight=!1;this.goingLeftReleased=!0;break;case 39:this.actions.playerRight=!1;this.actions.playerLeft=!1;this.goingRightReleased=!0;break;case 32:this.actions.playerJump=!1;this.jumpreleased=!0;break;case 67:this.actions.playerAttack=!1;break;case 68:this.actions.playerDebug=!1}}.bind(this);if(mobile){c=new createjs.SpriteSheet({images:["images/businessmanspritesheet.png"],frames:{width:1,height:1,count:1},animations:{exist:{frames:[0],
next:"exist"}}});var b=new createjs.Sprite(c,"exist");console.log("binding touch event");this.touchIds=[];c=function(a){a.preventDefault();for(var c=0;c<a.touches.length;c++){var e=a.touches[c];b.x=e.pageX;b.y=e.pageY;ndgmr.checkRectCollision(leftButtonSprite,b)?(this.actions.playerLeft=!0,this.actions.playerRight=!1,this.touchIds[e.identifier]="left"):ndgmr.checkRectCollision(rightButtonSprite,b)?(this.actions.playerLeft=!1,this.actions.playerRight=!0,this.touchIds[e.identifier]="right"):ndgmr.checkRectCollision(shootButtonSprite,
b)?(this.actions.playerAttack=!0,this.jumpreleased=!1,this.touchIds[e.identifier]="shoot"):(this.actions.playerJump=!0,this.touchIds[e.identifier]="jump")}};a=function(a){a.preventDefault();for(var b=0;b<a.changedTouches.length;b++){var c=a.changedTouches[b];"left"===this.touchIds[c.identifier]&&(this.actions.playerLeft=!1);"right"===this.touchIds[c.identifier]&&(this.actions.playerRight=!1);"shoot"===this.touchIds[c.identifier]&&(this.actions.playerAttack=!1);"jump"===this.touchIds[c.identifier]&&
(this.actions.playerJump=!1,this.jumpreleased=!0);this.touchIds[c.identifier]=null}};document.getElementById("gamecanvas").addEventListener("touchstart",c.bind(this),!1);document.getElementById("gamecanvas").addEventListener("touchmove",c.bind(this),!1);document.getElementById("gamecanvas").addEventListener("touchend",a.bind(this),!1);document.getElementById("gamecanvas").addEventListener("touchcancel",a.bind(this),!1)}this.animations.play();this.ignoreInput=!0;setTimeout(function(){this.stage.addChild(this.animations);
this.ignoreInput=!1}.bind(this),1E3);this.tickActions=function(a){if(this.ignoreInput)this.ignoreDamage&&(this.x+=1*-this.animations.scaleX,this.animations.x=this.x,this.watchedElements.forEach(function(b){b.tickActions(a)}.bind(this)));else{0<this.shootTicks&&(this.shootTicks--,0===this.shootTicks&&("jumpshoot"===this.animations.currentAnimation?this.animations.gotoAndPlay("jump"):"runshoot"===this.animations.currentAnimation?this.animations.gotoAndPlay("run"):"standshoot"===this.animations.currentAnimation&&
this.animations.gotoAndPlay("stand")));a.playerDeath&&(this.health=0,this.animations.gotoAndPlay("damage"));0>=this.health&&(console.log("dead"),a.playerDeath=!0);this.actions.playerLeft&&a.collisionResults.leftmove?(this.goingRight=!1,this.goingLeft=!0,this.animations.scaleX=-1,this.animations.regX=60,"run"===this.animations.currentAnimation||"startrun"===this.animations.currentAnimation||"runshoot"===this.animations.currentAnimation||this.jumping||(this.animations.gotoAndPlay("startrun"),this.movementTicks=
9)):this.actions.playerRight&&a.collisionResults.rightmove?(this.goingRight=!0,this.goingLeft=!1,this.animations.scaleX=1,this.animations.regX=0,"run"===this.animations.currentAnimation||"startrun"===this.animations.currentAnimation||"runshoot"===this.animations.currentAnimation||this.jumping||(this.animations.gotoAndPlay("startrun"),this.movementTicks=9)):(this.goingLeft=this.goingRight=!1,"stand"===this.animations.currentAnimation||"standshoot"===this.animations.currentAnimation||this.jumping||
(this.animations.gotoAndPlay("stand"),this.movementTicks=9));if(this.actions.playerJump&&!this.jumping&&a.collisionResults.upmove&&this.jumpreleased){a.collisionResults.downmove=!0;this.jumpreleased=!1;this.jumpspeed=-9.75;this.jumping=!0;var b=createjs.Sound.play("jump");b.volume=0.05;this.animations.gotoAndPlay("jump")}else a.collisionResults.downmove&&!this.jumping?(a.collisionResults.downmove=!0,this.jumpspeed=0,this.jumping=this.falling=!0,this.animations.gotoAndPlay("jump")):this.jumping&&this.jumpreleased&&
!this.falling&&4>this.jumpspeed&&(this.jumpspeed=4);this.actions.playerAttack&&0===this.shootTicks&&(this.watchedElements.push(new m(stage,this)),b=createjs.Sound.play("shoot"),b.volume=0.05,this.shootTicks=15,"jump"===this.animations.currentAnimation?this.animations.gotoAndPlay("jumpshoot"):"run"===this.animations.currentAnimation?this.animations.gotoAndPlay("runshoot"):"stand"===this.animations.currentAnimation&&this.animations.gotoAndPlay("standshoot"));this.goingRight||this.goingLeft?this.goingRight&&
a.collisionResults.rightmove?this.jumping?this.x+=2.65:0<this.movementTicks?(this.x+=0.4,this.movementTicks--):this.x+=2.75:this.goingLeft&&a.collisionResults.leftmove&&(this.jumping?this.x+=-2.65:0<this.movementTicks?(this.x+=-0.4,this.movementTicks--):this.x+=-2.75):0<this.movementTicks&&(a.collisionResults.rightmove&&a.collisionResults.leftmove?(this.x+=0.8*this.animations.scaleX,this.movementTicks--):this.movementTicks=0);this.jumping&&a.collisionResults.downmove&&a.collisionResults.upmove||this.jumping&&
a.collisionResults.downmove&&0<this.jumpspeed?(this.y+=this.jumpspeed,this.jumpspeed+=0.5,24<this.jumpspeed&&(this.jumpspeed=24)):this.jumping&&!a.collisionResults.downmove?(this.goingLeft||this.goingRight?this.animations.gotoAndPlay("run"):this.animations.gotoAndPlay("stand"),this.falling=this.jumping=!1,this.y-=(this.y+this.animations.spriteSheet._frameHeight)%32):this.jumping&&!a.collisionResults.upmove&&(this.jumpspeed=1,this.y+=this.jumpspeed);this.animations.x=this.x;this.animations.y=this.y;
this.watchedElements.forEach(function(b){b.tickActions(a)}.bind(this));this.x>this.gamestage.canvas.width-200+660*this.pageflips?(this.pageflips++,this.ignoreInput=!0,this.mapper.advance(),setTimeout(function(){this.ignoreInput=!1}.bind(this),1E3)):this.x<200+660*this.pageflips&&0<this.pageflips?(this.pageflips--,this.ignoreInput=!0,this.mapper.reverse(),setTimeout(function(){this.ignoreInput=!1}.bind(this),1E3)):a.collisionResults.nextmap&&(this.mapper.nextMap(this.mapper.map2,this.x,this.y),this.ignoreInput=
!0,this.stage.addChild(this.animations),setTimeout(function(){this.ignoreInput=!1}.bind(this),1E3));this.ignoreDamage||this.checkEnemyCollisions()}};this.checkEnemyCollisions=function(){this.mapper.enemies.forEach(function(a){0>=a.health||(ndgmrX.checkRectCollision(this.animations,a.animations)&&(this.health-=2,this.animations.gotoAndPlay("damage"),this.ignoreDamage=this.ignoreInput=!0,this.x+=1*-this.animations.scaleX,setTimeout(function(){this.ignoreDamage=!1}.bind(this),1E3),setTimeout(function(){this.ignoreInput=
!1}.bind(this),250),4>this.jumpspeed&&this.jumping&&(this.jumpspeed=4)),a.watchedElements.forEach(function(a){!a.disabled&&ndgmrX.checkRectCollision(this.animations,a.animations)&&(a.removeSelf(),this.health-=4,this.animations.gotoAndPlay("damage"),this.ignoreDamage=this.ignoreInput=!0,this.x+=1*-this.animations.scaleX,setTimeout(function(){this.ignoreDamage=!1}.bind(this),1E3),setTimeout(function(){this.ignoreInput=!1}.bind(this),250),4>this.jumpspeed&&this.jumping&&(this.jumpspeed=4))}.bind(this)))}.bind(this))};
var m=function(a,b){var c=new createjs.SpriteSheet({images:["images/shot.png"],frames:{width:16,height:16,count:1},animations:{shot:{frames:[0],next:"shot"}}});this.stage=a;this.animations=new createjs.Sprite(c,"shot");this.x=b.x+(1===b.animations.scaleX?52:-6);this.y=b.y+27;this.done=!1;this.playerX=b.x;this.disabled=!1;this.direction=b.animations.scaleX;this.player=b;this.yspeed=0;this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){this.disabled||(this.x+=7*
this.direction,this.y-=this.yspeed,this.animations.x=this.x,this.animations.y=this.y,this.checkBounds()||this.removeSelf(),this.player.mapper.enemies.forEach(function(a){0>=a.health||!ndgmrX.checkRectCollision(this.animations,a.animations)||(a.hardshell?(this.yspeed=7,this.direction*=-1):(a.health--,this.removeSelf()))}.bind(this)))};this.removeSelf=function(){this.stage.removeChild(this.animations);this.disabled=!0};this.checkBounds=function(){return 0>this.x||this.x>this.playerX+2E3?!1:!0}}};var stage,gamestage,watchedElements,player,mapper,tileCollisionDetector,startgame,mobile=!0,titlescreenSpriteSheet=new createjs.SpriteSheet({images:["images/executivemanlogo.png"],frames:{width:632,height:480,count:2},animations:{sit:{frames:[0],next:"shoot",speed:0.15},shoot:{frames:[1],next:"sit",speed:0.075}}}),buttonSpriteSheet=new createjs.SpriteSheet({images:["images/buttons.png"],frames:{width:64,height:64,count:4},animations:{left:{frames:[0],next:"left"},right:{frames:[1],next:"right"},shoot:{frames:[2],
next:"shoot"}}}),leftButtonSprite=new createjs.Sprite(buttonSpriteSheet,"left"),rightButtonSprite=new createjs.Sprite(buttonSpriteSheet,"right"),shootButtonSprite=new createjs.Sprite(buttonSpriteSheet,"shoot"),titleSreenSprite=new createjs.Sprite(titlescreenSpriteSheet,"shoot");function init(){initVars();initTitleScreen()}function initVars(){tileCollisionDetector=mapper=player=watchedElements=gamestage=stage=null}
function beginGame(){stage=new createjs.Container;gamestage=new createjs.Stage("gamecanvas");gamestage.clear();gamestage.snapToPixelEnabled=!0;gamestage.canvas.width=1136;gamestage.canvas.height=640;gamestage.canvas.style.backgroundColor="#000";gamestage.addChild(stage);watchedElements=[];mapper=new Mapper(stage,gamestage);mapper.initLayers();watchedElements.push(mapper.player);tileCollisionDetector=new TileCollisionDetector;watchedElements.push(mapper);mobile&&(leftButtonSprite.x=32,rightButtonSprite.x=
112,shootButtonSprite.x=gamestage.canvas.width-96,leftButtonSprite.y=gamestage.canvas.height-96,rightButtonSprite.y=gamestage.canvas.height-96,shootButtonSprite.y=gamestage.canvas.height-96,gamestage.addChild(leftButtonSprite),gamestage.addChild(rightButtonSprite),gamestage.addChild(shootButtonSprite));createjs.Ticker.addEventListener("tick",handleTick);createjs.Ticker.useRAF=!0;createjs.Ticker.setFPS(60)}
function initTitleScreen(){startgame=!1;stage=new createjs.Container;gamestage=new createjs.Stage("gamecanvas");gamestage.snapToPixelEnabled=!0;gamestage.canvas.width=1136;gamestage.canvas.height=640;gamestage.canvas.style.backgroundColor="#000";gamestage.addChild(stage);titleSreenSprite.x=gamestage.canvas.width/2-titleSreenSprite.spriteSheet._frameWidth/2;titleSreenSprite.y=gamestage.canvas.height/2-titleSreenSprite.spriteSheet._frameHeight/2;stage.addChild(titleSreenSprite);titleSreenSprite.gotoAndPlay("sit");
createjs.Ticker.addEventListener("tick",handleStartScreenTick);createjs.Ticker.setFPS(10);document.onkeydown=function(c){switch(c.keyCode){case 32:startgame=!0}}.bind(this);document.getElementById("gamecanvas").addEventListener("touchend",function(){startgame=!0}.bind(this),!1)}function handleStartScreenTick(c){startgame&&(initVars(),beginGame(),c.remove());gamestage.update()}
function handleTick(c){if(mapper.doneRendering){var a={};a.mobile=mobile;var b={leftTop:{x:mapper.player.x+24,y:mapper.player.y+16},leftBottom:{x:mapper.player.x+24,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-16},bottomLeft:{x:mapper.player.x+24+4,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-5},bottomRight:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-24-4,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-5},rightBottom:{x:mapper.player.x+
mapper.player.animations.spriteSheet._frameWidth-24,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-16},rightTop:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-24,y:mapper.player.y+16},topRight:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-24-4,y:mapper.player.y+16},topLeft:{x:mapper.player.x+24+4,y:mapper.player.y+16}};a.collisionResults=tileCollisionDetector.checkCollisions({leftTop:{x:mapper.player.x+12,y:mapper.player.y+8},leftBottom:{x:mapper.player.x+
12,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-8},bottomLeft:{x:mapper.player.x+12+4,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight},bottomRight:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-12-4,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight},rightBottom:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-12,y:mapper.player.y+mapper.player.animations.spriteSheet._frameHeight-8},rightTop:{x:mapper.player.x+
mapper.player.animations.spriteSheet._frameWidth-12,y:mapper.player.y+8},topRight:{x:mapper.player.x+mapper.player.animations.spriteSheet._frameWidth-12-4,y:mapper.player.y+8},topLeft:{x:mapper.player.x+12+4,y:mapper.player.y+8}},mapper.collisionArray,mapper.getCurrentHeightOffset(),mapper.widthOffset);a.deathCollisionResults=tileCollisionDetector.checkCollisions(b,mapper.deathCollisionArray,mapper.getCurrentHeightOffset(),mapper.widthOffset);watchedElements.forEach(function(b){b.tickActions(a)});
this.mapper.enemies.forEach(function(b){b.tickActions(a)});if(!(a.deathCollisionResults.leftmove&&a.deathCollisionResults.leftmove&&a.deathCollisionResults.upmove&&a.deathCollisionResults.downmove||a.deathCollisionResults.nextmap)||0>=mapper.player.health)a.playerDeath=!0,setTimeout(function(){init()}.bind(this,c),2E3),c.remove();gamestage.update()}}init();

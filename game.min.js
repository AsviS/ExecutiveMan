this.createjs=this.createjs||{};
(function(){var c=function(a,k,b){this.initialize(a,k,b)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,k,b){this.type=a;this.bubbles=k;this.cancelable=b;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,k,b){var d;d=b?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,k,b),e=d[a],e?e.push(k):d[a]=[k],k};b.on=function(a,k,b,d,e,c){return k.handleEvent&&(b=b||k,k=k.handleEvent),b=b||this,this.addEventListener(a,function(a){k.call(b,a,e);d&&a.remove()},c)};b.removeEventListener=function(a,k,b){if(b=b?this._captureListeners:this._listeners){var d=b[a];if(d)for(var e=0,c=d.length;c>e;e++)if(d[e]==k){1==c?delete b[a]:d.splice(e,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=
function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,k){if("string"==typeof a){var b=this._listeners;if(!b||!b[a])return!1;a=new createjs.Event(a)}if(a.target=k||this,a.bubbles&&this.parent){for(var d=this,b=[d];d.parent;)b.push(d=d.parent);for(var e=b.length,d=e-1;0<=d&&!a.propagationStopped;d--)b[d]._dispatchEvent(a,1+(0==d));for(d=1;e>d&&!a.propagationStopped;d++)b[d]._dispatchEvent(a,
3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var k=this._listeners,b=this._captureListeners;return!!(k&&k[a]||b&&b[a])};b.willTrigger=function(a){for(var k=this;k;){if(k.hasEventListener(a))return!0;k=k.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,k){var b,d=1==k?this._captureListeners:this._listeners;if(a&&d&&(d=d[a.type])&&(b=d.length)){a.currentTarget=this;a.eventPhase=k;a.removed=!1;for(var d=d.slice(),
e=0;b>e&&!a.immediatePropagationStopped;e++){var c=d[e];c.handleEvent?c.handleEvent(a):c(a);a.removed&&(this.off(a.type,c,1==k),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,b){for(var a=0,k=c.length;k>a;a++)if(b===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();
this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=0;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){return!c._inited&&c.init(),c._addEventListener.apply(c,arguments)};c._paused=!1;c._inited=!1;c._startTime=
0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=!0;c.init=function(){c._inited||(c._inited=!0,c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.setInterval(c._interval))};c.reset=function(){if(c._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(c._timerId)}else clearTimeout(c._timerId);
c.removeAllEventListeners("tick")};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(a){var k=0,b=c._tickTimes;if(1>b.length)return-1;a=Math.min(b.length,a||0|c.getFPS());for(var d=0;a>d;d++)k+=b[d];return k/a};c.getMeasuredFPS=function(a){var k=c._times;return 2>k.length?-1:(a=Math.min(k.length-1,a||0|c.getFPS()),1E3/((k[0]-
k[a])/a))};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getEventTime=function(a){return(c._lastTime||c._startTime)-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleSynch=function(){var a=c._getTime()-c._startTime;c._timerId=null;c._setupTick();a-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};
c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(null==c._timerId){var a=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(a==c.RAF_SYNCHED||a==c.RAF){var k=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(k)return c._timerId=k(a==c.RAF?c._handleRAF:c._handleSynch),c._raf=!0,void 0}c._raf=!1;c._timerId=setTimeout(c._handleTimeout,c._interval)}};
c._tick=function(){var a=c._getTime()-c._startTime,k=a-c._lastTime,b=c._paused;if(c._ticks++,b&&(c._pausedTicks++,c._pausedTime+=k),c._lastTime=a,c.hasEventListener("tick")){var d=new createjs.Event("tick"),e=c.maxDelta;d.delta=e&&k>e?e:k;d.paused=b;d.time=a;d.runTime=a-c._pausedTime;c.dispatchEvent(d)}for(c._tickTimes.unshift(c._getTime()-a);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(a);100<c._times.length;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||
performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||(new Date).getTime()};createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,d,e,c,h,l,m,p,n){this.initialize(a,b,d,e,c,h,l,m,p,n)},b=c.prototype=new createjs.Event;b.stageX=0;b.stageY=0;b.rawX=0;b.rawY=0;b.nativeEvent=null;b.pointerID=0;b.primary=!1;b.addEventListener=null;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,
this.rawY).y};try{Object.defineProperties(b,{localX:{get:b._get_localX},localY:{get:b._get_localY}})}catch(a){}b.Event_initialize=b.initialize;b.initialize=function(a,b,d,e,c,h,l,m,p,n){this.Event_initialize(a,b,d);this.stageX=e;this.stageY=c;this.nativeEvent=h;this.pointerID=l;this.primary=m;this.rawX=null==p?e:p;this.rawY=null==n?c:n};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,
this.rawY)};b.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,k,b,d,e,c){this.initialize(a,k,b,d,e,c)},b=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;b.a=1;b.b=0;b.c=0;b.d=1;b.tx=0;b.ty=0;b.alpha=1;b.shadow=null;b.compositeOperation=null;b.initialize=function(a,k,b,d,e,c){return this.a=null==a?1:a,this.b=k||0,this.c=b||0,this.d=null==d?1:d,this.tx=e||0,this.ty=c||0,this};b.prepend=function(a,k,b,d,e,c){var h=this.tx;if(1!=a||0!=k||0!=b||1!=d){var l=this.a,m=this.c;this.a=l*a+this.b*b;this.b=l*k+this.b*d;this.c=m*a+this.d*
b;this.d=m*k+this.d*d}return this.tx=h*a+this.ty*b+e,this.ty=h*k+this.ty*d+c,this};b.append=function(a,b,f,d,e,c){var h=this.a,l=this.b,m=this.c,p=this.d;return this.a=a*h+b*m,this.b=a*l+b*p,this.c=f*h+d*m,this.d=f*l+d*p,this.tx=e*h+c*m+this.tx,this.ty=e*l+c*p+this.ty,this};b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty),this.prependProperties(a.alpha,a.shadow,a.compositeOperation),this};b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty),this.appendProperties(a.alpha,
a.shadow,a.compositeOperation),this};b.prependTransform=function(a,b,f,d,e,g,h,l,m){if(e%360){var p=e*c.DEG_TO_RAD;e=Math.cos(p);p=Math.sin(p)}else e=1,p=0;return(l||m)&&(this.tx-=l,this.ty-=m),g||h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(e*f,p*f,-p*d,e*d,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),a,b)):this.prepend(e*f,p*f,-p*d,e*d,a,b),this};b.appendTransform=function(a,b,f,d,e,g,h,l,m){if(e%360){var p=e*c.DEG_TO_RAD;e=Math.cos(p);p=Math.sin(p)}else e=1,p=0;return g||
h?(g*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(g),Math.cos(g),a,b),this.append(e*f,p*f,-p*d,e*d,0,0)):this.append(e*f,p*f,-p*d,e*d,a,b),(l||m)&&(this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d),this};b.rotate=function(a){var b=Math.cos(a);a=Math.sin(a);var f=this.a,d=this.c,e=this.tx;return this.a=f*b-this.b*a,this.b=f*a+this.b*b,this.c=d*b-this.d*a,this.d=d*a+this.d*b,this.tx=e*b-this.ty*a,this.ty=e*a+this.ty*b,this};b.skew=function(a,b){return a*=c.DEG_TO_RAD,
b*=c.DEG_TO_RAD,this.append(Math.cos(b),Math.sin(b),-Math.sin(a),Math.cos(a),0,0),this};b.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this};b.translate=function(a,b){return this.tx+=a,this.ty+=b,this};b.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this};b.invert=function(){var a=this.a,b=this.b,f=this.c,d=this.d,e=this.tx,c=a*d-b*f;return this.a=d/c,this.b=-b/c,this.c=-f/
c,this.d=a/c,this.tx=(f*this.ty-d*e)/c,this.ty=-(a*this.ty-b*e)/c,this};b.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};b.transformPoint=function(a,b,f){return f=f||{},f.x=a*this.a+b*this.c+this.tx,f.y=a*this.b+b*this.d+this.ty,f};b.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var b=Math.atan2(-this.c,this.d),f=Math.atan2(this.b,this.a);
return b==f?(a.rotation=f/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=b/c.DEG_TO_RAD,a.skewY=f/c.DEG_TO_RAD),a};b.reinitialize=function(a,b,f,d,e,c,h,l,m){return this.initialize(a,b,f,d,e,c),this.alpha=null==h?1:h,this.shadow=l,this.compositeOperation=m,this};b.copy=function(a){return this.reinitialize(a.a,a.b,a.c,a.d,a.tx,a.ty,a.alpha,a.shadow,a.compositeOperation)};b.appendProperties=function(a,b,f){return this.alpha*=a,this.shadow=b||this.shadow,
this.compositeOperation=f||this.compositeOperation,this};b.prependProperties=function(a,b,f){return this.alpha*=a,this.shadow=this.shadow||b,this.compositeOperation=this.compositeOperation||f,this};b.clone=function(){return(new c).copy(this)};b.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype;b.x=0;b.y=0;b.initialize=function(a,b){return this.x=null==a?0:a,this.y=null==b?0:b,this};b.copy=function(a){return this.initialize(a.x,a.y)};b.clone=function(){return new c(this.x,this.y)};b.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,f,d){this.initialize(a,b,f,d)},b=c.prototype;b.x=0;b.y=0;b.width=0;b.height=0;b.initialize=function(a,b,f,d){return this.x=a||0,this.y=b||0,this.width=f||0,this.height=d||0,this};b.copy=function(a){return this.initialize(a.x,a.y,a.width,a.height)};b.clone=function(){return new c(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();
this.createjs=this.createjs||{};
(function(){var c=function(a,b,f,d,e,c,h){this.initialize(a,b,f,d,e,c,h)},b=c.prototype;b.target=null;b.overLabel=null;b.outLabel=null;b.downLabel=null;b.play=!1;b._isPressed=!1;b._isOver=!1;b.initialize=function(a,b,f,d,e,c,h){a.addEventListener&&(this.target=a,a.cursor="pointer",this.overLabel=null==f?"over":f,this.outLabel=null==b?"out":b,this.downLabel=null==d?"down":d,this.play=e,this.setEnabled(!0),this.handleEvent({}),c&&(h&&(c.actionsEnabled=!1,c.gotoAndStop&&c.gotoAndStop(h)),a.hitArea=c))};
b.setEnabled=function(a){var b=this.target;a?(b.addEventListener("rollover",this),b.addEventListener("rollout",this),b.addEventListener("mousedown",this),b.addEventListener("pressup",this)):(b.removeEventListener("rollover",this),b.removeEventListener("rollout",this),b.removeEventListener("mousedown",this),b.removeEventListener("pressup",this))};b.toString=function(){return"[ButtonHelper]"};b.handleEvent=function(a){var b,f=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,b=this.downLabel):
"pressup"==a?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel);this.play?f.gotoAndPlay&&f.gotoAndPlay(b):f.gotoAndStop&&f.gotoAndStop(b)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,f,d){this.initialize(a,b,f,d)},b=c.prototype;c.identity=null;b.color=null;b.offsetX=0;b.offsetY=0;b.blur=0;b.initialize=function(a,b,f,d){this.color=a;this.offsetX=b;this.offsetY=f;this.blur=d};b.toString=function(){return"[Shadow]"};b.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.EventDispatcher;b.complete=!0;b.framerate=0;b._animations=null;b._frames=null;b._images=null;b._data=null;b._loadCount=0;b._frameHeight=0;b._frameWidth=0;b._numFrames=0;b._regX=0;b._regY=0;b.initialize=function(a){var b,f,d;if(null!=a){if(this.framerate=a.framerate||0,a.images&&0<(f=a.images.length))for(d=this._images=[],b=0;f>b;b++){var e=a.images[b];if("string"==typeof e){var c=e,e=document.createElement("img");e.src=c}d.push(e);
e.getContext||e.complete||(this._loadCount++,this.complete=!1,function(a){e.onload=function(){a._handleImageLoad()}}(this))}if(null!=a.frames)if(a.frames instanceof Array)for(this._frames=[],d=a.frames,b=0,f=d.length;f>b;b++)c=d[b],this._frames.push({image:this._images[c[4]?c[4]:0],rect:new createjs.Rectangle(c[0],c[1],c[2],c[3]),regX:c[5]||0,regY:c[6]||0});else f=a.frames,this._frameWidth=f.width,this._frameHeight=f.height,this._regX=f.regX||0,this._regY=f.regY||0,this._numFrames=f.count,0==this._loadCount&&
this._calculateFrames();if(this._animations=[],null!=(f=a.animations)){this._data={};for(var h in f){a={name:h};c=f[h];if("number"==typeof c)d=a.frames=[c];else if(c instanceof Array)if(1==c.length)a.frames=[c[0]];else for(a.speed=c[3],a.next=c[2],d=a.frames=[],b=c[0];b<=c[1];b++)d.push(b);else a.speed=c.speed,a.next=c.next,b=c.frames,d=a.frames="number"==typeof b?[b]:b.slice(0);!0!==a.next&&void 0!==a.next||(a.next=h);(!1===a.next||2>d.length&&a.next==h)&&(a.next=null);a.speed||(a.speed=1);this._animations.push(h);
this._data[h]=a}}}};b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames;a=this._data[a];return null==a?0:a.frames.length};b.getAnimations=function(){return this._animations.slice(0)};b.getAnimation=function(a){return this._data[a]};b.getFrame=function(a){var b;return this._frames&&(b=this._frames[a])?b:null};b.getFrameBounds=function(a,b){var f=this.getFrame(a);return f?(b||new createjs.Rectangle).initialize(-f.regX,-f.regY,f.rect.width,f.rect.height):null};
b.toString=function(){return"[SpriteSheet]"};b.clone=function(){var a=new c;return a.complete=this.complete,a._animations=this._animations,a._frames=this._frames,a._images=this._images,a._data=this._data,a._frameHeight=this._frameHeight,a._frameWidth=this._frameWidth,a._numFrames=this._numFrames,a._loadCount=this._loadCount,a};b._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};b._calculateFrames=function(){if(!this._frames&&
0!=this._frameWidth){this._frames=[];for(var a=0,b=this._frameWidth,f=this._frameHeight,d=0,c=this._images;d<c.length;d++){for(var g=c[d],h=0|g.width/b,l=0|g.height/f,l=0<this._numFrames?Math.min(this._numFrames-a,h*l):h*l,m=0;l>m;m++)this._frames.push({image:g,rect:new createjs.Rectangle(m%h*b,(0|m/h)*f,b,f),regX:this._regX,regY:this._regY});a+=l}this._numFrames=a}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(a,b,k){this.f=a;this.params=b;this.path=null==k?!0:k}c.prototype.exec=function(a){this.f.apply(a,this.params)};var b=function(){this.initialize()},a=b.prototype;b.getRGB=function(a,b,k,f){return null!=a&&null==k&&(f=b,k=255&a,b=255&a>>8,a=255&a>>16),null==f?"rgb("+a+","+b+","+k+")":"rgba("+a+","+b+","+k+","+f+")"};b.getHSL=function(a,b,k,f){return null==f?"hsl("+a%360+","+b+"%,"+k+"%)":"hsla("+a%360+","+b+"%,"+k+"%,"+f+")"};b.Command=c;b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var k=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(k.getContext){var f=b._ctx=k.getContext("2d");
b.beginCmd=new c(f.beginPath,[],!1);b.fillCmd=new c(f.fill,[],!1);b.strokeCmd=new c(f.stroke,[],!1);k.width=k.height=1}a._strokeInstructions=null;a._strokeStyleInstructions=null;a._strokeIgnoreScale=!1;a._fillInstructions=null;a._fillMatrix=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.clear();this._ctx=b._ctx};a.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};
a.draw=function(a){this._dirty&&this._updateInstructions();for(var b=this._instructions,k=0,f=b.length;f>k;k++)b[k].exec(a)};a.drawAsPath=function(a){this._dirty&&this._updateInstructions();for(var b,k=this._instructions,f=0,c=k.length;c>f;f++)((b=k[f]).path||0==f)&&b.exec(a)};a.moveTo=function(a,b){return this._activeInstructions.push(new c(this._ctx.moveTo,[a,b])),this};a.lineTo=function(a,b){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.lineTo,[a,b])),this};a.arcTo=
function(a,b,k,f,l){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.arcTo,[a,b,k,f,l])),this};a.arc=function(a,b,k,f,l,m){return this._dirty=this._active=!0,null==m&&(m=!1),this._activeInstructions.push(new c(this._ctx.arc,[a,b,k,f,l,m])),this};a.quadraticCurveTo=function(a,b,k,f){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[a,b,k,f])),this};a.bezierCurveTo=function(a,b,k,f,l,m){return this._dirty=this._active=
!0,this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[a,b,k,f,l,m])),this};a.rect=function(a,b,k,f){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.rect,[a,b,k,f])),this};a.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[]))),this};a.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=
this._fillMatrix=null,this._active=this._dirty=this._strokeIgnoreScale=!1,this};a.beginFill=function(a){return this._active&&this._newPath(),this._fillInstructions=a?[new c(this._setProp,["fillStyle",a],!1)]:null,this._fillMatrix=null,this};a.beginLinearGradientFill=function(a,b,k,f,l,m){this._active&&this._newPath();k=this._ctx.createLinearGradient(k,f,l,m);f=0;for(l=a.length;l>f;f++)k.addColorStop(b[f],a[f]);return this._fillInstructions=[new c(this._setProp,["fillStyle",k],!1)],this._fillMatrix=
null,this};a.beginRadialGradientFill=function(a,b,k,f,l,m,p,n){this._active&&this._newPath();k=this._ctx.createRadialGradient(k,f,l,m,p,n);f=0;for(l=a.length;l>f;f++)k.addColorStop(b[f],a[f]);return this._fillInstructions=[new c(this._setProp,["fillStyle",k],!1)],this._fillMatrix=null,this};a.beginBitmapFill=function(a,b,k){this._active&&this._newPath();a=this._ctx.createPattern(a,b||"");return this._fillInstructions=[new c(this._setProp,["fillStyle",a],!1)],this._fillMatrix=k?[k.a,k.b,k.c,k.d,k.tx,
k.ty]:null,this};a.endFill=function(){return this.beginFill()};a.setStrokeStyle=function(a,k,f,h,l){return this._active&&this._newPath(),this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==a?"1":a],!1),new c(this._setProp,["lineCap",null==k?"butt":isNaN(k)?k:b.STROKE_CAPS_MAP[k]],!1),new c(this._setProp,["lineJoin",null==f?"miter":isNaN(f)?f:b.STROKE_JOINTS_MAP[f]],!1),new c(this._setProp,["miterLimit",null==h?"10":h],!1)],this._strokeIgnoreScale=l,this};a.beginStroke=function(a){return this._active&&
this._newPath(),this._strokeInstructions=a?[new c(this._setProp,["strokeStyle",a],!1)]:null,this};a.beginLinearGradientStroke=function(a,b,k,f,l,m){this._active&&this._newPath();k=this._ctx.createLinearGradient(k,f,l,m);f=0;for(l=a.length;l>f;f++)k.addColorStop(b[f],a[f]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",k],!1)],this};a.beginRadialGradientStroke=function(a,b,k,f,l,m,p,n){this._active&&this._newPath();k=this._ctx.createRadialGradient(k,f,l,m,p,n);f=0;for(l=a.length;l>
f;f++)k.addColorStop(b[f],a[f]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",k],!1)],this};a.beginBitmapStroke=function(a,b){this._active&&this._newPath();var k=this._ctx.createPattern(a,b||"");return this._strokeInstructions=[new c(this._setProp,["strokeStyle",k],!1)],this};a.endStroke=function(){return this.beginStroke(),this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(a,b,k,f,c){return this.drawRoundRectComplex(a,b,k,f,c,c,c,c),this};a.drawRoundRectComplex=
function(a,b,k,f,l,m,p,n){var r=(f>k?k:f)/2,q=0,s=0,v=0,t=0;0>l&&(l*=q=-1);l>r&&(l=r);0>m&&(m*=s=-1);m>r&&(m=r);0>p&&(p*=v=-1);p>r&&(p=r);0>n&&(n*=t=-1);n>r&&(n=r);this._dirty=this._active=!0;var r=this._ctx.arcTo,w=this._ctx.lineTo;return this._activeInstructions.push(new c(this._ctx.moveTo,[a+k-m,b]),new c(r,[a+k+m*s,b-m*s,a+k,b+m,m]),new c(w,[a+k,b+f-p]),new c(r,[a+k+p*v,b+f+p*v,a+k-p,b+f,p]),new c(w,[a+n,b+f]),new c(r,[a-n*t,b+f+n*t,a,b+f-n,n]),new c(w,[a,b+l]),new c(r,[a-l*q,b-l*q,a+l,b,l]),
new c(this._ctx.closePath)),this};a.drawCircle=function(a,b,k){return this.arc(a,b,k,0,2*Math.PI),this};a.drawEllipse=function(a,b,k,f){this._dirty=this._active=!0;var l=k/2*0.5522848,m=f/2*0.5522848,p=a+k,n=b+f;k=a+k/2;f=b+f/2;return this._activeInstructions.push(new c(this._ctx.moveTo,[a,f]),new c(this._ctx.bezierCurveTo,[a,f-m,k-l,b,k,b]),new c(this._ctx.bezierCurveTo,[k+l,b,p,f-m,p,f]),new c(this._ctx.bezierCurveTo,[p,f+m,k+l,n,k,n]),new c(this._ctx.bezierCurveTo,[k-l,n,a,f+m,a,f])),this};a.inject=
function(a,b){return this._dirty=this._active=!0,this._activeInstructions.push(new c(a,[b])),this};a.drawPolyStar=function(a,b,k,f,l,m){this._dirty=this._active=!0;null==l&&(l=0);l=1-l;null==m?m=0:m/=180/Math.PI;var p=Math.PI/f;this._activeInstructions.push(new c(this._ctx.moveTo,[a+Math.cos(m)*k,b+Math.sin(m)*k]));for(var n=0;f>n;n++)m+=p,1!=l&&this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(m)*k*l,b+Math.sin(m)*k*l])),m+=p,this._activeInstructions.push(new c(this._ctx.lineTo,[a+
Math.cos(m)*k,b+Math.sin(m)*k]));return this};a.decodePath=function(a){for(var k=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],f=[2,2,4,6,0],c=0,l=a.length,m=[],p=0,n=0,r=b.BASE_64;l>c;){var q=a.charAt(c),s=r[q],v=s>>3,t=k[v];if(!t||3&s)throw"bad path data (@"+c+"): "+q;q=f[v];v||(p=n=0);m.length=0;c++;s=(1&s>>2)+2;for(v=0;q>v;v++){var w=r[a.charAt(c)],y=w>>5?-1:1,w=(31&w)<<6|r[a.charAt(c+1)];3==s&&(w=w<<6|r[a.charAt(c+2)]);w=y*w/10;v%2?p=w+=p:n=w+=n;m[v]=w;c+=
s}t.apply(this,m)}return this};a.clone=function(){var a=new b;return a._instructions=this._instructions.slice(),a._activeInstructions=this._activeInstructions.slice(),a._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(a._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(a._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(a._strokeStyleInstructions=this._strokeStyleInstructions.slice()),a._active=this._active,a._dirty=
this._dirty,a._fillMatrix=this._fillMatrix,a._strokeIgnoreScale=this._strokeIgnoreScale,a};a.toString=function(){return"[Graphics]"};a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;a.bs=a.beginBitmapStroke;
a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;a.dp=a.drawPolyStar;a.p=a.decodePath;a._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(b.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);
this._fillInstructions&&this._appendDraw(b.fillCmd,this._fillMatrix);this._strokeInstructions&&this._appendDraw(b.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};a._appendInstructions=function(a){a&&this._instructions.push.apply(this._instructions,a)};a._appendDraw=function(a,b){b?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.transform,b,!1),a,new c(this._ctx.restore,[],!1)):this._instructions.push(a)};a._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=
this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};a._setProp=function(a,b){this[a]=b};createjs.Graphics=b})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.EventDispatcher;c._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");c.suppressCrossDomainErrors=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._hitTestCanvas=a,c._hitTestContext=a.getContext("2d"),a.width=a.height=1);c._nextCacheID=1;b.alpha=1;b.cacheCanvas=null;b.id=-1;b.mouseEnabled=!0;b.tickEnabled=!0;b.name=
null;b.parent=null;b.regX=0;b.regY=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.shadow=null;b.visible=!0;b.x=0;b.y=0;b.compositeOperation=null;b.snapToPixel=!1;b.filters=null;b.cacheID=0;b.mask=null;b.hitArea=null;b.cursor=null;b._cacheOffsetX=0;b._cacheOffsetY=0;b._cacheScale=1;b._cacheDataURLID=0;b._cacheDataURL=null;b._matrix=null;b._rectangle=null;b._bounds=null;b.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D;this._rectangle=new createjs.Rectangle};
b.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};b.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var e,g=this._cacheScale,h=this._cacheOffsetX,l=this._cacheOffsetY;return(e=this._applyFilterBounds(h,l,0,0))&&(h=e.x,l=e.y),a.drawImage(c,h,l,c.width/g,c.height/g),!0};b.updateContext=function(a){var b,c=this.mask;c&&c.graphics&&!c.graphics.isEmpty()&&(b=c.getMatrix(c._matrix),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty),c.graphics.drawAsPath(a),a.clip(),
b.invert(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));b=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?a.transform(b.a,b.b,b.c,b.d,0|b.tx+0.5,0|b.ty+0.5):a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};b.cache=function(a,
b,c,e,g){g=g||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=e;this._cacheOffsetX=a;this._cacheOffsetY=b;this._cacheScale=g;this.updateCache()};b.updateCache=function(a){var b,d=this.cacheCanvas,e=this._cacheScale,g=this._cacheOffsetX*e,h=this._cacheOffsetY*e,l=this._cacheWidth,m=this._cacheHeight;if(!d)throw"cache() must be called before updateCache()";var p=d.getContext("2d");(b=this._applyFilterBounds(g,
h,l,m))&&(g=b.x,h=b.y,l=b.width,m=b.height);l=Math.ceil(l*e);m=Math.ceil(m*e);l!=d.width||m!=d.height?(d.width=l,d.height=m):a||p.clearRect(0,0,l+1,m+1);p.save();p.globalCompositeOperation=a;p.setTransform(e,0,0,e,-g,-h);this.draw(p,!0);this._applyFilters();p.restore();this.cacheID=c._nextCacheID++};b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};b.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=
this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};b.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof createjs.Stage?a:null};b.localToGlobal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.append(1,0,0,1,a,b),new createjs.Point(c.tx,c.ty))};b.globalToLocal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.invert(),c.append(1,0,0,1,a,b),new createjs.Point(c.tx,
c.ty))};b.localToLocal=function(a,b,c){a=this.localToGlobal(a,b);return c.globalToLocal(a.x,a.y)};b.setTransform=function(a,b,c,e,g,h,l,m,p){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==e?1:e,this.rotation=g||0,this.skewX=h||0,this.skewY=l||0,this.regX=m||0,this.regY=p||0,this};b.getMatrix=function(a){return(a?a.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,
this.shadow,this.compositeOperation)};b.getConcatenatedMatrix=function(a){a?a.identity():a=new createjs.Matrix2D;for(var b=this;null!=b;)a.prependTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY).prependProperties(b.alpha,b.shadow,b.compositeOperation),b=b.parent;return a};b.hitTest=function(a,b){var d=c._hitTestContext;d.setTransform(1,0,0,1,-a,-b);this.draw(d);var e=this._testHit(d);return d.setTransform(1,0,0,1,0,0),d.clearRect(0,0,2,2),e};b.set=function(a){for(var b in a)this[b]=
a[b];return this};b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null};b.getTransformedBounds=function(){return this._getBounds()};b.setBounds=function(a,b,c,e){null==a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).initialize(a,b,c,e)};b.clone=function(){var a=new c;return this.cloneProps(a),
a};b.toString=function(){return"[DisplayObject (name="+this.name+")]"};b.cloneProps=function(a){a.alpha=this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;a.visible=this.visible;a.x=this.x;a.y=this.y;a._bounds=this._bounds;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation};b._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=
b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};b._tick=function(a){var b=this._listeners;b&&b.tick&&(b=new createjs.Event("tick"),b.params=a,this._dispatchEvent(b,this,2))};b._testHit=function(a){try{var b=1<a.getImageData(0,0,1,1).data[3]}catch(d){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return b};b._applyFilters=function(){if(this.filters&&
0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,e=this.cacheCanvas.height,g=0;a>g;g++)this.filters[g].applyFilter(b,0,0,c,e)};b._applyFilterBounds=function(a,b,c,e){var g,h,l=this.filters;if(!l||!(h=l.length))return null;for(l=0;h>l;l++){var m=this.filters[l];(m=m.getBounds&&m.getBounds())&&(g||(g=this._rectangle.initialize(a,b,c,e)),g.x+=m.x,g.y+=m.y,g.width+=m.width,g.height+=m.height)}return g};b._getBounds=function(a,
b){return this._transformBounds(this.getBounds(),a,b)};b._transformBounds=function(a,b,c){if(!a)return a;var e=a.x,g=a.y,h=a.width,l=a.height,m=c?this._matrix.identity():this.getMatrix(this._matrix);(e||g)&&m.appendTransform(0,0,1,1,0,0,0,-e,-g);b&&m.prependMatrix(b);b=h*m.a;h*=m.b;c=l*m.c;var l=l*m.d,p=m.tx,m=m.ty,n=p,r=p,q=m,s=m;return(e=b+p)<n?n=e:e>r&&(r=e),(e=b+c+p)<n?n=e:e>r&&(r=e),(e=c+p)<n?n=e:e>r&&(r=e),(g=h+m)<q?q=g:g>s&&(s=g),(g=h+l+m)<q?q=g:g>s&&(s=g),(g=l+m)<q?q=g:g>s&&(s=g),a.initialize(n,
q,r-n,s-q)};b._hasMouseEventListener=function(){for(var a=c._MOUSE_EVENTS,b=0,d=a.length;d>b;b++)if(this.hasEventListener(a[b]))return!0;return!!this.cursor};createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.DisplayObject;b.children=null;b.mouseChildren=!0;b.tickChildren=!0;b.DisplayObject_initialize=b.initialize;b.initialize=function(){this.DisplayObject_initialize();this.children=[]};b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var f=this.children.slice(0),
c=0,e=f.length;e>c;c++){var g=f[c];g.isVisible()&&(a.save(),g.updateContext(a),g.draw(a),a.restore())}return!0};b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var f=0;b>f;f++)this.addChild(arguments[f]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a};b.addChildAt=function(a,b){var f=arguments.length,c=arguments[f-1];if(0>c||c>this.children.length)return arguments[f-2];if(2<f){for(var e=0;f-1>e;e++)this.addChildAt(arguments[e],
c+e);return arguments[f-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a};b.removeChild=function(a){var b=arguments.length;if(1<b){for(var f=!0,c=0;b>c;c++)f=f&&this.removeChild(arguments[c]);return f}return this.removeChildAt(createjs.indexOf(this.children,a))};b.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var f=[],c=0;b>c;c++)f[c]=arguments[c];f.sort(function(a,b){return b-a});for(var e=!0,c=0;b>c;c++)e=e&&this.removeChildAt(f[c]);return e}if(0>
a||a>this.children.length-1)return!1;b=this.children[a];return b&&(b.parent=null),this.children.splice(a,1),!0};b.removeAllChildren=function(){for(var a=this.children;a.length;)a.pop().parent=null};b.getChildAt=function(a){return this.children[a]};b.getChildByName=function(a){for(var b=this.children,c=0,d=b.length;d>c;c++)if(b[c].name==a)return b[c];return null};b.sortChildren=function(a){this.children.sort(a)};b.getChildIndex=function(a){return createjs.indexOf(this.children,a)};b.getNumChildren=
function(){return this.children.length};b.swapChildrenAt=function(a,b){var c=this.children,d=c[a],e=c[b];d&&e&&(c[a]=e,c[b]=d)};b.swapChildren=function(a,b){for(var c,d,e=this.children,g=0,h=e.length;h>g&&(e[g]==a&&(c=g),e[g]==b&&(d=g),null==c||null==d);g++);g!=h&&(e[c]=b,e[d]=a)};b.setChildIndex=function(a,b){var c=this.children,d=c.length;if(!(a.parent!=this||0>b||b>=d)){for(var e=0;d>e&&c[e]!=a;e++);e!=d&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}};b.contains=function(a){for(;a;){if(a==this)return!0;
a=a.parent}return!1};b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};b.getObjectsUnderPoint=function(a,b){var c=[],d=this.localToGlobal(a,b);return this._getObjectsUnderPoint(d.x,d.y,c),c};b.getObjectUnderPoint=function(a,b){var c=this.localToGlobal(a,b);return this._getObjectsUnderPoint(c.x,c.y)};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){return this._getBounds(null,!0)};b.getTransformedBounds=function(){return this._getBounds()};b.clone=function(a){var b=new c;
if(this.cloneProps(b),a)for(var f=b.children=[],d=0,e=this.children.length;e>d;d++){var g=this.children[d].clone(a);g.parent=b;f.push(g)}return b};b.toString=function(){return"[Container (name="+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};b._getObjectsUnderPoint=function(a,b,f,d,e){var g=createjs.DisplayObject._hitTestContext,
h=this._matrix;e=e||d&&this._hasMouseEventListener();for(var l=this.children,m=l.length-1;0<=m;m--){var p=l[m],n=p.hitArea;if(p.visible&&(n||p.isVisible())&&(!d||p.mouseEnabled))if(!n&&p instanceof c){if(p=p._getObjectsUnderPoint(a,b,f,d,e),!f&&p)return d&&!this.mouseChildren?this:p}else if(e||p._hasMouseEventListener())if(p.getConcatenatedMatrix(h),n&&(h.appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.rotation,n.skewX,n.skewY,n.regX,n.regY),h.alpha=n.alpha),g.globalAlpha=h.alpha,g.setTransform(h.a,h.b,
h.c,h.d,h.tx-a,h.ty-b),(n||p).draw(g),this._testHit(g)){if(g.setTransform(1,0,0,1,0,0),g.clearRect(0,0,2,2),!f)return d&&!this.mouseChildren?this:p;f.push(p)}}return null};b._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var d,e,g,h,l=b?this._matrix.identity():this.getMatrix(this._matrix);a&&l.prependMatrix(a);for(var m=this.children.length,p=0;m>p;p++){var n=this.children[p];if(n.visible&&(c=n._getBounds(l))){var n=c.x,r=c.y,q=n+c.width,s=r+
c.height;(d>n||null==d)&&(d=n);(q>e||null==e)&&(e=q);(g>r||null==g)&&(g=r);(s>h||null==h)&&(h=s)}}return null==e?null:this._rectangle.initialize(d,g,e-d,h-g)};createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;b.autoClear=!0;b.canvas=null;b.mouseX=0;b.mouseY=0;b.snapToPixelEnabled=!1;b.mouseInBounds=!1;b.tickOnUpdate=!0;b.mouseMoveOutside=!1;b.nextStage=null;b._pointerData=null;b._pointerCount=0;b._primaryPointerID=null;b._mouseOverIntervalID=null;b.Container_initialize=b.initialize;b.initialize=function(a){this.Container_initialize();this.canvas="string"==typeof a?document.getElementById(a):
a;this._pointerData={};this.enableDOMEvents(!0)};b.update=function(){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this.tickEnabled&&this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend"));this.dispatchEvent("drawstart");c._snapToPixelEnabled=this.snapToPixelEnabled;this.autoClear&&this.clear();var a=this.canvas.getContext("2d");a.save();this.updateContext(a);this.draw(a,!1);a.restore();this.dispatchEvent("drawend")}};b.handleEvent=function(a){"tick"==a.type&&
this.update(a)};b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};b.toDataURL=function(a,b){b||(b="image/png");var c,d=this.canvas.getContext("2d"),e=this.canvas.width,g=this.canvas.height;if(a){c=d.getImageData(0,0,e,g);var h=d.globalCompositeOperation;d.globalCompositeOperation="destination-over";d.fillStyle=a;d.fillRect(0,0,e,g)}var l=this.canvas.toDataURL(b);return a&&(d.clearRect(0,0,e+
1,g+1),d.putImageData(c,0,0),d.globalCompositeOperation=h),l};b.enableMouseOver=function(a){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0)),null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};b.enableDOMEvents=function(a){null==a&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);this._eventListeners=
null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var d=this,c=this._eventListeners={};c.mouseup={t:a,f:function(a){d._handleMouseUp(a)}};c.mousemove={t:a,f:function(a){d._handleMouseMove(a)}};c.dblclick={t:this.canvas,f:function(a){d._handleDoubleClick(a)}};c.mousedown={t:this.canvas,f:function(a){d._handleMouseDown(a)}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};b.clone=function(){var a=new c(null);return this.cloneProps(a),a};b.toString=function(){return"[Stage (name="+
this.name+")]"};b._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),g=window.getComputedStyle?getComputedStyle(a):a.currentStyle;a=parseInt(g.paddingLeft)+parseInt(g.borderLeftWidth);var h=parseInt(g.paddingTop)+
parseInt(g.borderTopWidth),l=parseInt(g.paddingRight)+parseInt(g.borderRightWidth),g=parseInt(g.paddingBottom)+parseInt(g.borderBottomWidth);return{left:b.left+d+a,right:b.right+d-l,top:b.top+e+h,bottom:b.bottom+e-g}};b._getPointerData=function(a){var b=this._pointerData[a];return b||(b=this._pointerData[a]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=a),(null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=a)),b};b._handleMouseMove=function(a){a||
(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};b._handlePointerMove=function(a,b,c,d){if(this.canvas){var e=this._getPointerData(a),g=e.inBounds;if(this._updatePointerPosition(a,b,c,d),g||e.inBounds||this.mouseMoveOutside)-1==a&&e.inBounds==!g&&this._dispatchMouseEvent(this,g?"mouseleave":"mouseenter",!1,a,e,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,e,b),this._dispatchMouseEvent(e.target,"pressmove",!0,a,e,b),(g=e.event)&&g.hasEventListener("mousemove")&&g.dispatchEvent(new createjs.MouseEvent("mousemove",
!1,!1,e.x,e.y,b,a,a==this._primaryPointerID,e.rawX,e.rawY),e.target),this.nextStage&&this.nextStage._handlePointerMove(a,b,c,d)}};b._updatePointerPosition=function(a,b,c,d){var e=this._getElementRect(this.canvas);c-=e.left;d-=e.top;var g=this.canvas.width,h=this.canvas.height;c/=(e.right-e.left)/g;d/=(e.bottom-e.top)/h;e=this._getPointerData(a);(e.inBounds=0<=c&&0<=d&&g-1>=c&&h-1>=d)?(e.x=c,e.y=d):this.mouseMoveOutside&&(e.x=0>c?0:c>g-1?g-1:c,e.y=0>d?0:d>h-1?h-1:d);e.posEvtObj=b;e.rawX=c;e.rawY=d;
a==this._primaryPointerID&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseInBounds=e.inBounds)};b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};b._handlePointerUp=function(a,b,c){var d=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemouseup",!1,a,d,b);var e=d.target;e&&(this._getObjectsUnderPoint(d.x,d.y,null,!0)==e&&this._dispatchMouseEvent(e,"click",!0,a,d,b),this._dispatchMouseEvent(e,"pressup",!0,a,d,b));var g=d.event;g&&g.hasEventListener("mouseup")&&g.dispatchEvent(new createjs.MouseEvent("mouseup",
!1,!1,d.x,d.y,b,a,a==this._primaryPointerID,d.rawX,d.rawY),e);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):d.event=d.target=null;this.nextStage&&this.nextStage._handlePointerUp(a,b,c)};b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};b._handlePointerDown=function(a,b,c,d){null!=d&&this._updatePointerPosition(a,b,c,d);var e=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemousedown",!1,a,e,b);e.target=this._getObjectsUnderPoint(e.x,
e.y,null,!0);e.event=this._dispatchMouseEvent(e.target,"mousedown",!0,a,e,b);this.nextStage&&this.nextStage._handlePointerDown(a,b,c,d)};b._testMouseOver=function(a){if(-1==this._primaryPointerID&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var b,c,d,e=this._getPointerData(-1),g=e.posEvtObj,h=-1;d="";(a||this.mouseInBounds&&g&&g.target==this.canvas)&&(b=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=
this.mouseY);a=this._mouseOverTarget||[];var l=a[a.length-1],m=this._mouseOverTarget=[];for(c=b;c;)m.unshift(c),null!=c.cursor&&(d=c.cursor),c=c.parent;this.canvas.style.cursor=d;d=0;for(c=m.length;c>d&&m[d]==a[d];d++)h=d;l!=b&&this._dispatchMouseEvent(l,"mouseout",!0,-1,e,g);for(d=a.length-1;d>h;d--)this._dispatchMouseEvent(a[d],"rollout",!1,-1,e,g);for(d=m.length-1;d>h;d--)this._dispatchMouseEvent(m[d],"rollover",!1,-1,e,g);l!=b&&this._dispatchMouseEvent(b,"mouseover",!0,-1,e,g)}};b._handleDoubleClick=
function(a){var b=this._getPointerData(-1),c=this._getObjectsUnderPoint(b.x,b.y,null,!0);this._dispatchMouseEvent(c,"dblclick",!0,-1,b,a);this.nextStage&&this.nextStage._handleDoubleClick(a)};b._dispatchMouseEvent=function(a,b,c,d,e,g){if(a&&(c||a.hasEventListener(b)))return b=new createjs.MouseEvent(b,c,!1,e.x,e.y,g,d,d==this._primaryPointerID,e.rawX,e.rawY),a.dispatchEvent(b),b};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.image=null;b.snapToPixel=!0;b.sourceRect=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a};b.isVisible=function(){var a=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&
0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.sourceRect;return c?a.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):a.drawImage(this.image,0,0),!0};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;a=this.sourceRect||this.image;return this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)?this._rectangle.initialize(0,
0,a.width,a.height):null};b.clone=function(){var a=new c(this.image);return this.sourceRect&&(a.sourceRect=this.sourceRect.clone()),this.cloneProps(a),a};b.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype=new createjs.DisplayObject;b.currentFrame=0;b.currentAnimation=null;b.paused=!0;b.spriteSheet=null;b.snapToPixel=!0;b.offset=0;b.currentAnimationFrame=0;b.framerate=0;b._advanceCount=0;b._animation=null;b._currentFrame=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b){this.DisplayObject_initialize();this.spriteSheet=a;b&&this.gotoAndPlay(b)};b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;
return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return a.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0};b.play=function(){this.paused=!1};b.stop=function(){this.paused=!0};b.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};b.gotoAndStop=function(a){this.paused=
!0;this._goto(a)};b.advance=function(a){var b=this._animation&&this._animation.speed||1,c=this.framerate||this.spriteSheet.framerate;a=c&&null!=a?a/(1E3/c):1;this._animation?this.currentAnimationFrame+=a*b:this._currentFrame+=a*b;this._normalizeFrame()};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};b.clone=function(){var a=new c(this.spriteSheet);return this.cloneProps(a),a};b.toString=
function(){return"[Sprite (name="+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){this.paused||this.advance(a&&a[0]&&a[0].delta);this.DisplayObject__tick(a)};b._normalizeFrame=function(){var a,b=this._animation,c=this.paused,d=this._currentFrame,e=this.currentAnimationFrame;if(b)if(a=b.frames.length,(0|e)>=a){var g=b.next;if(!this._dispatchAnimationEnd(b,d,c,g,a-1)){if(g)return this._goto(g,e-a);this.paused=!0;e=this.currentAnimationFrame=b.frames.length-1;this._currentFrame=b.frames[e]}}else this._currentFrame=
b.frames[0|e];else if(a=this.spriteSheet.getNumFrames(),d>=a&&!this._dispatchAnimationEnd(b,d,c,a-1)&&(this._currentFrame-=a)>=a)return this._normalizeFrame();this.currentFrame=0|this._currentFrame};b._dispatchAnimationEnd=function(a,b,c,d,e){var g=a?a.name:null;if(this.hasEventListener("animationend")){var h=new createjs.Event("animationend");h.name=g;h.next=d;this.dispatchEvent(h)}a=this._animation!=a||this._currentFrame!=b;return a||c||!this.paused||(this.currentAnimationFrame=e,a=!0),a};b.DisplayObject_cloneProps=
b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.currentFrame=this.currentFrame;a._currentFrame=this._currentFrame;a.currentAnimation=this.currentAnimation;a.paused=this.paused;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame;a.framerate=this.framerate};b._goto=function(a,b){if(isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this.currentAnimationFrame=b||0,this._animation=c,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimationFrame=
0,this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.graphics=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new createjs.Graphics};b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a),
!0)};b.clone=function(a){a=new c(a&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(a),a};b.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.DisplayObject,a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingContext=a.getContext("2d"),a.width=a.height=1);c.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1};b.text="";b.font=null;b.color=null;b.textAlign="left";b.textBaseline="top";b.maxWidth=null;b.outline=0;
b.lineHeight=0;b.lineWidth=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b,c){this.DisplayObject_initialize();this.text=a;this.font=b;this.color=c};b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):
a.fillStyle=c,this._drawText(this._prepContext(a)),!0};b.getMeasuredWidth=function(){return this._prepContext(c._workingContext).measureText(this.text).width};b.getMeasuredLineHeight=function(){return 1.2*this._prepContext(c._workingContext).measureText("M").width};b.getMeasuredHeight=function(){return this._drawText(null,{}).height};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""==this.text)return null;var a=this._drawText(null,
{}),b=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,d=b*c.H_OFFSETS[this.textAlign||"left"],e=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(d,e,b,a.height)};b.clone=function(){var a=new c(this.text,this.font,this.color);return this.cloneProps(a),a};b.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);
a.textAlign=this.textAlign;a.textBaseline=this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};b._prepContext=function(a){return a.font=this.font,a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};b._drawText=function(a,b){var d=!!a;d||(a=this._prepContext(c._workingContext));for(var e=this.lineHeight||this.getMeasuredLineHeight(),g=0,h=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),m=0,p=l.length;p>m;m++){var n=
l[m],r=null;if(null!=this.lineWidth&&(r=a.measureText(n).width)>this.lineWidth)for(var q=n.split(/(\s)/),n=q[0],r=a.measureText(n).width,s=1,v=q.length;v>s;s+=2){var t=a.measureText(q[s]+q[s+1]).width;r+t>this.lineWidth?(d&&this._drawTextLine(a,n,h*e),r>g&&(g=r),n=q[s+1],r=a.measureText(n).width,h++):(n+=q[s]+q[s+1],r+=t)}d&&this._drawTextLine(a,n,h*e);b&&null==r&&(r=a.measureText(n).width);r>g&&(g=r);h++}return b&&(b.count=h,b.width=g,b.height=h*e),b};b._drawTextLine=function(a,b,c){this.outline?
a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){function c(a,b){this.initialize(a,b)}var b=c.prototype=new createjs.DisplayObject;b.text="";b.spriteSheet=null;b.lineHeight=0;b.letterSpacing=0;b.spaceWidth=0;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b){this.DisplayObject_initialize();this.text=a;this.spriteSheet=b};b.DisplayObject_draw=b.draw;b.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._drawText(a),void 0)};b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&
this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.getBounds=function(){var a=this._rectangle;return this._drawText(null,a),a.width?a:null};b._getFrame=function(a,b){var c,d=b.getAnimation(a);return d||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(d=b.getAnimation(c))),d&&b.getFrame(d.frames[0])};b._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};b._getSpaceWidth=
function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?a.rect.width:1};b._drawText=function(a,b){var c,d,e,g=0,h=0,l=this.spaceWidth,m=this.lineHeight,p=this.spriteSheet,n=!!this._getFrame(" ",p);n||0!=l||(l=this._getSpaceWidth(p));0==m&&(m=this._getLineHeight(p));for(var r=0,q=0,s=this.text.length;s>q;q++)if(c=this.text.charAt(q),n||" "!=c)if("\n"!=c&&"\r"!=c){var v=this._getFrame(c,p);if(v){var t=v.rect;e=v.regX;c=t.width;
a&&a.drawImage(v.image,t.x,t.y,c,d=t.height,g-e,h-v.regY,c,d);g+=c+this.letterSpacing}}else"\r"==c&&"\n"==this.text.charAt(q+1)&&q++,g-e>r&&(r=g-e),g=0,h+=m;else g+=l;g-e>r&&(r=g-e);b&&(b.width=r-this.letterSpacing,b.height=h+m)};createjs.BitmapText=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";},b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._workingCanvas=b,c._workingContext=b.getContext("2d"),b.width=b.height=1);c.addFlippedFrames=function(a,b,f,d){if(b||f||d){var e=0;b&&c._flip(a,++e,!0,!1);f&&c._flip(a,++e,!1,!0);d&&c._flip(a,++e,!0,!0)}};c.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);var f=a.getFrame(b);if(!f)return null;var d=f.rect,
e=c._workingCanvas;e.width=d.width;e.height=d.height;c._workingContext.drawImage(f.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height);f=document.createElement("img");return f.src=e.toDataURL("image/png"),f};c.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var d=c.getContext("2d");return d.save(),d.drawImage(a,0,0),d.globalCompositeOperation="destination-in",d.drawImage(b,
0,0),d.restore(),c};c._flip=function(a,b,f,d){for(var e=a._images,g=c._workingCanvas,h=c._workingContext,l=e.length/b,m=0;l>m;m++){var p=e[m];p.__tmp=m;h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,g.width+1,g.height+1);g.width=p.width;g.height=p.height;h.setTransform(f?-1:1,0,0,d?-1:1,f?p.width:0,d?p.height:0);h.drawImage(p,0,0);var n=document.createElement("img");n.src=g.toDataURL("image/png");n.width=p.width;n.height=p.height;e.push(n)}h=a._frames;g=h.length/b;for(m=0;g>m;m++){var p=h[m],r=p.rect.clone(),
n=e[p.image.__tmp+l*b],q={image:n,rect:r,regX:p.regX,regY:p.regY};f&&(r.x=n.width-r.x-r.width,q.regX=r.width-p.regX);d&&(r.y=n.height-r.y-r.height,q.regY=r.height-p.regY);h.push(q)}f="_"+(f?"h":"")+(d?"v":"");d=a._animations;a=a._data;e=d.length/b;for(m=0;e>m;m++){h=d[m];p=a[h];l={name:h+f,speed:p.speed,next:p.next,frames:[]};p.next&&(l.next+=f);h=p.frames;p=0;for(n=h.length;n>p;p++)l.frames.push(h[p]+g*b);a[l.name]=l;d.push(l.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.EventDispatcher;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";b.maxWidth=2048;b.maxHeight=2048;b.spriteSheet=null;b.scale=1;b.padding=1;b.timeSlice=0.3;b.progress=-1;b._frames=null;b._animations=null;b._data=null;b._nextFrameIndex=0;b._index=0;b._timerID=null;b._scale=1;b.initialize=function(){this._frames=[];this._animations={}};b.addFrame=function(a,b,f,d,
e,g){if(this._data)throw c.ERR_RUNNING;b=b||a.bounds||a.nominalBounds;return!b&&a.getBounds&&(b=a.getBounds()),b?(f=f||1,this._frames.push({source:a,sourceRect:b,scale:f,funct:d,params:e,scope:g,index:this._frames.length,height:b.height*f})-1):null};b.addAnimation=function(a,b,f,d){if(this._data)throw c.ERR_RUNNING;this._animations[a]={frames:b,next:f,frequency:d}};b.addMovieClip=function(a,b,f){if(this._data)throw c.ERR_RUNNING;var d=a.frameBounds,e=b||a.bounds||a.nominalBounds;if(!e&&a.getBounds&&
(e=a.getBounds()),!e&&!d)return null;b=this._frames.length;for(var g=a.timeline.duration,h=0;g>h;h++)this.addFrame(a,d&&d[h]?d[h]:e,f,function(a){var b=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(a);this.actionsEnabled=b},[h],a);h=a.timeline._labels;a=[];for(var l in h)a.push({index:h[l],label:l});if(a.length)for(a.sort(function(a,b){return a.index-b.index}),h=0,l=a.length;l>h;h++){f=a[h].label;for(var d=b+(h==l-1?g:a[h+1].index),e=[],m=b+a[h].index;d>m;m++)e.push(m);this.addAnimation(f,
e,!0)}};b.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};b.buildAsync=function(a){if(this._data)throw c.ERR_RUNNING;this.timeSlice=a;this._startBuild();var b=this;this._timerID=setTimeout(function(){b._run()},50-50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)))};b.stopAsync=function(){clearTimeout(this._timerID);this._data=null};b.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};b.toString=function(){return"[SpriteSheetBuilder]"};
b._startBuild=function(){var a=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var b=[];this._data={images:[],frames:b,animations:this._animations};var f=this._frames.slice();if(f.sort(function(a,b){return a.height<=b.height?-1:1}),f[f.length-1].height+2*a>this.maxHeight)throw c.ERR_DIMENSIONS;for(var d=0,e=0,g=0;f.length;){var h=this._fillRow(f,d,g,b,a);if(h.w>e&&(e=h.w),d+=h.h,!h.h||!f.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
l.width=this._getSize(e,this.maxWidth);l.height=this._getSize(d,this.maxHeight);this._data.images[g]=l;h.h||(e=d=0,g++)}}};b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};b._fillRow=function(a,b,f,d,e){var g=this.maxWidth,h=this.maxHeight;b+=e;for(var h=h-b,l=e,m=0,p=a.length-1;0<=p;p--){var n=a[p],r=this._scale*n.scale,q=n.sourceRect,s=n.source,v=Math.floor(r*q.x-e),t=Math.floor(r*q.y-e),w=Math.ceil(r*q.height+2*e),q=Math.ceil(r*q.width+2*e);if(q>g)throw c.ERR_DIMENSIONS;
w>h||l+q>g||(n.img=f,n.rect=new createjs.Rectangle(l,b,q,w),m=m||w,a.splice(p,1),d[n.index]=[l,b,q,w,f,Math.round(-v+r*s.regX-e),Math.round(-t+r*s.regY-e)],l+=q)}return{w:l,h:m}};b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};b._run=function(){for(var a=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();
else{var d=this;this._timerID=setTimeout(function(){d._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,d=a.sourceRect,e=this._data.images[a.img].getContext("2d");return a.funct&&a.funct.apply(a.scope,a.params),e.save(),e.beginPath(),e.rect(c.x,c.y,c.width,c.height),e.clip(),e.translate(Math.ceil(c.x-
d.x*b),Math.ceil(c.y-d.y*b)),e.scale(b,b),a.source.draw(e),e.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.htmlElement=null;b._oldMtx=null;b._visible=!1;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){"string"==typeof a&&(a=document.getElementById(a));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=a;a=a.style;a.position="absolute";a.transformOrigin=a.WebkitTransformOrigin=a.msTransformOrigin=a.MozTransformOrigin=a.OTransformOrigin="0% 0%"};b.isVisible=function(){return null!=
this.htmlElement};b.draw=function(){return this.visible&&(this._visible=!0),!0};b.cache=function(){};b.uncache=function(){};b.updateCache=function(){};b.hitTest=function(){};b.localToGlobal=function(){};b.globalToLocal=function(){};b.localToLocal=function(){};b.clone=function(){throw"DOMElement cannot be cloned.";};b.toString=function(){return"[DOMElement (name="+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){var b=this.getStage();this._visible=!1;b&&b.on("drawend",this._handleDrawEnd,
this,!0);this.DisplayObject__tick(a)};b._handleDrawEnd=function(){var a=this.htmlElement;if(a){var a=a.style,b=this._visible?"visible":"hidden";if(b!=a.visibility&&(a.visibility=b),this._visible){var b=this.getConcatenatedMatrix(this._matrix),c=this._oldMtx;if(c&&c.alpha==b.alpha||(a.opacity=""+(0|1E4*b.alpha)/1E4,c&&(c.alpha=b.alpha)),!c||c.tx!=b.tx||c.ty!=b.ty||c.a!=b.a||c.b!=b.b||c.c!=b.c||c.d!=b.d){var d="matrix("+(0|1E4*b.a)/1E4+","+(0|1E4*b.b)/1E4+","+(0|1E4*b.c)/1E4+","+(0|1E4*b.d)/1E4+","+
(0|b.tx+0.5);a.transform=a.WebkitTransform=a.OTransform=a.msTransform=d+","+(0|b.ty+0.5)+")";a.MozTransform=d+"px,"+(0|b.ty+0.5)+"px)";this._oldMtx=c?c.copy(b):b.clone()}}}};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype;b.initialize=function(){};b.getBounds=function(){return null};b.applyFilter=function(){};b.toString=function(){return"[Filter]"};b.clone=function(){return new c};createjs.Filter=c})();
this.createjs=this.createjs||{};
(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.Filter;b.initialize=function(a,b,c){(isNaN(a)||0>a)&&(a=0);this.blurX=0|a;(isNaN(b)||0>b)&&(b=0);this.blurY=0|b;(isNaN(c)||1>c)&&(c=1);this.quality=0|c};b.blurX=0;b.blurY=0;b.quality=1;b.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,
281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,
343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,
15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,
16,17,16,17,16,17,9];b.getBounds=function(){var a=0.5*Math.pow(this.quality,0.6);return new createjs.Rectangle(-this.blurX*a,-this.blurY*a,2*this.blurX*a,2*this.blurY*a)};b.applyFilter=function(a,b,c,d,e,g,h,l){g=g||a;null==h&&(h=b);null==l&&(l=c);try{var m=a.getImageData(b,c,d,e)}catch(p){return!1}a=this.blurX/2;if(isNaN(a)||0>a)return!1;a|=0;var n=this.blurY/2;if(isNaN(n)||0>n||(n|=0,0==a&&0==n))return!1;var r=this.quality;(isNaN(r)||1>r)&&(r=1);r|=0;3<r&&(r=3);1>r&&(r=1);var q,s,v,t,w,y,z,A,B,
H,I,J,u=m.data,F=a+a+1;t=n+n+1;var K=d-1,G=e-1,E=a+1,D=n+1,L={r:0,b:0,g:0,a:0,next:null};b=L;for(q=1;F>q;q++)b=b.next={r:0,b:0,g:0,a:0,next:null};b.next=L;c=F={r:0,b:0,g:0,a:0,next:null};for(q=1;t>q;q++)c=c.next={r:0,b:0,g:0,a:0,next:null};c.next=F;for(q=null;0<r--;){w=t=0;var x=this.mul_table[a],C=this.shg_table[a];for(c=e;-1<--c;){y=E*(H=u[t]);z=E*(I=u[t+1]);A=E*(J=u[t+2]);B=E*(v=u[t+3]);b=L;for(q=E;-1<--q;)b.r=H,b.g=I,b.b=J,b.a=v,b=b.next;for(q=1;E>q;q++)s=t+((q>K?K:q)<<2),y+=b.r=u[s],z+=b.g=u[s+
1],A+=b.b=u[s+2],B+=b.a=u[s+3],b=b.next;q=L;for(b=0;d>b;b++)u[t++]=y*x>>>C,u[t++]=z*x>>>C,u[t++]=A*x>>>C,u[t++]=B*x>>>C,s=w+((s=b+a+1)<K?s:K)<<2,y-=q.r-(q.r=u[s]),z-=q.g-(q.g=u[s+1]),A-=q.b-(q.b=u[s+2]),B-=q.a-(q.a=u[s+3]),q=q.next;w+=d}x=this.mul_table[n];C=this.shg_table[n];for(b=0;d>b;b++){t=b<<2;y=D*(H=u[t]);z=D*(I=u[t+1]);A=D*(J=u[t+2]);B=D*(v=u[t+3]);c=F;for(q=0;D>q;q++)c.r=H,c.g=I,c.b=J,c.a=v,c=c.next;v=d;for(q=1;n>=q;q++)t=v+b<<2,y+=c.r=u[t],z+=c.g=u[t+1],A+=c.b=u[t+2],B+=c.a=u[t+3],c=c.next,
G>q&&(v+=d);if(t=b,q=F,0<r)for(c=0;e>c;c++)s=t<<2,u[s+3]=v=B*x>>>C,0<v?(u[s]=y*x>>>C,u[s+1]=z*x>>>C,u[s+2]=A*x>>>C):u[s]=u[s+1]=u[s+2]=0,s=b+((s=c+D)<G?s:G)*d<<2,y-=q.r-(q.r=u[s]),z-=q.g-(q.g=u[s+1]),A-=q.b-(q.b=u[s+2]),B-=q.a-(q.a=u[s+3]),q=q.next,t+=d;else for(c=0;e>c;c++)s=t<<2,u[s+3]=v=B*x>>>C,0<v?(v=255/v,u[s]=(y*x>>>C)*v,u[s+1]=(z*x>>>C)*v,u[s+2]=(A*x>>>C)*v):u[s]=u[s+1]=u[s+2]=0,s=b+((s=c+D)<G?s:G)*d<<2,y-=q.r-(q.r=u[s]),z-=q.g-(q.g=u[s+1]),A-=q.b-(q.b=u[s+2]),B-=q.a-(q.a=u[s+3]),q=q.next,
t+=d}}return g.putImageData(m,h,l),!0};b.clone=function(){return new c(this.blurX,this.blurY,this.quality)};b.toString=function(){return"[BlurFilter]"};createjs.BlurFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.initialize=function(a){this.alphaMap=a};b.alphaMap=null;b._alphaMap=null;b._mapData=null;b.applyFilter=function(a,b,c,d,e,g,h,l){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;g=g||a;null==h&&(h=b);null==l&&(l=c);try{var m=a.getImageData(b,c,d,e)}catch(p){return!1}a=m.data;b=this._mapData;c=a.length;for(d=0;c>d;d+=4)a[d+3]=b[d]||0;return g.putImageData(m,h,l),!0};b.clone=function(){return new c(this.alphaMap)};
b.toString=function(){return"[AlphaMapFilter]"};b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a,b=this._alphaMap=this.alphaMap,c=b;b instanceof HTMLCanvasElement?a=c.getContext("2d"):(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),c.width=b.width,c.height=b.height,a=c.getContext("2d"),a.drawImage(b,0,0));try{var d=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}return this._mapData=
d.data,!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.initialize=function(a){this.mask=a};b.mask=null;b.applyFilter=function(a,b,c,d,e,g,h,l){return this.mask?(g=g||a,null==h&&(h=b),null==l&&(l=c),g.save(),g.globalCompositeOperation="destination-in",g.drawImage(this.mask,h,l),g.restore(),!0):!0};b.clone=function(){return new c(this.mask)};b.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,c,d,e,g,h,l){this.initialize(a,b,c,d,e,g,h,l)},b=c.prototype=new createjs.Filter;b.redMultiplier=1;b.greenMultiplier=1;b.blueMultiplier=1;b.alphaMultiplier=1;b.redOffset=0;b.greenOffset=0;b.blueOffset=0;b.alphaOffset=0;b.initialize=function(a,b,c,d,e,g,h,l){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=d?d:1;this.redOffset=e||0;this.greenOffset=g||0;this.blueOffset=h||0;this.alphaOffset=l||
0};b.applyFilter=function(a,b,c,d,e,g,h,l){g=g||a;null==h&&(h=b);null==l&&(l=c);try{var m=a.getImageData(b,c,d,e)}catch(p){return!1}a=m.data;b=a.length;for(c=0;b>c;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return g.putImageData(m,h,l),!0};b.toString=function(){return"[ColorFilter]"};b.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,
this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,b,c,d){this.initialize(a,b,c,d)},b=c.prototype;c.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,
7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;b.initialize=function(a,b,c,d){return this.reset(),this.adjustColor(a,b,c,d),this};b.reset=function(){return this.copyMatrix(c.IDENTITY_MATRIX)};b.adjustColor=function(a,b,c,d){return this.adjustHue(d),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),
this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)};b.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b;return 0>a?b=127+a/100*127:(b=a%1,b=0==b?c.DELTA_INDEX[a]:c.DELTA_INDEX[a<<0]*(1-b)+c.DELTA_INDEX[(a<<0)+1]*b,b=127*b+127),this._multiplyMatrix([b/127,0,0,0,0.5*(127-b),0,b/127,0,0,0.5*(127-b),0,0,b/127,0,0.5*(127-b),0,0,0,1,0,0,0,0,0,1]),this};b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);
a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([0.3086*(1-a)+a,0.6094*(1-a),0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a)+a,0.082*(1-a),0,0,0.3086*(1-a),0.6094*(1-a),0.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([0.213+0.787*b+-0.213*a,0.715+-0.715*b+-0.715*a,0.072+-0.072*b+0.928*a,0,0,0.213+-0.213*b+0.143*a,0.715+b*(1-0.715)+0.14*a,0.072+-0.072*
b+-0.283*a,0,0,0.213+-0.213*b+-0.787*a,0.715+-0.715*b+0.715*a,0.072+0.928*b+0.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};b.concat=function(a){return a=this._fixMatrix(a),a.length!=c.LENGTH?this:(this._multiplyMatrix(a),this)};b.clone=function(){return(new c).copyMatrix(this)};b.toArray=function(){for(var a=[],b=0,f=c.LENGTH;f>b;b++)a[b]=this[b];return a};b.copyMatrix=function(a){for(var b=c.LENGTH,f=0;b>f;f++)this[f]=a[f];return this};b.toString=function(){return"[ColorMatrix]"};b._multiplyMatrix=function(a){for(var b=
[],c=0;5>c;c++){for(var d=0;5>d;d++)b[d]=this[d+5*c];for(d=0;5>d;d++){for(var e=0,g=0;5>g;g++)e+=a[d+5*g]*b[g];this[d+5*c]=e}}};b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};b._fixMatrix=function(a){return a instanceof c&&(a=a.toArray()),a.length<c.LENGTH?a=a.slice(0,a.length).concat(c.IDENTITY_MATRIX.slice(a.length,c.LENGTH)):a.length>c.LENGTH&&(a=a.slice(0,c.LENGTH)),a};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};
(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.matrix=null;b.initialize=function(a){this.matrix=a};b.applyFilter=function(a,b,c,d,e,g,h,l){g=g||a;null==h&&(h=b);null==l&&(l=c);try{var m=a.getImageData(b,c,d,e)}catch(p){return!1}var n,r,q,s;a=m.data;b=a.length;n=this.matrix;c=n[0];d=n[1];e=n[2];for(var v=n[3],t=n[4],w=n[5],y=n[6],z=n[7],A=n[8],B=n[9],H=n[10],I=n[11],J=n[12],u=n[13],F=n[14],K=n[15],G=n[16],E=n[17],D=n[18],L=n[19],x=0;b>x;x+=4)n=a[x],r=a[x+1],q=
a[x+2],s=a[x+3],a[x]=n*c+r*d+q*e+s*v+t,a[x+1]=n*w+r*y+q*z+s*A+B,a[x+2]=n*H+r*I+q*J+s*u+F,a[x+3]=n*K+r*G+q*E+s*D+L;return g.putImageData(m,h,l),!0};b.toString=function(){return"[ColorMatrixFilter]"};b.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints};c.enable=function(b,a,k){return b&&b.canvas&&c.isSupported()?(b.__touch={pointers:{},multitouch:!a,preventDefault:!k,count:0},"ontouchstart"in window?c._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_enable(b),
!0):!1};c.disable=function(b){b&&("ontouchstart"in window?c._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_disable(b))};c._IOS_enable=function(b){var a=b.canvas,k=b.__touch.f=function(a){c._IOS_handleEvent(b,a)};a.addEventListener("touchstart",k,!1);a.addEventListener("touchmove",k,!1);a.addEventListener("touchend",k,!1);a.addEventListener("touchcancel",k,!1)};c._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,a.removeEventListener("touchstart",
b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};c._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var c=a.changedTouches,f=a.type,d=0,e=c.length;e>d;d++){var g=c[d],h=g.identifier;g.target==b.canvas&&("touchstart"==f?this._handleStart(b,h,a,g.pageX,g.pageY):"touchmove"==f?this._handleMove(b,h,a,g.pageX,g.pageY):("touchend"==f||"touchcancel"==f)&&this._handleEnd(b,
h,a))}}};c._IE_enable=function(b){var a=b.canvas,k=b.__touch.f=function(a){c._IE_handleEvent(b,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",k,!1),window.addEventListener("MSPointerMove",k,!1),window.addEventListener("MSPointerUp",k,!1),window.addEventListener("MSPointerCancel",k,!1),b.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",k,!1),window.addEventListener("pointermove",k,!1),window.addEventListener("pointerup",k,!1),
window.addEventListener("pointercancel",k,!1),b.__touch.preventDefault&&(a.style.touchAction="none"));b.__touch.activeIDs={}};c._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",
a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};c._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var c=a.type,f=a.pointerId,d=b.__touch.activeIDs;"MSPointerDown"==c||"pointerdown"==c?a.srcElement==b.canvas&&(d[f]=!0,this._handleStart(b,f,a,a.pageX,a.pageY)):d[f]&&("MSPointerMove"==c||"pointermove"==c?this._handleMove(b,f,a,a.pageX,a.pageY):("MSPointerUp"==c||"MSPointerCancel"==c||
"pointerup"==c||"pointercancel"==c)&&(delete d[f],this._handleEnd(b,f,a)))}};c._handleStart=function(b,a,c,f,d){var e=b.__touch;if(e.multitouch||!e.count){var g=e.pointers;g[a]||(g[a]=!0,e.count++,b._handlePointerDown(a,c,f,d))}};c._handleMove=function(b,a,c,f,d){b.__touch.pointers[a]&&b._handlePointerMove(a,c,f,d)};c._handleEnd=function(b,a,c){var f=b.__touch,d=f.pointers;d[a]&&(f.count--,b._handlePointerUp(a,c,!0),delete d[a])};createjs.Touch=c})();this.createjs=this.createjs||{};
(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="0.7.1";c.buildDate="Thu, 12 Dec 2013 23:33:39 GMT"})();(function(c){function b(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function a(a){var c,d,e,g,p,r;c=a.keyCode;-1==b(q,c)&&q.push(c);if(93==c||224==c)c=91;if(c in m)for(e in m[c]=!0,n)n[e]==c&&(k[e]=!0);else{for(h in m)m[h]=a[s[h]];if(k.filter.call(this,a)&&c in l)for(r=f(),g=0;g<l[c].length;g++)if(d=l[c][g],d.scope==r||"all"==d.scope){p=0<d.mods.length;for(e in m)if(!m[e]&&-1<b(d.mods,+e)||m[e]&&-1==b(d.mods,+e))p=!1;(0!=d.mods.length||m[16]||m[18]||m[17]||m[91])&&!p||!1!==d.method(a,
d)||(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}function k(a,b,c){var f,g;f=d(a);void 0===c&&(c=b,b="all");for(var k=0;k<f.length;k++)g=[],a=f[k].split("+"),1<a.length&&(g=e(a),a=[a[a.length-1]]),a=a[0],a=r[a]||a.toUpperCase().charCodeAt(0),a in l||(l[a]=[]),l[a].push({shortcut:f[k],scope:b,method:c,key:f[k],mods:g})}function f(){return p||"all"}function d(a){a=a.replace(/\s/g,"");a=a.split(",");""==a[a.length-
1]&&(a[a.length-2]+=",");return a}function e(a){a=a.slice(0,a.length-1);for(var b=0;b<a.length;b++)a[b]=n[a[b]];return a}function g(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){c(window.event)})}var h,l={},m={16:!1,18:!1,17:!1,91:!1},p="all",n={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},r={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,
down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},q=[];for(h=1;20>h;h++)r["f"+h]=111+h;var s={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(h in n)k[h]=!1;g(document,"keydown",function(b){a(b)});g(document,"keyup",function(a){a=a.keyCode;var c,d=b(q,a);0<=d&&q.splice(d,1);if(93==a||224==a)a=91;if(a in m)for(c in m[a]=!1,n)n[c]==a&&(k[c]=!1)});g(window,"focus",function(){for(h in m)m[h]=
!1;for(h in n)k[h]=!1});var v=c.key;c.key=k;c.key.setScope=function(a){p=a||"all"};c.key.getScope=f;c.key.deleteScope=function(a){var b,c,d;for(b in l)for(c=l[b],d=0;d<c.length;)c[d].scope===a?c.splice(d,1):d++};c.key.filter=function(a){a=(a.target||a.srcElement).tagName;return!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a)};c.key.isPressed=function(a){"string"==typeof a&&(a=r[a]||a.toUpperCase().charCodeAt(0));return-1!=b(q,a)};c.key.getPressedKeyCodes=function(){return q.slice(0)};c.key.noConflict=function(){var a=
c.key;c.key=v;return a};c.key.unbind=function(a,b){var c,g,k=[],h,m;c=d(a);for(h=0;h<c.length;h++){g=c[h].split("+");1<g.length&&(k=e(g),a=g[g.length-1]);a=r[a]||a.toUpperCase().charCodeAt(0);void 0===b&&(b=f());if(!l[a])break;for(g=0;g<l[a].length;g++){m=l[a][g];var n;if(n=m.scope===b)a:if(m=m.mods,m.length!=k.length)n=!1;else{for(n=0;n<m.length;n++)if(m[n]!==k[n]){n=!1;break a}n=!0}n&&(l[a][g]={})}}};"undefined"!==typeof module&&(module.exports=key)})(this);function BasicCollision(c){this.mapper=c;this.basicCollision=function(b){return this.checkCollisions({left:{x:b.x+2,y:b.y+b.animations.spriteSheet._frameHeight/2},bottom:{x:b.x+b.animations.spriteSheet._frameWidth/2,y:b.y+b.animations.spriteSheet._frameHeight},right:{x:b.x+b.animations.spriteSheet._frameWidth-2,y:b.y+b.animations.spriteSheet._frameHeight/2},top:{x:b.x+b.animations.spriteSheet._frameWidth/2,y:b.y+2}},this.mapper.collisionArray,this.mapper.heightOffset,this.mapper.widthOffset)};this.checkCollisions=
function(b,a,c,f){var d={left:!0,down:!0,right:!0,up:!0},e=Math.floor((b.left.y-c)/32),g=Math.floor((b.left.x-f)/32);if(-1>=e||e>a.length)e=0;if(-1>=g||g>a[e].length)g=0;a[e][g]&&(d.left=!1);e=Math.floor((b.bottom.y-c)/32);g=Math.floor((b.bottom.x-f)/32);if(-1>=e||e>a.length)e=0;if(-1>=g||g>a[e].length)g=0;a[e][g]&&(d.down=!1);e=Math.floor((b.right.y-c)/32);g=Math.floor((b.right.x-f)/32);if(-1>=e||e>a.length)e=0;if(-1>=g||g>a[e].length)g=0;a[e][g]&&(d.right=!1);e=Math.floor((b.top.y-c)/32);g=Math.floor((b.top.x-
f)/32);if(-1>=e||e>a.length)e=0;if(-1>=g||g>a[e].length)g=0;a[e][g]&&(d.up=!1);return d}};function TileCollisionDetector(){this.checkCollisions=function(c,b,a,k){var f={leftmove:!0,downmove:!0,rightmove:!0,upmove:!0},d=Math.floor((c.leftTop.y-a)/32),e=Math.floor((c.leftTop.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.leftmove=!1);d=Math.floor((c.leftBottom.y-a)/32);e=Math.floor((c.leftBottom.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.leftmove=!1);d=Math.floor((c.bottomLeft.y-a)/32);e=Math.floor((c.bottomLeft.x-k)/32);if(-1>=d||
d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.downmove=!1);d=Math.floor((c.bottomRight.y-a)/32);e=Math.floor((c.bottomRight.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.downmove=!1);d=Math.floor((c.rightBottom.y-a)/32);e=Math.floor((c.rightBottom.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.rightmove=!1);d=Math.floor((c.rightTop.y-a)/32);e=Math.floor((c.rightTop.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&
(f.rightmove=!1);d=Math.floor((c.topLeft.y-a)/32);e=Math.floor((c.topLeft.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.upmove=!1);d=Math.floor((c.topRight.y-a)/32);e=Math.floor((c.topRight.x-k)/32);if(-1>=d||d>b.length)d=0;if(-1>=e||e>b[d].length)e=0;b[d][e]&&(f.upmove=!1);return f}};var mapData2={height:15,layers:[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,5,5,5,5,5,5,5,5,113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,113,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,41,42,0,0,0,0,0,0,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,13,58,58,58,58,58,58,58,58,58,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7],height:15,name:"Tile Layer 1",opacity:1,type:"tilelayer",visible:!0,width:25,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,103,103,103,103,103,
103,103,103,98,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,117,104,104,104,104,104,104,104,104,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,97,98,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,117,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,97,98,49,3,3,50,21,22,21,21,22,22,22,21,22,21,22,21,22,22,21,22,16,8,22,117,118,22,0,0,22,23,24,24,23,24,23,24,23,24,23,24,23,24,23,24,23,97,98,24,3,3,23,57,58,24,23,24,23,24,23,24,23,24,23,24,23,24,23,24,23,24,117,118,24,0,0,23,24,23,24,34,34,34,34,34,34,34,34,
34,34,34,34,34,34,34,34,3,3,34,57,58,34,34,34,34,47,47,47,97,103,103,103,103,103,103,103,103,98,46,46,46,0,0,46,46,46,46,46,46,46,0,0,61,117,104,104,104,104,104,104,104,104,118,61,61,61,61,61,61,61,61,61,61,61,61,0,0,3,3,3,3,3,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:15,name:"Tile Layer 2",opacity:1,type:"tilelayer",visible:!0,width:25,x:0,y:0}],orientation:"orthogonal",properties:{},tileheight:32,
tilesets:[{firstgid:1,image:"images/map1.png",imageheight:480,imagewidth:320,margin:0,name:"map1",properties:{},spacing:0,tileheight:32,tilewidth:32}],tilewidth:32,version:1,width:25};
function Mapper(c){function b(a,b,f,d,e,g,h){e=Array(a.height);for(var l=0;l<a.height;l++){e[l]=Array(a.width);for(var m=0;m<a.width;m++){var p=new createjs.Sprite(b),n=m+l*a.width;p.gotoAndStop(a.data[n]-1);p.x=h+m*f;p.y=g+l*d;c.addChild(p);e[l][m]=0!==a.data[n]?!0:!1}}return e}this.internalStage=new createjs.Stage("offscreen");this.tileset=new Image;this.mapData=mapData2;this.stage=c;this.widthOffset=this.heightOffset=null;this.collisionArray=[[],[]];this.tileset.src=this.mapData.tilesets[0].image;
this.initLayers=function(){var a={images:[this.tileset],frames:{width:this.mapData.tilesets[0].tilewidth,height:this.mapData.tilesets[0].tileheight}};this.heightOffset=this.stage.canvas.height-this.mapData.tilesets[0].tileheight*this.mapData.layers[0].height;this.widthOffset=(this.stage.canvas.width-this.mapData.tilesets[0].tilewidth*this.mapData.layers[0].width)/2;for(var a=new createjs.SpriteSheet(a),c=this.internalStage,f=this.mapData,d=0;d<this.mapData.layers.length;d++){var e=this.mapData.layers[d];
"tilelayer"===e.type&&(0===d&&(this.collisionArray=b(e,a,f.tilewidth,f.tileheight,c,this.heightOffset,this.widthOffset)),b(e,a,f.tilewidth,f.tileheight,c,this.heightOffset,this.widthOffset))}}};var HealthBar=function(c,b){this.maxheight=114;this.stage=c;this.bars=28;this.player=b;this.x=18;this.y=this.stage.canvas.height/2-this.maxheight/2-2;this.barAnimations=[];var a=new createjs.Shape;a.graphics.beginFill("#000000").drawRect(this.x,this.y,16,this.maxheight);this.stage.addChild(a);this.stage.update();this.tickActions=function(a){this.bars!==this.player.health&&(this.bars=this.player.health,this.draw())};this.draw=function(){for(var a=0;a<this.barAnimations.length;a++)this.stage.children.removeChild(this.barAnimations[a]);
this.barAnimations=[];for(var b=4*(28-this.bars),a=0;a<this.bars;a++){var c=new createjs.Bitmap("images/healthbar.png");c.x=20;c.y=4*a+b+this.y+2;this.barAnimations.push(c);this.stage.addChild(c)}this.stage.update()};this.draw()};function PrinterGuy(c,b,a,k,f){var d=new createjs.SpriteSheet({images:["images/printerguy.png"],frames:{width:36,height:44,count:4},animations:{sit:{frames:[0],next:"sit"},show:{frames:[1],next:"move"},move:{frames:[2,3],next:"move",speed:0.15}}});this.basicCollision=a;this.player=b;this.stage=c;this.animations=new createjs.Sprite(d,"sit");this.x=k;this.y=f;this.jumping=this.activated=!1;this.shootTicks=this.jumpspeed=0;this.watchedElements=[];this.animations.play();this.stage.addChild(this.animations);
this.tickActions=function(a){var b=this.basicCollision.basicCollision(this);b.down&&!this.jumping&&(this.jumpspeed=0,this.jumping=!0);this.jumping&&b.down&&(this.jumpspeed+=0.5,24<this.jumpspeed&&(this.jumpspeed=24),this.y+=this.jumpspeed);!b.down&&this.jumping&&(this.jumping=!1,this.jumpspeed=0);var d=this.player.x-this.x;200>=Math.abs(d)&&"move"!==this.animations.currentAnimation&&(0<d?(this.animations.scaleX=-1,this.animations.regX=36):this.animations.scaleX=1,this.activated=!0,this.animations.gotoAndPlay("show"));
0===this.shootTicks&&150>Math.abs(d)&&(this.watchedElements.push(new e(c,this.x,this.y,-this.animations.scaleX)),this.shootTicks=300);this.activated&&(b.left&&b.right||(this.animations.scaleX*=-1,this.animations.regX=-1===this.animations.scaleX?36:0),this.x+=1!==this.animations.scaleX?1.75:-1.75);b.down||(b=this.y%24,2<=b&&(this.y-=b-4));this.animations.x=this.x;this.animations.y=this.y;this.watchedElements.forEach(function(b){b.tickActions(a)})};var e=function(a,b,c,d){var e=new createjs.SpriteSheet({images:["images/enemyshot.png"],
frames:{width:16,height:16,count:1},animations:{shot:{frames:[0],next:"shot"}}});this.stage=a;this.direction=d;this.animations=new createjs.Sprite(e,"shot");this.x=b+(1===this.direction?33:-3);this.y=c+12;this.done=!1;this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){this.x+=7*this.direction;this.animations.x=this.x;this.animations.y=this.y;2E3<this.x&&(this.done=!0)}}};function Player(c,b,a){b=new createjs.SpriteSheet({images:["images/businessmanspritesheet.png"],frames:{width:60,height:60,count:18},animations:{stand:{frames:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],next:"stand",speed:0.125},startrun:{frames:[2],next:"run",speed:0.125},run:{frames:[3,4,5],next:"run",speed:0.15},jump:{frames:[10],next:"jump"},standshoot:{frames:[6],next:"standshoot"},runshoot:{frames:[7,8,9],next:"runshoot",speed:0.15},jumpshoot:{frames:[11],next:"jumpshoot"}}});this.stage=c;this.animations=
new createjs.Sprite(b,"stand");this.x=a+30;this.y=30;this.falling=this.jumping=this.goingRightReleased=this.goingLeftReleased=this.goingRight=this.goingLeft=!1;this.jumpreleased=!0;this.shootTicks=this.jumpspeed=0;this.watchedElements=[];this.health=28;this.actions={};this.watchedElements.push(new HealthBar(c,this));document.onkeydown=function(){switch(window.event.keyCode){case 37:this.actions.playerLeft=!0;this.goingLeftReleased=this.actions.playerRight=!1;break;case 39:this.actions.playerRight=
!0;this.goingRightReleased=this.actions.playerLeft=!1;break;case 32:this.actions.playerJump=!0;break;case 67:this.actions.playerAttack=!0;break;case 68:this.actions.playerDebug=!0}}.bind(this);document.onkeyup=function(){switch(window.event.keyCode){case 37:this.actions.playerLeft=!1;this.actions.playerRight=!1;this.goingLeftReleased=!0;break;case 39:this.actions.playerRight=!1;this.actions.playerLeft=!1;this.goingRightReleased=!0;break;case 32:this.actions.playerJump=!1;this.jumpreleased=!0;break;
case 67:this.actions.playerAttack=!1;break;case 68:this.actions.playerDebug=!1}}.bind(this);this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){0<this.shootTicks&&(this.shootTicks--,0===this.shootTicks&&("jumpshoot"===this.animations.currentAnimation?this.animations.gotoAndPlay("jump"):"runshoot"===this.animations.currentAnimation?this.animations.gotoAndPlay("run"):"standshoot"===this.animations.currentAnimation&&this.animations.gotoAndPlay("stand")));this.actions.playerLeft&&
a.collisionResults.leftmove?(this.goingRight=!1,this.goingLeft=!0,this.animations.scaleX=-1,this.animations.regX=60,"run"===this.animations.currentAnimation||"startrun"===this.animations.currentAnimation||"runshoot"===this.animations.currentAnimation||this.jumping||(this.animations.gotoAndPlay("startrun"),this.movementTicks=9)):this.actions.playerRight&&a.collisionResults.rightmove?(this.goingRight=!0,this.goingLeft=!1,this.animations.scaleX=1,this.animations.regX=0,"run"===this.animations.currentAnimation||
"startrun"===this.animations.currentAnimation||"runshoot"===this.animations.currentAnimation||this.jumping||(this.animations.gotoAndPlay("startrun"),this.movementTicks=9)):(this.goingLeft=this.goingRight=!1,"stand"===this.animations.currentAnimation||"standshoot"===this.animations.currentAnimation||this.jumping||(this.animations.gotoAndPlay("stand"),this.movementTicks=9));this.actions.playerJump&&!this.jumping&&a.collisionResults.upmove&&this.jumpreleased?(a.collisionResults.downmove=!0,this.jumpreleased=
!1,this.jumpspeed=-9.75,this.jumping=!0,this.animations.gotoAndPlay("jump")):a.collisionResults.downmove&&!this.jumping?(a.collisionResults.downmove=!0,this.jumpspeed=0,this.jumping=this.falling=!0,this.animations.gotoAndPlay("jump")):this.jumping&&this.jumpreleased&&!this.falling&&4>this.jumpspeed&&(this.jumpspeed=4);this.actions.playerAttack&&0===this.shootTicks&&(this.watchedElements.push(new k(c,this.x,this.y,this.animations.scaleX)),this.shootTicks=15,"jump"===this.animations.currentAnimation?
this.animations.gotoAndPlay("jumpshoot"):"run"===this.animations.currentAnimation?this.animations.gotoAndPlay("runshoot"):"stand"===this.animations.currentAnimation&&this.animations.gotoAndPlay("standshoot"));this.goingRight||this.goingLeft?this.goingRight&&a.collisionResults.rightmove?this.jumping?this.x+=2.65:0<this.movementTicks?(this.x+=0.4,this.movementTicks--):this.x+=2.75:this.goingLeft&&a.collisionResults.leftmove&&(this.jumping?this.x+=-2.65:0<this.movementTicks?(this.x+=-0.4,this.movementTicks--):
this.x+=-2.75):0<this.movementTicks&&(a.collisionResults.rightmove&&a.collisionResults.leftmove?(this.x+=0.8*this.animations.scaleX,this.movementTicks--):this.movementTicks=0);if(this.jumping&&a.collisionResults.downmove&&a.collisionResults.upmove||this.jumping&&a.collisionResults.downmove&&0<this.jumpspeed)this.y+=this.jumpspeed,this.jumpspeed+=0.5,24<this.jumpspeed&&(this.jumpspeed=24);else if(this.jumping&&!a.collisionResults.downmove){this.goingLeft||this.goingRight?this.animations.gotoAndPlay("run"):
this.animations.gotoAndPlay("stand");this.falling=this.jumping=!1;var b=this.y%32;2<=b&&(this.y-=b-4)}else this.jumping&&!a.collisionResults.upmove&&(this.jumpspeed=1,this.y+=this.jumpspeed);this.animations.x=this.x;this.animations.y=this.y;this.watchedElements.forEach(function(b){b.tickActions(a)});this.actions.playerDebug&&console.log(a.collisionResults)};var k=function(a,b,c,g){var h=new createjs.SpriteSheet({images:["images/shot.png"],frames:{width:16,height:16,count:1},animations:{shot:{frames:[0],
next:"shot"}}});this.stage=a;this.direction=g;this.animations=new createjs.Sprite(h,"shot");this.x=b+(1===this.direction?52:-6);this.y=c+27;this.done=!1;this.animations.play();this.stage.addChild(this.animations);this.tickActions=function(a){this.x+=7*this.direction;this.animations.x=this.x;this.animations.y=this.y;2E3<this.x&&(this.done=!0)}}};var stage,watchedElements,player,mapper,tileCollisionDetector,enemies=[],basicCollision;
function init(){stage=new createjs.Stage("gamecanvas");stage.snapToPixelEnabled=!0;stage.canvas.width=1136;stage.canvas.height=640;stage.canvas.style.backgroundColor="#000";watchedElements=[];mapper=new Mapper(stage);mapper.initLayers();player=new Player(stage,mapper.heightOffset,mapper.widthOffset);tileCollisionDetector=new TileCollisionDetector;basicCollision=new BasicCollision(mapper);enemies.push(new PrinterGuy(stage,player,basicCollision,400,100));enemies.push(new PrinterGuy(stage,player,basicCollision,
700,0));watchedElements.push(player);watchedElements.push(enemies[0]);watchedElements.push(enemies[1]);createjs.Ticker.addEventListener("tick",handleTick);createjs.Ticker.useRAF=!0;createjs.Ticker.setFPS(60)}
function handleTick(c){var b={};b.collisionResults=tileCollisionDetector.checkCollisions({leftTop:{x:player.x+12,y:player.y+8},leftBottom:{x:player.x+12,y:player.y+player.animations.spriteSheet._frameHeight-8},bottomLeft:{x:player.x+12+4,y:player.y+player.animations.spriteSheet._frameHeight},bottomRight:{x:player.x+player.animations.spriteSheet._frameWidth-12-4,y:player.y+player.animations.spriteSheet._frameHeight},rightBottom:{x:player.x+player.animations.spriteSheet._frameWidth-12,y:player.y+player.animations.spriteSheet._frameHeight-
8},rightTop:{x:player.x+player.animations.spriteSheet._frameWidth-12,y:player.y+8},topRight:{x:player.x+player.animations.spriteSheet._frameWidth-12-4,y:player.y+8},topLeft:{x:player.x+12+4,y:player.y+8}},mapper.collisionArray,mapper.heightOffset,mapper.widthOffset);watchedElements.forEach(function(a){a.tickActions(b)});stage.update()}init();
